{"version":3,"sources":["Contexto.js","Home.js","images/fondo.jpg","observacion.js","firebase/firebase.js","tareas.js","consulta.js","apikeys.js","registrar.js","Login.js","profile.js","schedule.js","reporteDeTurno.js","minuta.js","Dummy.png","desviaciones.js","reportes_home.js","App.js","serviceWorker.js","index.js"],"names":["Contexto","React","createContext","children","iniciado","sessionStorage","getItem","user","localStorage","useState","setUser","recordar","setRecordar","data","setData","data1","setdata1","data2","setdata2","desviaciones","setDesviaciones","misReq","setMisReq","misTareas","setMisTareas","areas","setAreas","grupoArea","setGrupoArea","reportData","setRepData","pagina","setPagina","window","innerWidth","width","setWidth","tipoReporte","setTipoReporte","personal","j","userData","length","Nombre","push","key","text","value","color","categoria","activo","inactivo","texto","caption","short","gradient","cumple","contexto","colores","breakpoint","Provider","ExcelDateToJSDate","serial","utc_days","Math","floor","date_info","Date","fractional_day","total_seconds","seconds","hours","minutes","getFullYear","getMonth","getDate","FechaStringShort","fecha","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","Home","history","useHistory","setData1","setData2","data3","setData3","setActiveMenu","filtros","setFiltros","estados","name","status","setStatus","useContext","area","setArea","setCategoria","activePeriod","setActPeriod","turno","setTurno","useFitText","fontSize","ref","tiposDeReportes","Array","from","_","index","rubros","categorias_idx","lista","i","title","today","inicioDeSemana","yesterday","setDate","wd","getDay","semana","turnos","periodos","setColores","handleSemana","anno","substring","mes","dia","d","weekday","sacardata","a","datas","creds","require","doc","GoogleSpreadsheet","useServiceAccountAuth","loadInfo","sheet","sheetsById","getRows","rows","columnCount","cols","headerValues","encabezado","lastr","loadCells","startRowIndex","endRowIndex","startColumnIndex","endColumnIndex","getCell","datas_areas","datas_CHKLIST","unique","Set","map","item","grupo","sort","unshift","forEach","x","desv","findIndex","y","SubCategoria","desviacion","Desviacion","Area","Tipo","Incumple","total","arr1","filter","Reporte","FechaRecorrido","orden","reduce","r","o","get","Object","assign","set","Map","values","cumplimiento","isNaN","ceil","b","arr","incumplimientos","miData","misReqs","AreaResponsable","userArea","grupoAreaKey","toLowerCase","split","some","w","includes","misTasks","Responsable","HandleTurnos","e","target","id","valor","tipo","reporte","periodo","cat","lugar","t","numTurno","slice","reporteFiltrado","next","Turno","parseInt","arr2","Categoria","incumple","arr3","cuentaPorUsuario","Usuario","Id","self","abrirFechas","document","getElementById","style","display","cerrarFechas","elem","fechaInicial","fechaFinal","console","log","useEffect","Dimmer","active","page","Loader","className","type","paddingTop","onClick","Segment","basic","Header","as","icon","content","Grid","textAlign","verticalAlign","Row","Button","Group","inverted","borderRadius","Or","columns","Column","size","fluid","Icon","idx","padding","backgroundImage","borderStyle","borderWidth","borderColor","margin","Table","selectable","fixed","Body","Cell","rowSpan","toString","fill","List","divided","Item","avatar","Content","height","marginLeft","marginRight","float","class","visibility","href","overflow","toUpperCase","backgroundColor","opacity","marginTop","overflowY","max","apply","porcentaje","fontWeight","Estatus","Observacion","params","useParams","startDate","dd","mm","yyyy","hora","getHours","minutos","getMinutes","date","toISOString","ar","br","cr","dr","er","fr","gr","hr","ir","jr","kr","lr","mr","nr","or","pr","qr","rr","sr","tr","ur","vr","fecha_hora","nombre","rubro","observaciones","severidad","pac","fecha_cierre","responsable","anexo","confirmado","extension","nueva_fecha","detalle","anexo2","obsDetalle","persObservadas","aplica","personas","join","Container","Image","src","Description","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","auth","firestore","xltoDate","fechaStr","Tareas","myData","setMyData","myPac","setMyPac","activoID","setActivoID","totalPagina","setTotalPagina","setExtension","extDate","setExtDate","setDetalle","previewImg","saving","setSaving","preventDate","setPreventDate","pap","setpap","setImageAsFile","imgUrl","imageAsUrl","setImageAsUrl","setSubir","event","files","imageFile","reader","FileReader","preview","querySelector","onload","setAttribute","result","readAsDataURL","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","err","registrar","extendido","wr","xr","formula","saveUpdatedCells","alignItems","justifyContent","Pagination","defaultActivePage","ellipsisItem","firstItem","lastItem","prevItem","nextItem","totalPages","onPageChange","activePage","round","FechaString","Checkbox","disabled","label","checked","onChange","Input","defaultValue","Form","TextArea","detalle_pac","placeholder","alt","priceEls","querySelectorAll","innerText","click","iniciar","Consultas","dataFound","setDataFound","inicio","setInicio","final","setFinal","activeIndex","setActiveIndex","buscar","setBuscar","creador","setCreador","activeItem","setActiveItem","open","setOpen","keyA","keyB","Modal","onClose","onOpen","image","wrapped","observador","observado","Actions","Accordion","Title","titleProps","Label","Dropdown","multiple","search","selection","prevObject","Meta","Extra","Registros","dummyImg","setID","loading","setLoading","perfil","setPerfil","correo","setCorreo","step","setStep","setTipo","setCat","catData","setCatData","subCatData","setSubCatData","subCat","setSubCat","detalles","setDetalles","que","setQue","donde","setDonde","pacStep","setPacStep","involucrados","setInvolucrados","plan","setPlan","setStartDate","resp","setResp","segCat","useRef","segSubCat","setPreviewImg","imageAsFile","subir","guardar","setGuardar","confirmar","setConfirmar","setSeveridad","imgUpload","setImgUpload","Blob","archivoSelect","error","put","on","snapShot","child","getDownloadURL","then","fireBaseUrl","datas2","sheet2","rows2","handleTipoClick","current","focus","sacarAreas","datosUsuario","Perfil","datoResp","handleCatClick","handleStep","handleArea","UniqueID","now","addRow","Personas_Observadas","Detalle","Aplica","ids","notificar","codigo","templateParams","to_email","fecha_limite","qseb","observacion","imagen","registrado","emailjs","send","apiKeys","response","handleFireBaseUpload","header","actions","positive","labelPosition","Step","ordered","attached","unstackable","completed","Popup","trigger","circular","Ref","innerRef","Card","itemsPerRow","raised","ui","button","scrolling","clearable","handleImageUpload","Login","password","setPassword","maxWidth","stacked","iconPosition","currentTarget","onChangeHandler","preventDefault","found","alert","login","Message","userInfo","floated","negative","removeItem","FechaStringLong","hour","minute","Schedule","persona","setPersona","setLugar","listaArea","setListaArea","setFecha","Fecha","delete","FechaProgramado","sleep","milliseconds","currentDate","ReporteDeTurno","reportes","setReportes","sinFiltro","setSinFiltro","setCheckList","cats","setCats","setRubros","activeRubro","setActRubro","requerimientos","setReq","activeReq","setActiveR","percentage","setPercentage","duplicado","setDuplicado","setTipoRep","existingItems","url","img","archivo","uploadTask","sacarReportes","location","opcional","aplican","indexOf","uniqueID","FechaRegistro","PersonasObservadas","Imagen","handleCategorias","chklist","handleSubCat","handleCheck","chk","HandleTodos","handleOpcional","handleObservados","handleDetalles","handleWindowResize","addEventListener","removeEventListener","keys","element","validar","Divider","secondary","filtro","Radio","left","floating","Acto","reqIdx","requerimiento","pointing","Progress","percent","indicating","success","progress","Minuta","stackable","Desviaciones","estado","setEstado","Status","papName","setPapName","papDesc","setPapDesc","papAreaResp","setPapAreaResp","classList","add","PAPDesc","SolicitadoPor","PAPFechaCreado","save","closeNav","position","papdesc","remove","dummy","border","hidden","selected","ReportHome","slideIdx","setSlideIdx","filtrado","setfiltrado","changeSlide","newIdx","getElementsByClassName","activeMenu","dm7","miReporte","listID","handleMenu","App","visible","setVisible","basename","to","Add","Menu","Link","Sidebar","Pushable","animation","onHide","vertical","direction","Pusher","exact","path","render","props","Boolean","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.d0ab386a.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport userData from \"./employee.json\";\r\n\r\nexport const Contexto = React.createContext(null);\r\n\r\nexport default ({ children }) => {\r\n  let iniciado = null;\r\n  if (sessionStorage.getItem(\"user\")) {\r\n    iniciado = sessionStorage.user;\r\n  } else if (localStorage.getItem(\"user\")) {\r\n    iniciado = localStorage.user;\r\n  }\r\n  const [user, setUser] = useState(iniciado);\r\n  const [recordar, setRecordar] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [data1, setdata1] = useState();\r\n  const [data2, setdata2] = useState();\r\n  const [desviaciones, setDesviaciones] = useState();\r\n  const [misReq, setMisReq] = useState();\r\n  const [misTareas, setMisTareas] = useState();\r\n  const [areas, setAreas] = useState();\r\n  const [grupoArea, setGrupoArea] = useState();\r\n  const [reportData, setRepData] = useState();\r\n  const [pagina, setPagina] = useState();\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  const [tipoReporte, setTipoReporte] = useState();\r\n  const personal = [];\r\n  for (var j = 0; j < userData.length; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n  var breakpoint = 620;\r\n  const color = [\r\n    {\r\n      categoria: \"Calidad\",\r\n      activo: \"#FF5300\",\r\n      inactivo: \"#FF915C\",\r\n      texto: \"white\",\r\n      caption: \"Quality\",\r\n      short: \"Q\",\r\n      gradient: \"linear-gradient(to right,#fc4a1a,#f7b733)\",\r\n      cumple: 100,\r\n    },\r\n    {\r\n      categoria: \"Seguridad\",\r\n      activo: \"#5A0FC4\",\r\n      inactivo: \"#8857D1\",\r\n      texto: \"white\",\r\n      caption: \"Safety\",\r\n      short: \"S\",\r\n      gradient: \"linear-gradient(to right,#8E2DE2,#4A00E0)\",\r\n      cumple: 100,\r\n    },\r\n    {\r\n      categoria: \"Ambiente\",\r\n      activo: \"#00C37E\",\r\n      inactivo: \"#4ACFA0\",\r\n      texto: \"white\",\r\n      caption: \"Environment\",\r\n      short: \"E\",\r\n      gradient: \"linear-gradient(to right,#56ab2f,#a8e063)\",\r\n      cumple: 100,\r\n    },\r\n    {\r\n      categoria: \"Bioseguridad\",\r\n      activo: \"#FFE700\",\r\n      inactivo: \"#FFEF5C\",\r\n      texto: \"black\",\r\n      caption: \"BioS\",\r\n      short: \"B\",\r\n      gradient: \"linear-gradient(to right,#ffe259,#ffa751)\",\r\n      cumple: 100,\r\n    },\r\n  ];\r\n  const [colores, setColores] = useState(color);\r\n  const contexto = {\r\n    user: [user, setUser],\r\n    recordar: [recordar, setRecordar],\r\n    data: [data, setData],\r\n    areas: [areas, setAreas],\r\n    grupoArea: [grupoArea, setGrupoArea],\r\n    reportData: [reportData, setRepData],\r\n    personal: personal,\r\n    colores: [colores, setColores],\r\n    color: color,\r\n    pagina: [pagina, setPagina],\r\n    width: [width, setWidth],\r\n    data1: [data1, setdata1],\r\n    data2: [data2, setdata2],\r\n    desviaciones: [desviaciones, setDesviaciones],\r\n    misReq: [misReq, setMisReq],\r\n    misTareas: [misTareas, setMisTareas],\r\n    tipoReporte: [tipoReporte, setTipoReporte],\r\n    breakpoint: breakpoint,\r\n    userData: userData,\r\n  };\r\n\r\n  return <Contexto.Provider value={contexto}>{children}</Contexto.Provider>;\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport useFitText from \"use-fit-text\";\r\nimport {\r\n  Dimmer,\r\n  Loader,\r\n  Grid,\r\n  Header,\r\n  Button,\r\n  Icon,\r\n  Table,\r\n  Segment,\r\n  List,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction sleep(milliseconds) {\r\n  const date = Date.now();\r\n  let currentDate = null;\r\n  do {\r\n    currentDate = Date.now();\r\n  } while (currentDate - date < milliseconds);\r\n}\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Home({ user }) {\r\n  const history = useHistory();\r\n  const [data, setData] = useState();\r\n  const [data1, setData1] = useState(); // para detallar cada categoria\r\n  const [data2, setData2] = useState(); // para detallar cada categoria por area\r\n  const [data3, setData3] = useState(); // para detallar usuario que reportan\r\n  const [catId, setCatId] = useState();\r\n  const [detalleArea, setDArea] = useState();\r\n  const [activeMenu, setActiveMenu] = useState(\"ReporteT\");\r\n  const [hoy, setHoy] = useState();\r\n  const [ayer, setAyer] = useState();\r\n  const [mes, setMes] = useState();\r\n  const [filtros, setFiltros] = useState(false);\r\n  const [chartData, setChartData] = useState();\r\n  const [chartMes, setChartMes] = useState();\r\n  const [chartRubros, setChartRubros] = useState();\r\n  const [mesAnterior, setMesAnterior] = useState();\r\n  const [aplicable, setAplicable] = useState();\r\n  const [prueba, setPrueba] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const estados = [\r\n    { name: \"saving\", caption: \"Guardando\" },\r\n    { name: \"loading\", caption: \"Cargando\" },\r\n    { name: \"deleting\", caption: \"Borrando\" },\r\n  ];\r\n  const [status, setStatus] = useState();\r\n  const [areas, setAreas] = useState();\r\n  const {\r\n    [\"grupoArea\"]: [grupoArea, setGrupoArea],\r\n  } = useContext(Contexto);\r\n  const [area, setArea] = useState(\"Todas\");\r\n  const [categoria, setCategoria] = useState();\r\n  const [leyendaMes, setLeyendaMes] = useState();\r\n  const [leyenda, setLeyenda] = useState();\r\n  const [activeIndex, setActIdx] = useState();\r\n  const [activePeriod, setActPeriod] = useState(\"Esta Semana\");\r\n  const [turno, setTurno] = useState(\"Todos\");\r\n  const [tipoReporte, setTipoReporte] = useState(\"Reporte de Turno\");\r\n  const { fontSize, ref } = useFitText();\r\n  //Fechas\r\n  //fechas estan erradas hay que corregir\r\n  const dias = Array.from({ length: 31 }, (_, index) => index + 1);\r\n  const meses = Array.from({ length: 12 }, (_, index) => index + 1);\r\n  const tiposDeReportes = [\"Reporte de Turno\", \"Reporte de Recorrido\"];\r\n  const rubros = [\"Seguridad\", \"Calidad\", \"Ambiental\", \"Bioseguridad\"];\r\n  const categorias_idx = [\"Q\", \"S\", \"E\", \"B\"];\r\n  const lista = [];\r\n  for (var i = 0; i < rubros.length; i++) {\r\n    lista.push({ title: rubros[i] });\r\n  }\r\n  let today = new Date();\r\n  let inicioDeSemana = new Date();\r\n  let yesterday = new Date(today);\r\n  yesterday.setDate(yesterday.getDate() - 1);\r\n  let wd = today.getDay();\r\n  wd === 0 ? (wd = 7) : (wd = wd);\r\n  //Fechas\r\n  const [dataSemana, setDS] = useState();\r\n  const [semana, setSemana] = useState(\r\n    FechaStringShort(inicioDeSemana.setDate(inicioDeSemana.getDate() - wd + 1))\r\n  );\r\n  const turnos = [\"Todos\", \"Turno 1\", \"Turno 2\", \"Turno 3\"];\r\n  const periodos = [\"Esta Semana\", \"Este Mes\", \"Hoy\", \"Ayer\", \"Seleccionar\"];\r\n  const [periodo, setPeriodo] = useState();\r\n  const {\r\n    [\"width\"]: [width, setWidth],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"desviaciones\"]: [desviaciones, setDesviaciones],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"misReq\"]: [misReq, setMisReq],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"misTareas\"]: [misTareas, setMisTareas],\r\n  } = useContext(Contexto);\r\n  const { breakpoint: breakpoint } = useContext(Contexto);\r\n  const { userData: userData } = useContext(Contexto);\r\n  const { color: color } = useContext(Contexto);\r\n  const {\r\n    [\"colores\"]: [colores, setColores],\r\n  } = useContext(Contexto);\r\n  function handleSemana(fecha) {\r\n    var anno = fecha.substring(0, 4);\r\n    var mes = fecha.substring(5, 7);\r\n    var dia = fecha.substring(8, 10);\r\n    var d = new Date(anno, mes - 1, dia);\r\n    let weekday = d.getDay();\r\n    weekday === 0 ? (weekday = 7) : (weekday = weekday);\r\n    d.setDate(d.getDate() - weekday + 1);\r\n    return FechaStringShort(d);\r\n  }\r\n\r\n  const sacardata = async () => {\r\n    setStatus(estados[1].caption);\r\n    let data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    let sheet = doc.sheetsById[1249329599];\r\n    let rows = await sheet.getRows();\r\n    let cols = await sheet.columnCount;\r\n    let encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    //AREAS\r\n    sheet = doc.sheetsById[1705686078];\r\n    rows = await sheet.getRows();\r\n    cols = await sheet.columnCount;\r\n    encabezado = await sheet.headerValues;\r\n    let datas_areas = [];\r\n    lastr = rows.length + 1;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas_areas.push(data);\r\n    }\r\n    setAreas(datas_areas);\r\n    //CHECK LIST\r\n    sheet = doc.sheetsById[1259390435];\r\n    rows = await sheet.getRows();\r\n    cols = await sheet.columnCount;\r\n    encabezado = await sheet.headerValues;\r\n    let datas_CHKLIST = [];\r\n    lastr = rows.length + 1;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas_CHKLIST.push(data);\r\n    }\r\n    const unique = [...new Set(datas_areas.map((item) => item.grupo))];\r\n    unique.sort();\r\n    unique.unshift(\"Todas\");\r\n    setGrupoArea(unique);\r\n    //AREAS\r\n    datas.forEach((x) => {\r\n      let desv = datas_CHKLIST.findIndex(\r\n        (y) => y.SubCategoria === x.SubCategoria\r\n      );\r\n      if (desv === -1) {\r\n        x.desviacion = x.SubCategoria;\r\n      } else {\r\n        x.desviacion = datas_CHKLIST[desv].Desviacion;\r\n      }\r\n      x.grupo =\r\n        datas_areas[datas_areas.findIndex((y) => y.name === x.Area)].grupo;\r\n      x.short = colores[colores.findIndex((y) => y.categoria === x.Tipo)].short;\r\n      x.activo =\r\n        colores[colores.findIndex((y) => y.categoria === x.Tipo)].activo;\r\n      x.inactivo =\r\n        colores[colores.findIndex((y) => y.categoria === x.Tipo)].inactivo;\r\n      x.gradient =\r\n        colores[colores.findIndex((y) => y.categoria === x.Tipo)].gradient;\r\n      x.caption =\r\n        colores[colores.findIndex((y) => y.categoria === x.Tipo)].caption;\r\n      x.texto = colores[colores.findIndex((y) => y.categoria === x.Tipo)].texto;\r\n      if (x.Incumple === \"Y\") {\r\n        x.cumple = 0;\r\n      } else {\r\n        x.cumple = 1;\r\n      }\r\n      x.total = 1;\r\n    });\r\n    let arr1 = datas\r\n      .filter(\r\n        (item) =>\r\n          item.Reporte === tipoReporte &&\r\n          handleSemana(\r\n            FechaStringShort(ExcelDateToJSDate(item.FechaRecorrido))\r\n          ) == semana\r\n      )\r\n      .map(\r\n        ({\r\n          Tipo,\r\n          short,\r\n          caption,\r\n          texto,\r\n          activo,\r\n          inactivo,\r\n          gradient,\r\n          cumple,\r\n          total,\r\n        }) => ({\r\n          Tipo,\r\n          short,\r\n          caption,\r\n          texto,\r\n          activo,\r\n          inactivo,\r\n          gradient,\r\n          cumple,\r\n          total,\r\n        })\r\n      );\r\n\r\n    arr1.forEach((x) => {\r\n      x.categoria = x.Tipo;\r\n      delete x.Tipo;\r\n      x.orden = categorias_idx.findIndex((y) => y === x.short);\r\n    });\r\n    arr1 = [\r\n      ...arr1\r\n        .reduce((r, o) => {\r\n          const key = o.categoria;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    arr1.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.ceil((x.cumple / x.total) * 100) + \"%\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    arr1.sort((a, b) => a.orden - b.orden);\r\n\r\n    setData(datas);\r\n    let arr = [...colores];\r\n    arr.forEach((x) => {\r\n      let cumplimiento =\r\n        arr1.filter((item) => item.categoria === x.categoria).length != 0\r\n          ? arr1.filter((item) => item.categoria === x.categoria)[0]\r\n              .cumplimiento\r\n          : \"-\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setColores(arr);\r\n    let incumplimientos = datas.filter((x) => x.Incumple === \"Y\");\r\n    let miData = incumplimientos;\r\n    let misReqs = incumplimientos.filter((x) => x.AreaResponsable !== null);\r\n    let misTasks;\r\n    if (user) {\r\n      var userArea = userData.filter((x) => x.Nombre === user)[0].Area;\r\n      let grupoAreaKey = datas_areas.filter((y) =>\r\n        y[\"keys\"]\r\n          .toLowerCase()\r\n          .split(\", \")\r\n          .some((w) => userArea.toLowerCase().includes(w))\r\n      );\r\n      if (!userArea.toLowerCase().includes(\"gerencia\")) {\r\n        miData = miData.filter((x) => x.grupo === grupoAreaKey[0].grupo);\r\n        misReqs = incumplimientos.filter(\r\n          (x) => x.AreaResponsable === grupoAreaKey[0].grupo\r\n        );\r\n      }\r\n      misTasks = incumplimientos.filter((x) => x.Responsable === user);\r\n    }\r\n    setDesviaciones(miData);\r\n    setMisReq(misReqs);\r\n    misTasks && setMisTareas(misTasks);\r\n    setStatus();\r\n  };\r\n\r\n  function HandleTurnos(e) {\r\n    const { name, id } = e.target;\r\n    var valor = e.target.id;\r\n    var tipo = e.target.name;\r\n    if (!tipo) {\r\n      tipo = name;\r\n    }\r\n    if (!valor) {\r\n      valor = id;\r\n    }\r\n    if (!tipo) {\r\n      if (valor.includes(\"Reporte\")) {\r\n        tipo = \"Reporte\";\r\n      }\r\n    }\r\n    if (tipo) {\r\n      let reporte = tipoReporte;\r\n      let periodo = activePeriod;\r\n      let cat = categoria;\r\n      let lugar = area;\r\n      let t = turno;\r\n      let numTurno = t.slice(-1);\r\n      setCategoria();\r\n      if (tipo.includes(\"Turno\")) {\r\n        setTurno(valor);\r\n        numTurno = valor.slice(-1);\r\n        t = valor;\r\n      } else if (tipo.includes(\"Reporte\") | tipo.includes(\"clipboard\")) {\r\n        setActiveMenu(tipo);\r\n        setTipoReporte(valor);\r\n        reporte = valor;\r\n      } else if (tipo.includes(\"Area\")) {\r\n        setArea(valor);\r\n        lugar = valor;\r\n      } else if (tipo.includes(\"btn\")) {\r\n        setCategoria(valor);\r\n        cat = valor;\r\n      } else {\r\n        setActPeriod(valor);\r\n        periodo = valor;\r\n      }\r\n      const reporteFiltrado = data.filter(\r\n        (next) =>\r\n          next.Reporte === reporte &&\r\n          (periodo === \"Esta Semana\"\r\n            ? handleSemana(\r\n                FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido))\r\n              ) == semana\r\n            : periodo === \"Este Mes\"\r\n            ? FechaStringShort(\r\n                ExcelDateToJSDate(next.FechaRecorrido)\r\n              ).substring(5, 7) === FechaStringShort(today).substring(5, 7)\r\n            : periodo === \"Hoy\"\r\n            ? FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido)) ===\r\n              FechaStringShort(today)\r\n            : periodo === \"Ayer\"\r\n            ? FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido)) ===\r\n              FechaStringShort(yesterday)\r\n            : true) &&\r\n          (reporte.includes(\"Turno\") && t !== \"Todos\"\r\n            ? next.Turno === parseInt(numTurno)\r\n            : true) &&\r\n          (lugar !== \"Todas\" ? next.grupo === lugar : true)\r\n      );\r\n      let arr1 = reporteFiltrado.map(\r\n        ({\r\n          Tipo,\r\n          short,\r\n          caption,\r\n          texto,\r\n          activo,\r\n          inactivo,\r\n          gradient,\r\n          cumple,\r\n          total,\r\n        }) => ({\r\n          Tipo,\r\n          short,\r\n          caption,\r\n          texto,\r\n          activo,\r\n          inactivo,\r\n          gradient,\r\n          cumple,\r\n          total,\r\n        })\r\n      );\r\n      arr1.forEach((x) => {\r\n        x.categoria = x.Tipo;\r\n        delete x.Tipo;\r\n        x.orden = categorias_idx.findIndex((y) => y === x.short);\r\n      });\r\n      arr1 = [\r\n        ...arr1\r\n          .reduce((r, o) => {\r\n            const key = o.categoria;\r\n            const item =\r\n              r.get(key) ||\r\n              Object.assign({}, o, {\r\n                cumple: 0,\r\n                total: 0,\r\n              });\r\n\r\n            item.cumple += o.cumple;\r\n            item.total += o.total;\r\n            return r.set(key, item);\r\n          }, new Map())\r\n          .values(),\r\n      ];\r\n      arr1.forEach((x) => {\r\n        var cumplimiento = isNaN(x.cumple / x.total)\r\n          ? \"-\"\r\n          : Math.ceil((x.cumple / x.total) * 100) + \"%\";\r\n        x.cumplimiento = cumplimiento;\r\n      });\r\n      arr1.sort((a, b) => a.orden - b.orden);\r\n      let arr = [...colores];\r\n      arr.forEach((x) => {\r\n        let cumplimiento =\r\n          arr1.filter((item) => item.categoria === x.categoria).length != 0\r\n            ? arr1.filter((item) => item.categoria === x.categoria)[0]\r\n                .cumplimiento\r\n            : \"-\";\r\n        x.cumplimiento = cumplimiento;\r\n      });\r\n      setColores(arr);\r\n      if (tipo.includes(\"btn\") || cat) {\r\n        let arr2 = reporteFiltrado\r\n          .filter((item) => item.Tipo == valor && item.Incumple == \"Y\")\r\n          .map(\r\n            ({\r\n              Tipo,\r\n              Categoria,\r\n              SubCategoria,\r\n              Area,\r\n              short,\r\n              caption,\r\n              texto,\r\n              activo,\r\n              inactivo,\r\n              gradient,\r\n            }) => ({\r\n              Tipo,\r\n              Categoria,\r\n              SubCategoria,\r\n              Area,\r\n              short,\r\n              caption,\r\n              texto,\r\n              activo,\r\n              inactivo,\r\n              gradient,\r\n            })\r\n          );\r\n        arr2.forEach((x) => {\r\n          x.incumple = 1;\r\n          x.orden = categorias_idx.findIndex((y) => y === x.short);\r\n        });\r\n        let arr3 = arr2.map(({ Area, ...remainingAttrs }) => remainingAttrs);\r\n        arr3 = [\r\n          ...arr3\r\n            .reduce((r, o) => {\r\n              const key = o.Tipo + \"-\" + o.Categoria;\r\n              const item =\r\n                r.get(key) ||\r\n                Object.assign({}, o, {\r\n                  incumple: 0,\r\n                });\r\n\r\n              item.incumple += o.incumple;\r\n              return r.set(key, item);\r\n            }, new Map())\r\n            .values(),\r\n        ];\r\n        arr2 = [\r\n          ...arr2\r\n            .reduce((r, o) => {\r\n              const key = o.Tipo + \"-\" + o.Categoria + \"-\" + o.SubCategoria;\r\n              const item =\r\n                r.get(key) ||\r\n                Object.assign({}, o, {\r\n                  incumple: 0,\r\n                });\r\n\r\n              item.incumple += o.incumple;\r\n              return r.set(key, item);\r\n            }, new Map())\r\n            .values(),\r\n        ];\r\n        arr3.sort((a, b) => b.incumple - a.incumple);\r\n        arr2.sort((a, b) => b.incumple - a.incumple);\r\n        setData1(arr3);\r\n        setData2(arr2);\r\n      }\r\n      let registrosPorUsuario = reporteFiltrado.map(\r\n        ({\r\n          Tipo,\r\n          Usuario,\r\n          Id,\r\n          short,\r\n          caption,\r\n          texto,\r\n          activo,\r\n          inactivo,\r\n          gradient,\r\n          cumple,\r\n          total,\r\n          Reporte,\r\n        }) => ({\r\n          Tipo,\r\n          Usuario,\r\n          Id,\r\n          short,\r\n          caption,\r\n          texto,\r\n          activo,\r\n          inactivo,\r\n          gradient,\r\n          cumple,\r\n          total,\r\n          Reporte,\r\n        })\r\n      );\r\n      let cuentaPorUsuario = registrosPorUsuario.map(\r\n        ({ Usuario, Id, Reporte }) => ({\r\n          Usuario,\r\n          Id,\r\n          Reporte,\r\n        })\r\n      );\r\n      cuentaPorUsuario = cuentaPorUsuario.filter(\r\n        (value, index, self) =>\r\n          index ===\r\n          self.findIndex(\r\n            (t) =>\r\n              t.Usuario === value.Usuario &&\r\n              t.Id === value.Id &&\r\n              t.Reporte === value.Reporte\r\n          )\r\n      );\r\n      setData3(cuentaPorUsuario);\r\n    }\r\n  }\r\n  const arr = [\"Q\", \"S\", \"E\", \"B\"];\r\n  const arr1 = [\"Top\", \"Status\", \"Cumplimiento\"];\r\n  const filtros2 = [\"Tipo\", \"Fecha\", \"Area\", \"Turno\"];\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    } else {\r\n    }\r\n  }, []);\r\n\r\n  function abrirFechas() {\r\n    var elem = document.getElementById(\"fechas\");\r\n    elem.style.display = \"block\";\r\n  }\r\n\r\n  function cerrarFechas() {\r\n    var elem = document.getElementById(\"fechas\");\r\n    var fechaInicial = document.getElementById(\"inicio\");\r\n    var fechaFinal = document.getElementById(\"final\");\r\n    console.log(fechaFinal.value > fechaInicial.value);\r\n    elem.style.display = \"none\";\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dimmer\r\n        active={\r\n          status || estados.filter((x) => x.caption === status).length != 0\r\n        }\r\n        page\r\n      >\r\n        <Loader>{status}</Loader>\r\n      </Dimmer>\r\n      <div id=\"fechas\" className=\"fechas\">\r\n        <div className=\"selectFechas\">\r\n          <div>Fecha Inicio</div>\r\n          <input type=\"date\" id=\"inicio\"></input>\r\n          <div>Fecha Final</div>\r\n          <input type=\"date\" id=\"final\"></input>\r\n          <div style={{ width: \"100%\", paddingTop: \"5px\" }}>\r\n            <button\r\n              id=\"fechaOK\"\r\n              onClick={cerrarFechas}\r\n              style={{ display: \"inline-block\" }}\r\n            >\r\n              Aceptar\r\n            </button>\r\n            <button\r\n              id=\"fechaCancel\"\r\n              onClick={cerrarFechas}\r\n              style={{ display: \"inline-block\" }}\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {width <= breakpoint ? (\r\n        <>\r\n          <Segment basic>\r\n            <Header as=\"h2\" icon=\"dashboard\" color=\"red\" content=\"Dashboard\" />\r\n          </Segment>\r\n\r\n          <Grid textAlign=\"center\" verticalAlign=\"middle\">\r\n            <Grid.Row>\r\n              <Header>\r\n                <Button.Group>\r\n                  <Button\r\n                    id=\"Reporte de Turno\"\r\n                    color=\"red\"\r\n                    name=\"ReporteT\"\r\n                    inverted={tipoReporte !== \"Reporte de Turno\"}\r\n                    style={{ borderRadius: \"15px\" }}\r\n                    onClick={HandleTurnos}\r\n                  >\r\n                    Reporte de Turno\r\n                  </Button>\r\n                  <Button.Or color=\"red\" text={\"o\"} />\r\n                  <Button\r\n                    id=\"Reporte de Recorrido\"\r\n                    color=\"red\"\r\n                    name=\"ReporteR\"\r\n                    inverted={tipoReporte !== \"Reporte de Recorrido\"}\r\n                    style={{ borderRadius: \"15px\" }}\r\n                    onClick={HandleTurnos}\r\n                  >\r\n                    Reporte de Recorrido\r\n                  </Button>\r\n                </Button.Group>\r\n              </Header>\r\n            </Grid.Row>\r\n            <Grid.Row columns={4}>\r\n              <Grid.Column>\r\n                <Button\r\n                  size=\"mini\"\r\n                  basic\r\n                  style={{ borderRadius: \"15px\" }}\r\n                  fluid\r\n                  onClick={() => {\r\n                    filtros ? setFiltros(false) : setFiltros(true);\r\n                  }}\r\n                >\r\n                  <Icon name=\"arrow down\"></Icon> Filtros\r\n                </Button>\r\n              </Grid.Column>\r\n              <Grid.Column></Grid.Column>\r\n              <Grid.Column></Grid.Column>\r\n              <Grid.Column></Grid.Column>\r\n            </Grid.Row>\r\n            {filtros && (\r\n              <>\r\n                <b>Periodo</b>\r\n                <Grid.Row>\r\n                  {periodos.map((x, idx) => {\r\n                    return (\r\n                      <Grid.Column width={4} style={{ padding: \"2px\" }}>\r\n                        <Button\r\n                          size=\"tiny\"\r\n                          color=\"red\"\r\n                          inverted\r\n                          content={x}\r\n                          name={\"Periodo\" + idx}\r\n                          id={x}\r\n                          active={activePeriod === x}\r\n                          fluid\r\n                          style={{ borderRadius: \"15px\" }}\r\n                          onClick={\r\n                            x === \"Seleccionar\" ? abrirFechas : HandleTurnos\r\n                          }\r\n                        />\r\n                      </Grid.Column>\r\n                    );\r\n                  })}\r\n                </Grid.Row>\r\n                <b>Area</b>\r\n                <Grid.Row>\r\n                  {grupoArea.map((x, idx) => {\r\n                    return (\r\n                      <Grid.Column width={5} style={{ padding: \"2px\" }}>\r\n                        <Button\r\n                          size=\"tiny\"\r\n                          color=\"red\"\r\n                          inverted\r\n                          content={x}\r\n                          name={\"Area\" + idx}\r\n                          id={x}\r\n                          active={area === x}\r\n                          fluid\r\n                          style={{ borderRadius: \"15px\" }}\r\n                          onClick={HandleTurnos}\r\n                        />\r\n                      </Grid.Column>\r\n                    );\r\n                  })}\r\n                </Grid.Row>\r\n                {tipoReporte === \"Reporte de Turno\" && <b>Turno</b>}\r\n                <Grid.Row columns=\"equal\">\r\n                  {tipoReporte === \"Reporte de Turno\" &&\r\n                    turnos.map((x, idx) => {\r\n                      return (\r\n                        <Grid.Column>\r\n                          <Button\r\n                            size=\"small\"\r\n                            color=\"red\"\r\n                            inverted\r\n                            content={x}\r\n                            name={\"Turno\" + idx}\r\n                            id={x}\r\n                            active={turno === x}\r\n                            fluid\r\n                            style={{ borderRadius: \"15px\" }}\r\n                            onClick={HandleTurnos}\r\n                          />\r\n                        </Grid.Column>\r\n                      );\r\n                    })}\r\n                </Grid.Row>\r\n              </>\r\n            )}\r\n            {width <= breakpoint && data && (\r\n              <Grid.Row columns={2}>\r\n                {colores.map((x, idx) => {\r\n                  if (idx < 2) {\r\n                    return (\r\n                      <Grid.Column>\r\n                        <Button\r\n                          id={x.categoria}\r\n                          name={\"btn\" + x.short}\r\n                          onClick={HandleTurnos}\r\n                          fluid\r\n                          style={{\r\n                            backgroundImage: x.gradient,\r\n                            color: x.texto,\r\n                            borderRadius: \"10px\",\r\n                          }}\r\n                        >\r\n                          <h1\r\n                            id={x.categoria}\r\n                            name={\"btn_title\" + x.short}\r\n                            style={{\r\n                              color: x.texto,\r\n                              borderRadius: \"10px\",\r\n                            }}\r\n                          >\r\n                            {x.cumplimiento}\r\n                          </h1>\r\n                          <p\r\n                            id={x.categoria}\r\n                            name={\"btn_text\" + x.short}\r\n                            style={{\r\n                              color: x.texto,\r\n                              borderRadius: \"10px\",\r\n                            }}\r\n                          >\r\n                            {x.categoria}\r\n                          </p>\r\n                        </Button>\r\n                      </Grid.Column>\r\n                    );\r\n                  }\r\n                })}\r\n              </Grid.Row>\r\n            )}\r\n            {width <= breakpoint && data && (\r\n              <Grid.Row columns={2}>\r\n                {colores.map((x, idx) => {\r\n                  if (idx >= 2) {\r\n                    return (\r\n                      <Grid.Column>\r\n                        <Button\r\n                          id={x.categoria}\r\n                          name={\"btn\" + x.short}\r\n                          onClick={HandleTurnos}\r\n                          fluid\r\n                          style={{\r\n                            backgroundImage: x.gradient,\r\n                            color: x.texto,\r\n                            borderRadius: \"10px\",\r\n                          }}\r\n                        >\r\n                          <h1\r\n                            id={x.categoria}\r\n                            name={\"btn_title\" + x.short}\r\n                            style={{\r\n                              color: x.texto,\r\n                              borderRadius: \"10px\",\r\n                            }}\r\n                          >\r\n                            {x.cumplimiento}\r\n                          </h1>\r\n                          <p\r\n                            id={x.categoria}\r\n                            name={\"btn_text\" + x.short}\r\n                            style={{\r\n                              color: x.texto,\r\n                              borderRadius: \"10px\",\r\n                            }}\r\n                          >\r\n                            {x.categoria}\r\n                          </p>\r\n                        </Button>\r\n                      </Grid.Column>\r\n                    );\r\n                  }\r\n                })}\r\n              </Grid.Row>\r\n            )}\r\n            {width > breakpoint && data && (\r\n              <Grid.Row columns={4}>\r\n                {colores.map((x, idx) => {\r\n                  return (\r\n                    <Grid.Column>\r\n                      <Button\r\n                        id={x.categoria}\r\n                        name={\"btn\" + x.short}\r\n                        onClick={HandleTurnos}\r\n                        fluid\r\n                        style={{\r\n                          backgroundImage: x.gradient,\r\n                          color: x.texto,\r\n                          borderRadius: \"10px\",\r\n                        }}\r\n                      >\r\n                        <h1\r\n                          id={x.categoria}\r\n                          name={\"btn_title\" + x.short}\r\n                          style={{\r\n                            color: x.texto,\r\n                            borderRadius: \"10px\",\r\n                          }}\r\n                        >\r\n                          {x.cumplimiento}\r\n                        </h1>\r\n                        <p\r\n                          id={x.categoria}\r\n                          name={\"btn_text\" + x.short}\r\n                          style={{\r\n                            color: x.texto,\r\n                            borderRadius: \"10px\",\r\n                          }}\r\n                        >\r\n                          {x.categoria}\r\n                        </p>\r\n                      </Button>\r\n                    </Grid.Column>\r\n                  );\r\n                })}\r\n              </Grid.Row>\r\n            )}\r\n          </Grid>\r\n          <br />\r\n          {categoria && data1.filter((x) => x.Tipo === categoria).length != 0 && (\r\n            <Segment\r\n              basic\r\n              style={{\r\n                borderStyle: \"solid\",\r\n                borderWidth: \"2px\",\r\n                borderColor: data1[0].inactivo,\r\n                borderRadius: \"15px\",\r\n                margin: \"auto\",\r\n              }}\r\n            >\r\n              <Grid>\r\n                <Grid.Row>\r\n                  <Grid.Column>\r\n                    {data1 && data2 && <Header as=\"h1\">{categoria}</Header>}\r\n                  </Grid.Column>\r\n                </Grid.Row>\r\n                <Grid.Row columns={1} padding>\r\n                  <Grid.Column>\r\n                    {categoria === \"Bioseguridad\" &&\r\n                      data2.filter((x) => x.Tipo === categoria).length != 0 && (\r\n                        <Table selectable fixed>\r\n                          <Table.Body>\r\n                            <Table.Row>\r\n                              <Table.Cell\r\n                                rowSpan={data2\r\n                                  .filter((x) => x.Tipo === categoria)\r\n                                  .length.toString()}\r\n                              >\r\n                                <Header as=\"h2\">Bioseguridad</Header>\r\n                              </Table.Cell>\r\n                              <Table.Cell>\r\n                                {\r\n                                  data2.filter((x) => x.Tipo === categoria)[0]\r\n                                    .SubCategoria\r\n                                }\r\n                              </Table.Cell>\r\n                              <Table.Cell>\r\n                                {data2.filter((x) => x.Tipo === categoria)[0]\r\n                                  .incumple &&\r\n                                  Array(\r\n                                    data2.filter((x) => x.Tipo === categoria)[0]\r\n                                      .incumple\r\n                                  )\r\n                                    .fill(0)\r\n                                    .map((_, i) => (\r\n                                      <Icon name=\"x\" color=\"red\"></Icon>\r\n                                    ))}\r\n                              </Table.Cell>\r\n                            </Table.Row>\r\n                            {data2\r\n                              .filter((x) => x.Tipo === categoria)\r\n                              .map((x, idx) => {\r\n                                if (idx > 0) {\r\n                                  return (\r\n                                    <Table.Row>\r\n                                      <Table.Cell>{x.SubCategoria}</Table.Cell>\r\n                                      <Table.Cell>\r\n                                        {x.incumple &&\r\n                                          Array(x.incumple)\r\n                                            .fill(0)\r\n                                            .map((_, i) => (\r\n                                              <Icon name=\"x\" color=\"red\"></Icon>\r\n                                            ))}\r\n                                      </Table.Cell>\r\n                                    </Table.Row>\r\n                                  );\r\n                                }\r\n                              })}\r\n                          </Table.Body>\r\n                        </Table>\r\n                      )}\r\n                    {data1 && categoria !== \"Bioseguridad\" && (\r\n                      <Table fixed selectable>\r\n                        <Table.Body>\r\n                          {data1 &&\r\n                            categoria !== \"Bioseguridad\" &&\r\n                            data1.map((x) => {\r\n                              return (\r\n                                <>\r\n                                  <Table.Row\r\n                                    onClick={() => {\r\n                                      console.log(data2);\r\n                                    }}\r\n                                  >\r\n                                    <Table.Cell>\r\n                                      <Header as=\"h2\">{x.Categoria}</Header>\r\n                                    </Table.Cell>\r\n                                    <Table.Cell>\r\n                                      {x.incumple &&\r\n                                        Array(x.incumple)\r\n                                          .fill(0)\r\n                                          .map((_, i) => (\r\n                                            <Icon name=\"x\" color=\"red\"></Icon>\r\n                                          ))}\r\n                                    </Table.Cell>\r\n                                  </Table.Row>\r\n                                </>\r\n                              );\r\n                            })}\r\n                        </Table.Body>\r\n                      </Table>\r\n                    )}\r\n                  </Grid.Column>\r\n                </Grid.Row>\r\n              </Grid>\r\n            </Segment>\r\n          )}\r\n          {data3 && data3.length > 0 && (\r\n            <Segment>\r\n              <Header>Registros por Usuario</Header>\r\n              <List divided verticalAlign=\"middle\" size=\"huge\">\r\n                {[\r\n                  ...new Map(\r\n                    data3.map((item) => [item[\"Usuario\"], item])\r\n                  ).values(),\r\n                ].map((x) => {\r\n                  return (\r\n                    <List.Item>\r\n                      <Icon avatar name=\"user circle outline\" size=\"big\" />\r\n                      <List.Content>{x.Usuario}</List.Content>\r\n                      <List.Content>\r\n                        {tipoReporte}:{\" \"}\r\n                        {\r\n                          data3.filter(\r\n                            (item) =>\r\n                              item.Usuario === x.Usuario &&\r\n                              item.Reporte === tipoReporte\r\n                          ).length\r\n                        }\r\n                      </List.Content>\r\n                    </List.Item>\r\n                  );\r\n                })}\r\n              </List>\r\n            </Segment>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div style={{ width: \"100%\", height: \"100%\" }}>\r\n          <div\r\n            style={{\r\n              width: \"98%\",\r\n              marginLeft: \"1%\",\r\n              marginRight: \"1%\",\r\n              padding: \"1%\",\r\n              height: \"10%\",\r\n            }}\r\n          >\r\n            <Header as=\"h2\" icon=\"dashboard\" content=\"Dashboard\" color=\"red\" />\r\n          </div>\r\n          <div\r\n            style={{\r\n              float: \"left\",\r\n              width: \"64.5%\",\r\n              marginLeft: \"1%\",\r\n              marginRight: \"0.5%\",\r\n              height: \"90%\",\r\n            }}\r\n          >\r\n            <div style={{ width: \"100%\", height: \"33%\" }}>\r\n              {filtros2.map((x) => {\r\n                return (\r\n                  <div\r\n                    class=\"dropdown\"\r\n                    style={{\r\n                      visibility:\r\n                        x === \"Turno\" && tipoReporte === \"Reporte de Recorrido\"\r\n                          ? \"hidden\"\r\n                          : \"\",\r\n                    }}\r\n                  >\r\n                    <button class=\"dropbtn\">\r\n                      {x === \"Fecha\"\r\n                        ? activePeriod === \"Seleccionar\"\r\n                          ? x\r\n                          : activePeriod\r\n                        : x === \"Area\"\r\n                        ? area !== \"Todas\"\r\n                          ? area\r\n                          : \"Areas - Todas\"\r\n                        : x === \"Turno\"\r\n                        ? turno === \"Todos\"\r\n                          ? \"Turno - Todos\"\r\n                          : turno\r\n                        : x === \"Tipo\"\r\n                        ? tipoReporte\r\n                        : \"\"}\r\n                    </button>\r\n                    <div class=\"dropdown-content\">\r\n                      {x === \"Tipo\" &&\r\n                        tiposDeReportes.map((y, idx) => {\r\n                          return (\r\n                            <a\r\n                              href=\"#\"\r\n                              name={idx === 0 ? \"ReporteT\" : \"ReporteR\"}\r\n                              id={y}\r\n                              onClick={HandleTurnos}\r\n                            >\r\n                              {y}\r\n                            </a>\r\n                          );\r\n                        })}\r\n                      {x === \"Fecha\" &&\r\n                        periodos.map((y, idx) => {\r\n                          return (\r\n                            <a\r\n                              href=\"#\"\r\n                              name={\"Periodo\" + idx}\r\n                              id={y}\r\n                              onClick={\r\n                                y === \"Seleccionar\" ? abrirFechas : HandleTurnos\r\n                              }\r\n                            >\r\n                              {y}\r\n                            </a>\r\n                          );\r\n                        })}\r\n                      {x === \"Area\" &&\r\n                        grupoArea &&\r\n                        grupoArea.map((y, idx) => {\r\n                          return (\r\n                            <a\r\n                              href=\"#\"\r\n                              name={\"Area\" + idx}\r\n                              id={y}\r\n                              onClick={HandleTurnos}\r\n                            >\r\n                              {y}\r\n                            </a>\r\n                          );\r\n                        })}\r\n                      {x === \"Turno\" &&\r\n                        turnos &&\r\n                        turnos.map((y, idx) => {\r\n                          return (\r\n                            <a\r\n                              href=\"#\"\r\n                              name={\"Turno\" + idx}\r\n                              id={y}\r\n                              onClick={HandleTurnos}\r\n                            >\r\n                              {y}\r\n                            </a>\r\n                          );\r\n                        })}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              {color.map((x) => {\r\n                return (\r\n                  <div\r\n                    style={{\r\n                      width: \"23%\",\r\n                      backgroundImage: x.gradient,\r\n                      height: \"58%\",\r\n                      margin: \"1%\",\r\n                      padding: \"1.5%\",\r\n                      borderRadius: \"5%\",\r\n                      display: \"inline-block\",\r\n                      overflow: \"hidden\",\r\n                    }}\r\n                  >\r\n                    <h1\r\n                      style={{\r\n                        width: \"100%\",\r\n                        textAlign: \"center\",\r\n                        color: x.texto,\r\n                      }}\r\n                    >\r\n                      {colores\r\n                        ? colores[\r\n                            colores.findIndex(\r\n                              (y) => y.categoria === x.categoria\r\n                            )\r\n                          ].cumplimiento\r\n                        : \"-\"}\r\n                    </h1>\r\n                    <h2\r\n                      ref={ref}\r\n                      style={{\r\n                        fontSize,\r\n                        width: \"100%\",\r\n                        textAlign: \"center\",\r\n                        color: x.texto,\r\n                      }}\r\n                    >\r\n                      {x.categoria.toUpperCase()}\r\n                    </h2>\r\n                  </div>\r\n                );\r\n              })}\r\n              {color.map((x) => {\r\n                return (\r\n                  <div\r\n                    style={{\r\n                      width: \"23%\",\r\n                      backgroundColor:\r\n                        categoria === x.categoria ? x.activo : x.inactivo,\r\n                      color: x.texto,\r\n                      opacity: categoria === x.categoria ? \"1\" : \"0.5\",\r\n                      height: \"15%\",\r\n                      marginLeft: \"1%\",\r\n                      marginRight: \"1%\",\r\n                      padding: \"1%\",\r\n                      borderRadius: \"5%\",\r\n                      textAlign: \"center\",\r\n                      display: \"inline-block\",\r\n                    }}\r\n                  >\r\n                    <a\r\n                      className=\"categoria\"\r\n                      id={x.categoria}\r\n                      name={\"btn\" + x.short}\r\n                      onClick={HandleTurnos}\r\n                      href=\"#\"\r\n                      style={{ color: x.texto, width: \"100%\" }}\r\n                    >\r\n                      Detalle\r\n                    </a>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            <div\r\n              onClick={() => {\r\n                console.log(data1, data2, data3);\r\n              }}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"66%\",\r\n                marginTop: \"1%\",\r\n                backgroundColor: \"rgba(192 , 192, 192, 0.2)\",\r\n                borderRadius: \"2%\",\r\n                padding: \"1.5%\",\r\n              }}\r\n            >\r\n              {categoria && (\r\n                <div\r\n                  className=\"tooltip\"\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"10%\",\r\n                    padding: \"1.5%\",\r\n                    fontSize: \"100%\",\r\n                  }}\r\n                >\r\n                  {categoria.toUpperCase()}\r\n                  <i class=\"material-icons\">help_outline</i>\r\n                  <span class=\"tooltiptext\">\r\n                    Cantidad de registro por rubro\r\n                  </span>\r\n                </div>\r\n              )}\r\n              <div\r\n                style={{\r\n                  height: \"89%\",\r\n                  marginTop: \"1%\",\r\n                  width: \"100%\",\r\n                  backgroundColor: \"white\",\r\n                  overflowY: \"auto\",\r\n                }}\r\n              >\r\n                {data2 &&\r\n                  data2.map((x) => {\r\n                    var max = Math.max.apply(\r\n                      Math,\r\n                      data2.map(function (o) {\r\n                        return o.incumple;\r\n                      })\r\n                    );\r\n                    var porcentaje = \"\" + (x.incumple / max) * 100 + \"%\";\r\n                    return (\r\n                      <div className=\"rubros\">\r\n                        <div\r\n                          style={{\r\n                            borderRadius: \"5px\",\r\n                            height: \"30%\",\r\n                            backgroundColor: \"brown\",\r\n                            width: porcentaje,\r\n                            textAlign: \"center\",\r\n                            color: \"white\",\r\n                            fontWeight: \"bold\",\r\n                          }}\r\n                        >\r\n                          {x.incumple}\r\n                        </div>\r\n                        <div className=\"nombres\">{x.SubCategoria}</div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              float: \"left\",\r\n              width: \"32.5%\",\r\n              marginLeft: \"0.5%\",\r\n              marginRight: \"1%\",\r\n              height: \"90%\",\r\n              padding: \"1%\",\r\n              borderRadius: \"2%\",\r\n              backgroundColor: \"rgba(192 , 192, 192, 0.2)\",\r\n            }}\r\n          >\r\n            <div className=\"bloqArriba\">\r\n              <Header style={{ padding: \"1%\", height: \"15%\" }}>\r\n                Registros por Usuarios <Icon name=\"user\"></Icon>\r\n              </Header>\r\n              <div className=\"datosUsuarios\">\r\n                {data3 &&\r\n                  [\r\n                    ...new Map(\r\n                      data3.map((item) => [item[\"Usuario\"], item])\r\n                    ).values(),\r\n                  ].map((x) => {\r\n                    return (\r\n                      <div className=\"cartaUsuario\">\r\n                        <div style={{ display: \"inline-block\" }}>\r\n                          {x.Usuario}{\" \"}\r\n                          {\r\n                            data3.filter(\r\n                              (item) =>\r\n                                item.Usuario === x.Usuario &&\r\n                                item.Reporte === tipoReporte\r\n                            ).length\r\n                          }\r\n                        </div>\r\n                        <div className=\"reportes\">\r\n                          {data3\r\n                            .filter((y) => y.Usuario === x.Usuario)\r\n                            .map((y, idx) => {\r\n                              return (\r\n                                <a\r\n                                  href=\"#\"\r\n                                  id={idx + \"id\"}\r\n                                  onClick={HandleTurnos}\r\n                                >\r\n                                  {y.Id}\r\n                                </a>\r\n                              );\r\n                            })}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n            <div className=\"bloqAbajo\">\r\n              <div\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"12.5px\",\r\n                }}\r\n                onClick={() => {\r\n                  console.log(data);\r\n                }}\r\n              >\r\n                <h2>Desviaciones y Requerimientos</h2>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  width: \"100%\",\r\n                  backgroundColor: \"whitesmoke\",\r\n                  marginTop: \"10px\",\r\n                }}\r\n              >\r\n                <table className=\"solicitudes\">\r\n                  <tr>\r\n                    <th>Estatus</th>\r\n                    <th>Desviaciones</th>\r\n                    <th>Requerimientos</th>\r\n                    <th>Mis Tareas</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Sin Acción</td>\r\n                    <td\r\n                      onClick={() => {\r\n                        history.push(\"/desviaciones\");\r\n                      }}\r\n                    >\r\n                      {desviaciones\r\n                        ? desviaciones.filter((x) => x.Estatus === null).length\r\n                        : 0}\r\n                    </td>\r\n                    <td>\r\n                      {misReq\r\n                        ? misReq.filter((x) => x.Estatus === null).length\r\n                        : 0}\r\n                    </td>\r\n                    <td>\r\n                      {misTareas\r\n                        ? misTareas.filter((x) => x.Estatus === null).length\r\n                        : 0}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>En Proceso</td>\r\n                    <td\r\n                      onClick={() => {\r\n                        history.push(\"/desviaciones\");\r\n                      }}\r\n                    >\r\n                      {desviaciones\r\n                        ? desviaciones.filter(\r\n                            (x) => x.Estatus !== null && x.Estatus !== \"Cerrado\"\r\n                          ).length\r\n                        : 0}\r\n                    </td>\r\n                    <td>\r\n                      {misReq\r\n                        ? misReq.filter(\r\n                            (x) => x.Estatus !== null && x.Estatus !== \"Cerrado\"\r\n                          ).length\r\n                        : 0}\r\n                    </td>\r\n                    <td>\r\n                      {misTareas\r\n                        ? misTareas.filter(\r\n                            (x) => x.Estatus !== null && x.Estatus !== \"Cerrado\"\r\n                          ).length\r\n                        : 0}\r\n                    </td>\r\n                  </tr>\r\n                  <tr\r\n                    onClick={() => {\r\n                      history.push(\"/desviaciones\");\r\n                    }}\r\n                  >\r\n                    <td>Cerrados</td>\r\n                    <td>\r\n                      {desviaciones\r\n                        ? desviaciones.filter((x) => x.Estatus === \"Cerrado\")\r\n                            .length\r\n                        : 0}\r\n                    </td>\r\n                    <td>\r\n                      {misReq\r\n                        ? misReq.filter((x) => x.Estatus === \"Cerrado\").length\r\n                        : 0}\r\n                    </td>\r\n                    <td>\r\n                      {misTareas\r\n                        ? misTareas.filter((x) => x.Estatus === \"Cerrado\")\r\n                            .length\r\n                        : 0}\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/fondo.bff34455.jpg\";","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Dropdown,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Label,\r\n  Item,\r\n  Card,\r\n  Image,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\nimport { useParams } from \"react-router\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction Observacion({ user }) {\r\n  let params = useParams();\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [buscar, setBuscar] = useState(false);\r\n  const [creador, setCreador] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function sacardata() {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 2);\r\n      const dr = sheet.getCell(j, 3);\r\n      const er = sheet.getCell(j, 4);\r\n      const fr = sheet.getCell(j, 5);\r\n      const gr = sheet.getCell(j, 6);\r\n      const hr = sheet.getCell(j, 7);\r\n      const ir = sheet.getCell(j, 8);\r\n      const jr = sheet.getCell(j, 9);\r\n      const kr = sheet.getCell(j, 10);\r\n      const lr = sheet.getCell(j, 11);\r\n      const mr = sheet.getCell(j, 12);\r\n      const nr = sheet.getCell(j, 13);\r\n      const or = sheet.getCell(j, 14);\r\n      const pr = sheet.getCell(j, 15);\r\n      const qr = sheet.getCell(j, 16);\r\n      const rr = sheet.getCell(j, 17);\r\n      const sr = sheet.getCell(j, 18);\r\n      const tr = sheet.getCell(j, 19);\r\n      const ur = sheet.getCell(j, 20);\r\n      const vr = sheet.getCell(j, 21);\r\n      datas.push({\r\n        id: sr.value,\r\n        fecha: ar.value,\r\n        fecha_hora: br.value,\r\n        nombre: cr.value,\r\n        area: dr.value,\r\n        rubro: er.value,\r\n        categoria: fr.value,\r\n        observaciones: gr.value,\r\n        severidad: hr.value,\r\n        pac: ir.value,\r\n        fecha_cierre: jr.value,\r\n        responsable: kr.value,\r\n        anexo: lr.value,\r\n        status: mr.value,\r\n        confirmado: nr.value,\r\n        extension: or.value,\r\n        nueva_fecha: pr.value,\r\n        detalle: qr.value,\r\n        anexo2: rr.value,\r\n        obsDetalle: tr.value,\r\n        persObservadas: ur.value,\r\n        aplica: vr.value,\r\n      });\r\n    }\r\n    datas = datas.filter((item) => {\r\n      return item.id === params.id;\r\n    });\r\n\r\n    if (datas.length > 1) {\r\n      var personas = datas.map((e) => e.persObservadas).join(\", \");\r\n      console.log(personas);\r\n      datas[0].persObservadas = personas;\r\n      datas = datas.slice(0, 1);\r\n    }\r\n\r\n    setData(datas);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    console.log(params);\r\n    !data && sacardata();\r\n    data && console.log(data);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {data && (\r\n        <Segment\r\n          onClick={() => {\r\n            console.log(data);\r\n          }}\r\n        >\r\n          <Item>\r\n            <Item.Image size=\"medium\" src={data[0].anexo} />\r\n\r\n            <Item.Content>\r\n              <Item.Header as=\"h2\">\r\n                {data[0].rubro + \" - \" + data[0].categoria}\r\n              </Item.Header>\r\n              <Item.Description>\r\n                <p>\r\n                  <b>Detalle: </b> {data[0].observaciones}\r\n                  {data[0].obsDetalle && \" : \" + data[0].obsDetalle}\r\n                </p>\r\n                <p>\r\n                  <b>Fecha: </b>{\" \"}\r\n                  {ExcelDateToJSDate(data[0].fecha).toISOString().slice(0, 10)}\r\n                </p>\r\n                <p>\r\n                  <b>Area: </b> {data[0].area}\r\n                </p>\r\n                <p>\r\n                  <b>Registrado por: </b> {data[0].nombre}\r\n                </p>\r\n                <p>\r\n                  <b>Persona(s) Observada(s): </b> {data[0].persObservadas}\r\n                </p>\r\n              </Item.Description>\r\n            </Item.Content>\r\n          </Item>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Observacion;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyD2qP-hydl9iaoxa0FO07FG5KDu9d3bGuA\",\r\n  authDomain: \"sasso-test-285920.firebaseapp.com\",\r\n  databaseURL: \"https://sasso-test-285920.firebaseio.com\",\r\n  projectId: \"sasso-test-285920\",\r\n  storageBucket: \"sasso-test-285920.appspot.com\",\r\n  messagingSenderId: \"191632707331\",\r\n  appId: \"1:191632707331:web:954ff5c5c38d8dcae4e336\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\nconst getUserDocument = async (uid) => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\nconst generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n  if (!snapshot.exists) {\r\n    const { Nombre, Correo, Apellido } = user;\r\n    try {\r\n      await userRef.set({\r\n        Nombre,\r\n        Correo,\r\n        Apellido,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\nexport {\r\n  storage,\r\n  auth,\r\n  firestore,\r\n  generateUserDocument,\r\n  getUserDocument,\r\n  firebase as default,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Statistic,\r\n  Divider,\r\n  Dimmer,\r\n  Loader,\r\n  Pagination,\r\n  Card,\r\n  Label,\r\n  Checkbox,\r\n  TextArea,\r\n  List,\r\n  Header,\r\n  Form,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${da}-${mo}-${ye}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction xltoDate(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo}-${da}`;\r\n  if (mo < 10) {\r\n    fechaStr = `${ye}-0${mo}-${da}`;\r\n  }\r\n\r\n  return fechaStr;\r\n}\r\n\r\nfunction Tareas({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [data, setData] = useState(\"\");\r\n  const [myData, setMyData] = useState(\"\");\r\n  const [myPac, setMyPac] = useState(\"\");\r\n  const [activoID, setActivoID] = useState(\"\");\r\n  const [pagina, setPagina] = useState(1);\r\n  const [totalPagina, setTotalPagina] = useState(0);\r\n  const [extension, setExtension] = useState(\"N\");\r\n  const [extDate, setExtDate] = useState(date);\r\n  const [detalle, setDetalle] = useState(\"\");\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [saving, setSaving] = useState(false);\r\n  const [preventDate, setPreventDate] = useState(date);\r\n  const [pap, setpap] = useState(\"\");\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      reader.onload = function (e) {\r\n        preview.setAttribute(\"src\", e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      preview = document.querySelector(\"#blah\");\r\n      preview.setAttribute(\"src\", \"\");\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  const handleFireBaseUpload = (e) => {\r\n    if (subir) {\r\n      e.preventDefault();\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      }\r\n      const uploadTask = storage\r\n        .ref(`/images/${imageAsFile.name}`)\r\n        .put(imageAsFile);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapShot) => {\r\n          //takes a snap shot of the process as it is happening\r\n          console.log(snapShot);\r\n        },\r\n        (err) => {\r\n          //catches the errors\r\n          console.log(err);\r\n        },\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          storage\r\n            .ref(\"images\")\r\n            .child(imageAsFile.name)\r\n            .getDownloadURL()\r\n            .then((fireBaseUrl) => {\r\n              setImageAsUrl((prevObject) => ({\r\n                ...prevObject,\r\n                imgUrl: fireBaseUrl,\r\n              }));\r\n            });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    setMyData(\r\n      datas.filter((item) => {\r\n        return item.responsable === user;\r\n      })\r\n    );\r\n    setMyPac(\r\n      datas.filter((item) => {\r\n        return item.responsable === user && item.status !== \"Completado\";\r\n      })\r\n    );\r\n    setTotalPagina(\r\n      datas.filter((item) => {\r\n        return item.responsable === user && item.status !== \"Completado\";\r\n      }).length\r\n    );\r\n    try {\r\n      setActivoID(\r\n        datas.filter((item) => {\r\n          return item.responsable === user && item.status !== \"Completado\";\r\n        })[0].id\r\n      );\r\n      setExtension(\r\n        datas.filter((item) => {\r\n          return item.responsable === user && item.status !== \"Completado\";\r\n        })[0].extension\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const registrar = async () => {\r\n    setSaving(true);\r\n    let extendido = extension;\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      if (sheet.getCell(j, 18).value === activoID) {\r\n        const mr = sheet.getCell(j, 12);\r\n        const or = sheet.getCell(j, 14);\r\n        const pr = sheet.getCell(j, 15);\r\n        const qr = sheet.getCell(j, 16);\r\n        const rr = sheet.getCell(j, 17);\r\n        const wr = sheet.getCell(j, 22);\r\n        const xr = sheet.getCell(j, 23);\r\n        mr.value = \"Pendiente Aprobacion\";\r\n        or.value = extendido;\r\n        if (extDate) {\r\n          pr.formula =\r\n            \"=date(\" +\r\n            extDate.substring(0, 4) +\r\n            \",\" +\r\n            extDate.substring(5, 7) +\r\n            \",\" +\r\n            extDate.substring(8, 10) +\r\n            \")\";\r\n        }\r\n        if (pap) {\r\n          wr.value = pap;\r\n        }\r\n        if (preventDate) {\r\n          xr.formula =\r\n            \"=date(\" +\r\n            preventDate.substring(0, 4) +\r\n            \",\" +\r\n            preventDate.substring(5, 7) +\r\n            \",\" +\r\n            preventDate.substring(8, 10) +\r\n            \")\";\r\n        }\r\n        if (detalle) {\r\n          qr.value = detalle;\r\n        }\r\n        if (imageAsUrl.imgUrl) {\r\n          rr.value = imageAsUrl.imgUrl;\r\n        }\r\n        await sheet.saveUpdatedCells();\r\n        break;\r\n      }\r\n    }\r\n    setSaving(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={!data || saving} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      {user ? (\r\n        <>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Pagination\r\n              defaultActivePage={1}\r\n              ellipsisItem={{\r\n                content: <Icon name=\"ellipsis horizontal\" />,\r\n                icon: true,\r\n              }}\r\n              firstItem={{\r\n                content: <Icon name=\"angle double left\" />,\r\n                icon: true,\r\n              }}\r\n              lastItem={{\r\n                content: <Icon name=\"angle double right\" />,\r\n                icon: true,\r\n              }}\r\n              prevItem={{ content: <Icon name=\"angle left\" />, icon: true }}\r\n              nextItem={{ content: <Icon name=\"angle right\" />, icon: true }}\r\n              totalPages={totalPagina}\r\n              onPageChange={(e, { activePage }) => {\r\n                setPagina(activePage);\r\n                setActivoID(myPac[activePage - 1].id);\r\n                setSubir(false);\r\n                setImageAsUrl(\"\");\r\n                setImageAsFile(\"\");\r\n                setExtension(myPac[activePage - 1].extension);\r\n                setExtension(date);\r\n                var preview = document.querySelector(\"#blah\");\r\n                preview.setAttribute(\"src\", \"\");\r\n                var archivoSelect = document.querySelector(\"#anexoImg\");\r\n                archivoSelect.value = \"\";\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <Segment>\r\n            <Header>Tareas</Header>\r\n            <List>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" />\r\n                <List.Content>\r\n                  <b>{myData.length} Acciones Totales</b>\r\n                </List.Content>\r\n              </List.Item>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" color=\"red\" />\r\n                <List.Content>\r\n                  <b>{myPac.length} Acciones Pendientes</b>\r\n                </List.Content>\r\n              </List.Item>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" color=\"green\" />\r\n                <List.Content>\r\n                  <b>\r\n                    {100 - Math.round((myPac.length / myData.length) * 100, 2)}{\" \"}\r\n                    % completada\r\n                  </b>\r\n                </List.Content>\r\n              </List.Item>\r\n            </List>\r\n          </Segment>\r\n          <Segment\r\n            style={{\r\n              height: \"60vh\",\r\n              overflowY: \"scroll\",\r\n            }}\r\n          >\r\n            {myPac && myPac.length !== 0 ? (\r\n              <>\r\n                <Header>{myPac[pagina - 1].rubro.toUpperCase()}</Header>\r\n                <p>\r\n                  {myPac[pagina - 1].categoria}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].area}\r\n                  <br></br>\r\n                  Registrado por: {myPac[pagina - 1].nombre}\r\n                  <br></br>\r\n                  Hallazgo: {myPac[pagina - 1].observaciones}\r\n                </p>\r\n                <Header>Acciones Tomadas</Header>\r\n                <p>{myPac[pagina - 1].pac}</p>\r\n                <p>\r\n                  Fecha Limite Inicial:{\" \"}\r\n                  {FechaString(\r\n                    ExcelDateToJSDate(myPac[pagina - 1].fecha_cierre)\r\n                  )}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].extension === \"Y\" ? (\r\n                    <Checkbox\r\n                      disabled\r\n                      label={{ children: \"Extender Fecha Limite \" }}\r\n                      checked\r\n                    />\r\n                  ) : (\r\n                    <Checkbox\r\n                      label={{ children: \"Extender Fecha Limite \" }}\r\n                      onChange={() => {\r\n                        if (extension !== \"N\") {\r\n                          setExtension(\"N\");\r\n                        } else {\r\n                          setExtension(\"Y\");\r\n                        }\r\n                      }}\r\n                      checked={extension === \"Y\"}\r\n                    />\r\n                  )}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].extension === \"Y\" || extension === \"Y\" ? (\r\n                    <Input\r\n                      size=\"mini\"\r\n                      type=\"date\"\r\n                      onChange={(e) => {\r\n                        setExtDate(e.target.value);\r\n                      }}\r\n                      defaultValue={\r\n                        myPac[pagina - 1].extension === \"Y\"\r\n                          ? xltoDate(\r\n                              ExcelDateToJSDate(myPac[pagina - 1].nueva_fecha)\r\n                            )\r\n                          : date\r\n                      }\r\n                    />\r\n                  ) : null}\r\n                  <br></br>\r\n                  <br></br>\r\n                  Detalle Adicional\r\n                  <br></br>\r\n                  <Form>\r\n                    <TextArea\r\n                      id=\"pacDetail\"\r\n                      name=\"planDetail\"\r\n                      rows=\"4\"\r\n                      cols=\"60\"\r\n                      value={myPac[pagina - 1].detalle_pac}\r\n                      onChange={(e, { value }) => {\r\n                        setDetalle(value);\r\n                      }}\r\n                      placeholder=\"Detalle adicional de la acción tomada...\"\r\n                    />\r\n                  </Form>\r\n                </p>\r\n                <p>\r\n                  <Header>Acciones Preventivas</Header>\r\n                  <Input\r\n                    size=\"mini\"\r\n                    type=\"date\"\r\n                    onChange={(e) => {\r\n                      setPreventDate(e.target.value);\r\n                    }}\r\n                    defaultValue={\r\n                      myPac[pagina - 1].extension === \"Y\"\r\n                        ? xltoDate(\r\n                            ExcelDateToJSDate(myPac[pagina - 1].nueva_fecha)\r\n                          )\r\n                        : date\r\n                    }\r\n                  />\r\n                  <br></br>\r\n                  <br></br>\r\n                  <Form>\r\n                    <TextArea\r\n                      id=\"ppreventiva\"\r\n                      name=\"ppreventiva\"\r\n                      rows=\"4\"\r\n                      cols=\"60\"\r\n                      onChange={(e, { value }) => {\r\n                        setpap(value);\r\n                      }}\r\n                      placeholder=\"Detalle de acción preventiva...\"\r\n                    />\r\n                  </Form>\r\n                </p>\r\n                <p>\r\n                  <Header>Anexo</Header>\r\n                  <Input\r\n                    id=\"anexoImg\"\r\n                    fluid\r\n                    className=\"input-image\"\r\n                    type=\"file\"\r\n                    onChange={handleImageUpload}\r\n                  />\r\n                  <br />\r\n                  <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n                </p>\r\n\r\n                <div className=\"ui two buttons\">\r\n                  <Button color=\"yellow\" onClick={registrar}>\r\n                    Guardar\r\n                  </Button>\r\n                  <Button color=\"green\">Solicitar Aprobacion</Button>\r\n                </div>\r\n              </>\r\n            ) : null}\r\n          </Segment>\r\n        </>\r\n      ) : (\r\n        <Button\r\n          color=\"red\"\r\n          inverted\r\n          fluid\r\n          icon=\"key\"\r\n          content=\"Sign In\"\r\n          onClick={() => {\r\n            iniciar();\r\n          }}\r\n        />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Tareas;\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Dropdown,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Label,\r\n  Item,\r\n  Modal,\r\n  Image,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction Consultas({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [buscar, setBuscar] = useState(false);\r\n  const [creador, setCreador] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function sacardata() {\r\n    setBuscar(true);\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 2);\r\n      const dr = sheet.getCell(j, 3);\r\n      const er = sheet.getCell(j, 4);\r\n      const fr = sheet.getCell(j, 5);\r\n      const gr = sheet.getCell(j, 6);\r\n      const hr = sheet.getCell(j, 7);\r\n      const ir = sheet.getCell(j, 8);\r\n      const jr = sheet.getCell(j, 9);\r\n      const kr = sheet.getCell(j, 10);\r\n      const lr = sheet.getCell(j, 11);\r\n      const mr = sheet.getCell(j, 12);\r\n      const nr = sheet.getCell(j, 13);\r\n      const or = sheet.getCell(j, 14);\r\n      const pr = sheet.getCell(j, 15);\r\n      const qr = sheet.getCell(j, 16);\r\n      const rr = sheet.getCell(j, 17);\r\n      const sr = sheet.getCell(j, 18);\r\n      const tr = sheet.getCell(j, 19);\r\n      const ur = sheet.getCell(j, 20);\r\n      const vr = sheet.getCell(j, 21);\r\n      datas.push({\r\n        id: sr.value,\r\n        fecha: ar.value,\r\n        fecha_hora: br.value,\r\n        nombre: cr.value,\r\n        area: dr.value,\r\n        rubro: er.value,\r\n        categoria: fr.value,\r\n        observaciones: gr.value,\r\n        severidad: hr.value,\r\n        pac: ir.value,\r\n        fecha_cierre: jr.value,\r\n        responsable: kr.value,\r\n        anexo: lr.value,\r\n        status: mr.value,\r\n        confirmado: nr.value,\r\n        extension: or.value,\r\n        nueva_fecha: pr.value,\r\n        detalle: qr.value,\r\n        anexo2: rr.value,\r\n        obsDetalle: tr.value,\r\n        persObservadas: ur.value,\r\n        aplica: vr.value,\r\n      });\r\n    }\r\n    datas.sort(function (a, b) {\r\n      var keyA = a.fecha_hora,\r\n        keyB = b.fecha_hora;\r\n      // Compare the 2 dates\r\n      if (keyA > keyB) return -1;\r\n      if (keyA < keyB) return 1;\r\n      return 0;\r\n    });\r\n    setData(datas);\r\n    setMyData(\r\n      datas.filter((item) => {\r\n        return item.nombre === user;\r\n      })\r\n    );\r\n    setDataFound(\r\n      datas.filter((item) => {\r\n        if (creador.length !== 0) {\r\n          return (\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) >=\r\n              inicio &&\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) <= final &&\r\n            creador.includes(item.nombre)\r\n          );\r\n        } else {\r\n          return (\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) >=\r\n              inicio &&\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) <= final\r\n          );\r\n        }\r\n      })\r\n    );\r\n    setBuscar(false);\r\n    setActiveIndex(-1);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    !data && sacardata();\r\n    data && console.log(myData);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Segment>\r\n        {activeItem && (\r\n          <Modal\r\n            onClose={() => setOpen(false)}\r\n            onOpen={() => setOpen(true)}\r\n            open={open}\r\n          >\r\n            <Modal.Header>{activeItem.observaciones}</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image size=\"medium\" src={activeItem.anexo} wrapped />\r\n              <Modal.Description>\r\n                <Header>{activeItem.rubro + \"-\" + activeItem.categoria}</Header>\r\n                <p>\r\n                  <b>Detalle: </b> {activeItem.detalle}\r\n                </p>\r\n                <p>\r\n                  <b>Fecha: </b>{\" \"}\r\n                  {ExcelDateToJSDate(activeItem.fecha)\r\n                    .toISOString()\r\n                    .slice(0, 10)}\r\n                </p>\r\n                <p>\r\n                  <b>Area: </b> {activeItem.area}\r\n                </p>\r\n                <p>\r\n                  <b>Registrado por: </b> {activeItem.observador}\r\n                </p>\r\n                <p>\r\n                  <b>Persona(s) Observada(s): </b> {activeItem.observado}\r\n                </p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"green\" onClick={() => setOpen(false)}>\r\n                OK\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        )}\r\n\r\n        <Dimmer active={buscar} page>\r\n          <Loader>Loading</Loader>\r\n        </Dimmer>\r\n        <Accordion fluid>\r\n          <Accordion.Title\r\n            active={activeIndex === 0}\r\n            index={0}\r\n            onClick={handleClick}\r\n          >\r\n            <Icon name=\"dropdown\" />\r\n            Filtros\r\n          </Accordion.Title>\r\n          <Accordion.Content active={activeIndex === 0}>\r\n            <>\r\n              <Input\r\n                label=\"Desde\"\r\n                size=\"mini\"\r\n                type=\"date\"\r\n                onChange={(e) => {\r\n                  setInicio(e.target.value);\r\n                  console.log(e.target.value);\r\n                  e.target.value > final && setFinal(e.target.value);\r\n                }}\r\n                value={inicio}\r\n                defaultValue={inicio}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Input\r\n                label=\"Hasta\"\r\n                size=\"mini\"\r\n                type=\"date\"\r\n                onChange={(e) => {\r\n                  setFinal(e.target.value);\r\n                  console.log(e.target.value);\r\n                  e.target.value < inicio && setInicio(e.target.value);\r\n                }}\r\n                value={final}\r\n                defaultValue={final}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Label>Registrado por </Label>\r\n              <Dropdown\r\n                fluid\r\n                multiple\r\n                search\r\n                selection\r\n                value={creador}\r\n                placeholder=\"Registrado por...\"\r\n                options={personal}\r\n                onChange={(e, { value }) => {\r\n                  setCreador(value);\r\n                }}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Button onClick={sacardata}>Buscar</Button>\r\n            </>\r\n          </Accordion.Content>\r\n        </Accordion>\r\n      </Segment>\r\n      {dataFound && (\r\n        <Segment>\r\n          <Item.Group divided>\r\n            {dataFound.map((item) => (\r\n              <Item key={item.id}>\r\n                <Item.Content>\r\n                  <Item.Header\r\n                    as=\"a\"\r\n                    href={\"/observacion/\" + item.id}\r\n                    onClick={(e) => {\r\n                      setActiveItem((prevObject) => ({\r\n                        ...prevObject,\r\n                        id: item.id,\r\n                        rubro: item.rubro,\r\n                        categoria: item.categoria,\r\n                        observaciones: item.observaciones,\r\n                        detalle: item.obsDetalle,\r\n                        area: item.area,\r\n                        fecha: item.fecha,\r\n                        observador: item.nombre,\r\n                        observado: item.persObservadas,\r\n                        anexo: item.anexo ? item.anexo : dummyImg,\r\n                      }));\r\n                      //setOpen(true);\r\n                    }}\r\n                  >\r\n                    {item.rubro + \" - \" + item.categoria}\r\n                  </Item.Header>\r\n                  <Item.Meta>{item.observaciones}</Item.Meta>\r\n                  <Item.Description>\r\n                    {item.area +\r\n                      \" - \" +\r\n                      ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10)}\r\n                  </Item.Description>\r\n                  <Item.Extra>Observador:{item.nombre}</Item.Extra>\r\n                  <Item.Extra>\r\n                    Personas Observadas:{item.persObservadas}\r\n                  </Item.Extra>\r\n                  <Item.Extra>{item.obsDetalle}</Item.Extra>\r\n                </Item.Content>\r\n              </Item>\r\n            ))}\r\n          </Item.Group>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Consultas;\r\n","export default {\r\n  USER_ID: \"user_1s8Jx16sWB2djLHeed4yw\",\r\n  TEMPLATE_ID: \"template_oc6ugfi\",\r\n};\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport emailjs from \"emailjs-com\";\r\nimport apiKeys from \"./apikeys\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Popup,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  TextArea,\r\n  Form,\r\n  Segment,\r\n  Dropdown,\r\n  Step,\r\n  Header,\r\n  Card,\r\n  Rating,\r\n  Ref,\r\n  Dimmer,\r\n  Loader,\r\n  Modal,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport userData from \"./employee.json\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Registros({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  let fecha = date + \" \" + hora + \":\" + minutos;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [idUnico, setID] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [perfil, setPerfil] = useState();\r\n  const [correo, setCorreo] = useState(\"No Aplica\");\r\n  const [creador, setCreador] = useState();\r\n  const [step, setStep] = useState(\"Que\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  const [cat, setCat] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [data2, setData2] = useState(\"\");\r\n  const [catData, setCatData] = useState(\"\");\r\n  const [subCatData, setSubCatData] = useState(\"\");\r\n  const [subCat, setSubCat] = useState(\"\");\r\n  const [detalles, setDetalles] = useState(\"\");\r\n  const [area, setArea] = useState(\"\");\r\n  const [que, setQue] = useState(false);\r\n  const [donde, setDonde] = useState(false);\r\n  const [pacStep, setPacStep] = useState(false);\r\n  const [involucrados, setInvolucrados] = useState([]);\r\n  const [plan, setPlan] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(date);\r\n  const [resp, setResp] = useState(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n  const segCat = useRef(null);\r\n  const segSubCat = useRef(null);\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n  const [guardar, setGuardar] = useState(false);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [severidad, setSeveridad] = useState(1);\r\n  const [imgUpload, setImgUpload] = useState();\r\n\r\n  const history = useHistory();\r\n\r\n  const tipos = [\r\n    { id: \"Q\", name: \"Calidad\" },\r\n    { id: \"S\", name: \"Seguridad\" },\r\n    { id: \"E\", name: \"Ambiente\" },\r\n    { id: \"B\", name: \"Bioseguridad\" },\r\n  ];\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      console.log(preview);\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      setPreviewImg(dummyImg);\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      console.log(archivoSelect);\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  async function handleFireBaseUpload() {\r\n    if (subir) {\r\n      console.log(\"start of upload\");\r\n      console.log(imageAsFile);\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      } else {\r\n        const uploadTask = storage\r\n          .ref(`/images/${imageAsFile.name}`)\r\n          .put(imageAsFile);\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapShot) => {\r\n            //takes a snap shot of the process as it is happening\r\n            console.log(snapShot);\r\n          },\r\n          (err) => {\r\n            //catches the errors\r\n            console.log(err);\r\n          },\r\n          () => {\r\n            // gets the functions from storage refences the image storage in firebase by the children\r\n            // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n            storage\r\n              .ref(\"images\")\r\n              .child(imageAsFile.name)\r\n              .getDownloadURL()\r\n              .then((fireBaseUrl) => {\r\n                setImageAsUrl((prevObject) => ({\r\n                  ...prevObject,\r\n                  imgUrl: fireBaseUrl,\r\n                }));\r\n                setImgUpload(fireBaseUrl);\r\n              });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  var sheetNo = 2125477317;\r\n  var sheetNo2 = 715064374;\r\n\r\n  const sacardata = async () => {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[sheetNo];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:E\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 4);\r\n      datas.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        src: cr.value,\r\n      });\r\n    }\r\n    setData(datas);\r\n    var datas2 = [];\r\n    const sheet2 = doc.sheetsById[sheetNo2];\r\n    const rows2 = await sheet2.getRows();\r\n    lastr = rows2.length + 1;\r\n    await sheet2.loadCells(\"A1:C\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet2.getCell(j, 0);\r\n      const br = sheet2.getCell(j, 1);\r\n      const cr = sheet2.getCell(j, 2);\r\n      datas2.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        SubCategoria: cr.value,\r\n        key: cr.value,\r\n        text: cr.value,\r\n        value: cr.value,\r\n      });\r\n    }\r\n    setData2(datas2);\r\n  };\r\n\r\n  const handleTipoClick = (e) => {\r\n    if (tipo === e.target.name) {\r\n      setTipo(\"\");\r\n    } else {\r\n      setTipo(e.target.name);\r\n      console.log(e.target.name);\r\n      segCat.current.focus();\r\n      setCat(\"\");\r\n      setSubCat(\"\");\r\n      setSubCatData(\"\");\r\n    }\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    }\r\n  }, [areas]);\r\n  useEffect(() => {\r\n    if (user) {\r\n      const datosUsuario = userData.filter((item) => {\r\n        return item.Nombre === user;\r\n      });\r\n      setPerfil(datosUsuario[0].Perfil);\r\n      setCreador(user);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (resp) {\r\n      const datoResp = userData.filter((item) => {\r\n        return item.Nombre === resp;\r\n      });\r\n      setCorreo(datoResp[0].correo);\r\n    }\r\n  }, [resp]);\r\n\r\n  const handleCatClick = (e, { name }) => {\r\n    setSubCat(\"\");\r\n    setSubCatData(\"\");\r\n    setCat(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleStep = (e, { name }) => {\r\n    setStep(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleArea = (e, { name }) => {\r\n    setArea(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setConfirmar(true);\r\n  };\r\n\r\n  async function registrar() {\r\n    setLoading(true);\r\n    let wd = today.getDay();\r\n    wd === 0 ? (wd = 7) : (wd = wd);\r\n    let semana = FechaString(today.setDate(today.getDate() - wd + 1));\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const aplica = perfil === \"Registros\" ? \"Y\" : \"N\";\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    var j;\r\n    var UniqueID =\r\n      Date.now() +\r\n      user.substring(0, 2) +\r\n      tipo.substring(0, 1) +\r\n      subCat.substring(0, 2);\r\n    setID(UniqueID);\r\n    console.log(UniqueID);\r\n    for (j = 0; j < involucrados.length; j++) {\r\n      await sheet.addRow({\r\n        fecha: date,\r\n        fecha_hora: fecha,\r\n        nombre: creador,\r\n        area: area,\r\n        rubro: tipo,\r\n        categoria: cat,\r\n        observaciones: subCat,\r\n        pac: plan,\r\n        responsable: resp,\r\n        fecha_cierre: startDate,\r\n        anexo: imgUpload,\r\n        status: \"Pendiente\",\r\n        Personas_Observadas: involucrados[j],\r\n        id: UniqueID,\r\n        severidad: severidad,\r\n        Detalle: detalles,\r\n        Aplica: aplica,\r\n        semana: semana,\r\n        ids: 1 / involucrados.length,\r\n      });\r\n    }\r\n    if (correo !== \"No Aplica\") {\r\n      notificar(UniqueID);\r\n    }\r\n    setTipo(\"\");\r\n    setCat(\"\");\r\n    setSubCat(\"\");\r\n    setDetalles(\"\");\r\n    setInvolucrados([]);\r\n    setArea(\"\");\r\n    setPlan(\"\");\r\n    setResp(\"\");\r\n    setImageAsUrl(\"\");\r\n    setPreviewImg(\"\");\r\n    setLoading(false);\r\n    setConfirmar(false);\r\n    setSaving(true);\r\n  }\r\n\r\n  function notificar(codigo) {\r\n    var templateParams = {\r\n      name: resp,\r\n      to_email: correo,\r\n      fecha_limite: startDate,\r\n      lugar: area,\r\n      qseb: tipo,\r\n      categoria: cat,\r\n      observacion: subCat,\r\n      detalles: detalles,\r\n      imagen: \"https://www.miculturaqse507.com/sasso-app/observacion/\" + codigo,\r\n      involucrados: involucrados.join(),\r\n      pac: plan,\r\n      registrado: creador,\r\n    };\r\n\r\n    emailjs\r\n      .send(\"Gmail\", apiKeys.TEMPLATE_ID, templateParams, apiKeys.USER_ID)\r\n      .then(\r\n        function (response) {\r\n          console.log(\"SUCCESS!\", response.status, response.text);\r\n        },\r\n        function (error) {\r\n          console.log(\"FAILED...\", error);\r\n        }\r\n      );\r\n    setID(\"\");\r\n  }\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n    if (data) {\r\n      setLoading(false);\r\n    }\r\n    if (tipo) {\r\n      setCatData(\r\n        data.filter((item) => {\r\n          return item.Tipo === tipo;\r\n        })\r\n      );\r\n    }\r\n    if (cat) {\r\n      setSubCatData(\r\n        data2.filter((item) => {\r\n          return item.Categoria === cat;\r\n        })\r\n      );\r\n    }\r\n    if (tipo && cat && subCat && involucrados.length !== 0) {\r\n      setQue(true);\r\n    } else {\r\n      setQue(false);\r\n    }\r\n    if (area) {\r\n      setDonde(true);\r\n    } else {\r\n      setDonde(false);\r\n    }\r\n    if (plan && resp && startDate) {\r\n      setPacStep(true);\r\n    } else {\r\n      setPacStep(false);\r\n    }\r\n    if (\r\n      tipo &&\r\n      cat &&\r\n      subCat &&\r\n      involucrados.length !== 0 &&\r\n      area &&\r\n      plan &&\r\n      resp &&\r\n      startDate\r\n    ) {\r\n      setGuardar(true);\r\n    } else {\r\n      setGuardar(false);\r\n    }\r\n  }, [\r\n    data,\r\n    tipo,\r\n    cat,\r\n    subCat,\r\n    involucrados,\r\n    area,\r\n    plan,\r\n    resp,\r\n    startDate,\r\n    data2,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (subir) {\r\n      handleFireBaseUpload();\r\n    }\r\n  }, [subir]);\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <div>\r\n          <Dimmer active={loading} page>\r\n            <Loader size=\"massive\">{data ? \"Saving\" : \"Loading\"}</Loader>\r\n          </Dimmer>\r\n          <Modal\r\n            header=\"Listo!\"\r\n            content=\"Su observación ha sido registrado exitosamente.\"\r\n            open={saving}\r\n            actions={[\r\n              {\r\n                key: \"done\",\r\n                content: \"Done\",\r\n                positive: true,\r\n                onClick: () => {\r\n                  setSaving(false);\r\n                  history.push(\"/observaciones\");\r\n                },\r\n              },\r\n            ]}\r\n          />\r\n\r\n          <Modal\r\n            onClose={() => setConfirmar(false)}\r\n            onOpen={() => setConfirmar(true)}\r\n            open={confirmar}\r\n          >\r\n            <Modal.Header>Confirmar Información</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image size=\"medium\" src={previewImg} wrapped />\r\n              <Modal.Description>\r\n                <Header>Observacion de {tipo}</Header>\r\n                <p>{cat}</p>\r\n                <p>{subCat}</p>\r\n                <p>Severidad:{severidad}</p>\r\n                <Header>Persona(s) Observada(s)</Header>\r\n                {involucrados.map((item) => (\r\n                  <li>{item}</li>\r\n                ))}\r\n                <Header>Area</Header>\r\n                <p>{area}</p>\r\n                <Header>PLAN DE ACCION</Header>\r\n                <p>{plan}</p>\r\n                <p>Responsable: {resp}</p>\r\n                <p>Fecha de Cierre Previsto: {startDate}</p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"black\" onClick={() => setConfirmar(false)}>\r\n                Cancelar\r\n              </Button>\r\n              <Button\r\n                content=\"Confirmar\"\r\n                labelPosition=\"right\"\r\n                icon=\"checkmark\"\r\n                onClick={() => {\r\n                  registrar();\r\n                }}\r\n                positive\r\n              />\r\n            </Modal.Actions>\r\n          </Modal>\r\n          {guardar ? (\r\n            <Button\r\n              fluid\r\n              color=\"green\"\r\n              content=\"Guardar\"\r\n              onClick={handleSave}\r\n            ></Button>\r\n          ) : null}\r\n          <Step.Group ordered size=\"mini\" attached=\"top\" unstackable>\r\n            <Step\r\n              active={step === \"Que\"}\r\n              name=\"Que\"\r\n              onClick={handleStep}\r\n              completed={que}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>Observación</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n\r\n            <Step\r\n              active={step === \"Donde\"}\r\n              name=\"Donde\"\r\n              onClick={handleStep}\r\n              completed={donde}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>Area</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n\r\n            <Step\r\n              active={step === \"PAC\"}\r\n              name=\"PAC\"\r\n              onClick={handleStep}\r\n              completed={pacStep}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>PAC</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n          </Step.Group>\r\n          <Segment attached>\r\n            {step === \"Que\" ? (\r\n              <Container>\r\n                {user === \"user\" && (\r\n                  <>\r\n                    <Segment>\r\n                      <Header>Nombre del Observador</Header>\r\n                      <Input\r\n                        fluid\r\n                        placeholder=\"Nombre del Observador...\"\r\n                        onChange={(e, { value }) => {\r\n                          setCreador(value);\r\n                        }}\r\n                      />\r\n                    </Segment>\r\n                  </>\r\n                )}\r\n                <Segment name=\"segmentTipo\">\r\n                  <Header>Tipo de Observación</Header>\r\n                  {tipos.map((item) => (\r\n                    <Popup\r\n                      trigger={\r\n                        <Button\r\n                          color=\"red\"\r\n                          inverted\r\n                          circular\r\n                          name={item.name}\r\n                          onClick={handleTipoClick}\r\n                          active={tipo === item.name}\r\n                        >\r\n                          {item.id}\r\n                        </Button>\r\n                      }\r\n                    >\r\n                      <Popup.Header>{item.name}</Popup.Header>\r\n                    </Popup>\r\n                  ))}\r\n                </Segment>\r\n                <Segment name=\"segmentInvol\">\r\n                  <Header>Personas Responsables/Involucradas</Header>\r\n                  <Dropdown\r\n                    fluid\r\n                    multiple\r\n                    search\r\n                    selection\r\n                    value={involucrados}\r\n                    placeholder=\"Seleccionar Personas Involucradas\"\r\n                    options={personal}\r\n                    onChange={(e, { value }) => {\r\n                      setInvolucrados(value);\r\n                      console.log(value);\r\n                    }}\r\n                  />\r\n                </Segment>\r\n                <Ref innerRef={segCat}>\r\n                  <Segment name=\"segmentCat\">\r\n                    <Header>Categoria de la Observación</Header>\r\n                    <Card.Group itemsPerRow={4}>\r\n                      {catData\r\n                        ? catData.map((item) => (\r\n                            <Popup\r\n                              trigger={\r\n                                <Card\r\n                                  raised\r\n                                  color={\r\n                                    cat === item.Categoria ? \"red\" : \"black\"\r\n                                  }\r\n                                  name={item.Categoria}\r\n                                  onClick={handleCatClick}\r\n                                >\r\n                                  <Image\r\n                                    src={item.src}\r\n                                    size=\"mini\"\r\n                                    wrapped\r\n                                    ui={false}\r\n                                  />\r\n                                  <Card.Content>\r\n                                    {cat === item.Categoria ? (\r\n                                      <Icon\r\n                                        color=\"green\"\r\n                                        name=\"check circle\"\r\n                                      ></Icon>\r\n                                    ) : null}\r\n                                  </Card.Content>\r\n                                </Card>\r\n                              }\r\n                            >\r\n                              <Popup.Header>{item.Categoria}</Popup.Header>\r\n                            </Popup>\r\n                          ))\r\n                        : null}\r\n                    </Card.Group>\r\n                  </Segment>\r\n                </Ref>\r\n\r\n                {subCatData ? (\r\n                  <Ref innerRef={segSubCat}>\r\n                    <Segment name=\"segmentSubCat\">\r\n                      <Header>Observación</Header>\r\n                      <Dropdown\r\n                        fluid\r\n                        button\r\n                        search\r\n                        scrolling\r\n                        clearable\r\n                        value={subCat}\r\n                        placeholder=\"Seleccionar Observacion\"\r\n                        options={subCatData}\r\n                        onChange={(e, { value }) => {\r\n                          setSubCat(value);\r\n                        }}\r\n                      />\r\n                      <br />\r\n                      <Header>\r\n                        Severidad\r\n                        <Popup\r\n                          trigger={\r\n                            <div>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 0 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(1);\r\n                                }}\r\n                              ></Icon>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 1 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(2);\r\n                                }}\r\n                              ></Icon>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 2 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(3);\r\n                                }}\r\n                              ></Icon>\r\n                            </div>\r\n                          }\r\n                          content={\"Grado de Severidad: \" + severidad}\r\n                        ></Popup>\r\n                      </Header>\r\n                      <Form>\r\n                        <TextArea\r\n                          placeholder=\"Detalles\"\r\n                          onChange={(e, { value }) => {\r\n                            setDetalles(value);\r\n                          }}\r\n                        ></TextArea>\r\n                      </Form>\r\n                    </Segment>\r\n                  </Ref>\r\n                ) : null}\r\n              </Container>\r\n            ) : null}\r\n            {step === \"Donde\" && areas ? (\r\n              <div>\r\n                <Segment>\r\n                  <Header>Área de la Observación</Header>\r\n                  {areas.map((item) => (\r\n                    <Popup\r\n                      trigger={\r\n                        <Button\r\n                          color=\"red\"\r\n                          inverted\r\n                          style={{ width: \"15vw\" }}\r\n                          name={item.name}\r\n                          onClick={handleArea}\r\n                          active={area === item.name}\r\n                        >\r\n                          {item.short}\r\n                        </Button>\r\n                      }\r\n                    >\r\n                      <Popup.Header>{item.name}</Popup.Header>\r\n                    </Popup>\r\n                  ))}\r\n                </Segment>\r\n                <Segment>\r\n                  <Header>Anexo</Header>\r\n                  <Input\r\n                    id=\"anexoImg\"\r\n                    fluid\r\n                    className=\"input-image\"\r\n                    type=\"file\"\r\n                    onChange={(e) => {\r\n                      handleImageUpload(e);\r\n                    }}\r\n                  />\r\n                  <br />\r\n                  <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n                </Segment>\r\n              </div>\r\n            ) : null}\r\n            {step === \"PAC\" ? (\r\n              <Segment>\r\n                <Header>Acción Tomada</Header>\r\n                <Form>\r\n                  <TextArea\r\n                    placeholder=\"Escriba la Acción Tomada aquí...\"\r\n                    value={plan}\r\n                    onChange={(e) => {\r\n                      setPlan(e.target.value);\r\n                      console.log(e.target.value);\r\n                    }}\r\n                  ></TextArea>\r\n                </Form>\r\n                <Header>Fecha de Cierre Previsto</Header>\r\n                <Input\r\n                  fluid\r\n                  type=\"date\"\r\n                  onChange={(e) => setStartDate(e.target.value)}\r\n                  defaultValue={startDate}\r\n                />\r\n                <Header>Responsable del Plan</Header>\r\n                <Dropdown\r\n                  fluid\r\n                  search\r\n                  selection\r\n                  placeholder=\"Seleccionar Responsable del Plan\"\r\n                  options={personal}\r\n                  value={resp}\r\n                  onChange={(e, { value }) => {\r\n                    setResp(value);\r\n                    console.log(value);\r\n                  }}\r\n                />\r\n              </Segment>\r\n            ) : null}\r\n          </Segment>\r\n        </div>\r\n      ) : (\r\n        <Button\r\n          color=\"red\"\r\n          inverted\r\n          fluid\r\n          icon=\"key\"\r\n          content=\"Sign In\"\r\n          onClick={() => {\r\n            iniciar();\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Registros;\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport userData from \"./employee.json\";\r\nimport {\r\n  Header,\r\n  Button,\r\n  Segment,\r\n  Grid,\r\n  Form,\r\n  Message,\r\n  Checkbox,\r\n  Popup,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction Login() {\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"recordar\"]: [recordar, setRecordar],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const history = useHistory();\r\n  const [password, setPassword] = useState();\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === \"userPassword\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  const login = (event, password) => {\r\n    event.preventDefault();\r\n    var found = false;\r\n    for (var i = 0; i < userData.length; i++) {\r\n      if (userData[i].id === password) {\r\n        found = true;\r\n        setUser(userData[i].Nombre);\r\n        sessionStorage.user = userData[i].Nombre;\r\n        if (recordar) {\r\n          localStorage.user = userData[i].Nombre;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    if (!found) alert(`Usuario No encontrado`);\r\n    if (found) {\r\n      if (pagina) {\r\n        history.push(pagina);\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <Grid textAlign=\"center\" style={{ height: \"50vh\" }} verticalAlign=\"middle\">\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as=\"h2\" style={{ color: \"#F44336\" }} textAlign=\"center\">\r\n          Ingresar con su Numero de Empleado\r\n        </Header>\r\n        <Form size=\"large\">\r\n          <Segment stacked>\r\n            <Popup\r\n              content=\"Numero de Empleado sin PA ni los 0 iniciales, Ejemplo: PA00123456 = 123456\"\r\n              trigger={\r\n                <Form.Input\r\n                  name=\"userPassword\"\r\n                  type=\"password\"\r\n                  fluid\r\n                  icon=\"user\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Numero de Empleado\"\r\n                  onChange={(event) => onChangeHandler(event)}\r\n                />\r\n              }\r\n            />\r\n\r\n            <Button\r\n              color=\"red\"\r\n              fluid\r\n              size=\"large\"\r\n              onClick={(event) => {\r\n                login(event, password);\r\n              }}\r\n            >\r\n              Login\r\n            </Button>\r\n          </Segment>\r\n        </Form>\r\n        <Message>\r\n          <Checkbox\r\n            label=\"Recordar Usuario\"\r\n            onChange={(e, { checked }) => {\r\n              checked ? setRecordar(true) : setRecordar(false);\r\n            }}\r\n          />\r\n        </Message>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport userData from \"./employee.json\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction Perfil() {\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const userInfo = userData.filter((item) => {\r\n    return item.Nombre === user;\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <Segment>\r\n        <Header as=\"h4\">\r\n          {user}\r\n          <Button\r\n            floated=\"right\"\r\n            negative\r\n            onClick={() => {\r\n              setUser(\"\");\r\n              sessionStorage.removeItem(\"user\");\r\n              localStorage.removeItem(\"user\");\r\n              setPagina(\"/perfil\");\r\n              history.push(\"/Login\");\r\n            }}\r\n          >\r\n            Cerrar Sesión\r\n          </Button>\r\n        </Header>\r\n        <Segment>{userInfo[0].correo}</Segment>\r\n      </Segment>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Perfil;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport userData from \"./employee.json\";\r\nimport {\r\n  Button,\r\n  Dimmer,\r\n  Loader,\r\n  Header,\r\n  Grid,\r\n  Input,\r\n  Form,\r\n  Dropdown,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  //var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da} ${hora}`;\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Schedule() {\r\n  const [persona, setPersona] = useState(); //variable para responsable de recorrido\r\n  const [lugar, setLugar] = useState(); //variable para area de recorrido\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const { [\"personal\"]: personal } = useContext(Contexto);\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n  const [listaArea, setListaArea] = useState();\r\n  const [saving, setSaving] = useState(false);\r\n  const userInfo = userData.filter((item) => {\r\n    return item.Nombre === user;\r\n  });\r\n  const history = useHistory();\r\n  const [fecha, setFecha] = useState(FechaStringShort(new Date())); //variable para fecha de recorrido\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    } else {\r\n      var j;\r\n      var lastr = areas.length;\r\n      const area = [];\r\n      for (j = 0; j < lastr; j++) {\r\n        if (areas[j].name !== \"\") {\r\n          area.push({\r\n            key: areas[j].name,\r\n            text: areas[j].name,\r\n            value: areas[j].name,\r\n          });\r\n        }\r\n      }\r\n      setListaArea(area);\r\n    }\r\n  }, [areas]);\r\n\r\n  async function registrar() {\r\n    setSaving(true);\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[762667679];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    while (lastr--) {\r\n      try {\r\n        console.log(rows[lastr].Usuario);\r\n        if (\r\n          rows[lastr].Nombre === persona &&\r\n          rows[lastr].Fecha === fecha &&\r\n          rows[lastr].Area === lugar\r\n        ) {\r\n          console.log(\"Borrando\");\r\n          await rows[lastr].delete();\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        break;\r\n      }\r\n    }\r\n    await sheet.addRow({\r\n      Nombre: persona,\r\n      Fecha: fecha,\r\n      Area: lugar,\r\n      Usuario: user,\r\n      FechaProgramado: FechaStringLong(new Date()),\r\n    });\r\n    alert(\"Datos Guardados\");\r\n    setSaving(false);\r\n    setPersona();\r\n    setLugar();\r\n  }\r\n\r\n  return (\r\n    <Grid textAlign=\"center\" style={{ height: \"50vh\" }} verticalAlign=\"middle\">\r\n      <Dimmer active={saving} page>\r\n        <Loader size=\"massive\">{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as=\"h2\" style={{ color: \"#F44336\" }} textAlign=\"center\">\r\n          Programar Recorrido\r\n        </Header>\r\n        <Form>\r\n          <b>Nombre*</b>\r\n          <Dropdown\r\n            fluid\r\n            search\r\n            selection\r\n            clearable\r\n            placeholder=\"Nombre de Empleado...\"\r\n            defaultValue={persona}\r\n            options={personal}\r\n            onChange={(e, { value }) => {\r\n              setPersona(value);\r\n            }}\r\n          ></Dropdown>\r\n          <b>Area*</b>\r\n          <Dropdown\r\n            fluid\r\n            search\r\n            selection\r\n            clearable\r\n            placeholder=\"Area...\"\r\n            defaultValue={lugar}\r\n            options={listaArea}\r\n            onChange={(e, { value }) => {\r\n              setLugar(value);\r\n            }}\r\n          ></Dropdown>\r\n          <b>Fecha*</b>\r\n          <Input\r\n            fluid\r\n            type=\"date\"\r\n            size=\"tiny\"\r\n            defaultValue={fecha}\r\n            onChange={(e, { value }) => {\r\n              setFecha(value);\r\n            }}\r\n          ></Input>\r\n          <br></br>\r\n          <Button\r\n            disabled={!persona || !lugar}\r\n            negative\r\n            fluid\r\n            onClick={() => {\r\n              registrar();\r\n            }}\r\n          >\r\n            Programar\r\n          </Button>\r\n        </Form>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Schedule;\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport {\r\n  List,\r\n  Button,\r\n  Image,\r\n  Checkbox,\r\n  Dimmer,\r\n  Loader,\r\n  Segment,\r\n  Header,\r\n  Label,\r\n  Grid,\r\n  Icon,\r\n  Modal,\r\n  Divider,\r\n  Input,\r\n  Form,\r\n  TextArea,\r\n  Dropdown,\r\n  Progress,\r\n  Container,\r\n  Radio,\r\n  Popup,\r\n  Sticky,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { GradientDefs } from \"react-vis\";\r\n\r\nfunction sleep(milliseconds) {\r\n  const date = Date.now();\r\n  let currentDate = null;\r\n  do {\r\n    currentDate = Date.now();\r\n  } while (currentDate - date < milliseconds);\r\n}\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nexport default function ReporteDeTurno({ user }) {\r\n  const referencia = useRef(null);\r\n  const {\r\n    [\"reportData\"]: [reportData, setRepData],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const [area, setArea] = useState();\r\n  const [categoria, setCat] = useState();\r\n  const { personal: personal } = useContext(Contexto);\r\n  const {\r\n    [\"colores\"]: [colores, setColores],\r\n  } = useContext(Contexto);\r\n  const [reportes, setReportes] = useState(); //Listado completo de CheckList\r\n  const [sinFiltro, setSinFiltro] = useState();\r\n  const [checkList, setCheckList] = useState();\r\n  const [fecha, setFecha] = useState(FechaStringShort(new Date()));\r\n  const [cats, setCats] = useState();\r\n  const [rubros, setRubros] = useState();\r\n  const [activeRubro, setActRubro] = useState();\r\n  const [subCat, setSubCat] = useState();\r\n  const [requerimientos, setReq] = useState();\r\n  const [activeReq, setActiveR] = useState();\r\n  const [incumple, setIncumple] = useState([]);\r\n  const [percentage, setPercentage] = useState();\r\n  const [turno, setTurno] = useState(1);\r\n  const [campoOblig, setCampoOblig] = useState(0);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [duplicado, setDuplicado] = useState(false);\r\n  const [listaArea, setListaArea] = useState();\r\n  const [tipoReporte, setTipoRep] = useState(\"Reporte de Turno\");\r\n  const {\r\n    [\"width\"]: [width, setWidth],\r\n  } = useContext(Contexto);\r\n  const { breakpoint: breakpoint } = useContext(Contexto);\r\n  const { userData: userData } = useContext(Contexto);\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const turnos = [\"1\", \"2\", \"3\"];\r\n  const estados = [\r\n    { name: \"saving\", caption: \"Guardando\" },\r\n    { name: \"loading\", caption: \"Cargando\" },\r\n    { name: \"deleting\", caption: \"Borrando\" },\r\n  ];\r\n  const [status, setStatus] = useState();\r\n  const history = useHistory();\r\n\r\n  async function handleImageUpload(event, rubro) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n            ? { ...x, url: \"\", preview: \"\", img: \"\" }\r\n            : x;\r\n        });\r\n      });\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n        setReportes((existingItems) => {\r\n          return existingItems.map((x) => {\r\n            return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n              ? { ...x, preview: e.target.result }\r\n              : x;\r\n          });\r\n        });\r\n      };\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n        setReportes((existingItems) => {\r\n          return existingItems.map((x) => {\r\n            return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n              ? { ...x, img: compressedFile }\r\n              : x;\r\n          });\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      setImageAsFile(\"\");\r\n      setPreviewImg(dummyImg);\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n            ? { ...x, preview: \"\" }\r\n            : x;\r\n        });\r\n      });\r\n    }\r\n    setPercentage(0);\r\n  }\r\n\r\n  async function handleFireBaseUpload(rubro) {\r\n    var boton = document.getElementById(\"btn\" + activeReq + activeRubro);\r\n    boton.disabled = true;\r\n    setPercentage(1);\r\n    const archivo =\r\n      reportes[\r\n        reportes.findIndex(\r\n          (x) => x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n        )\r\n      ].img;\r\n    const uploadTask = storage.ref(`/images/${archivo.name}`).put(archivo);\r\n    setPercentage(5);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapShot) => {\r\n        //takes a snap shot of the process as it is happening\r\n        console.log(snapShot);\r\n      },\r\n      (err) => {\r\n        //catches the errors\r\n        console.log(err);\r\n      },\r\n      () => {\r\n        // gets the functions from storage refences the image storage in firebase by the children\r\n        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n        setPercentage(50);\r\n        storage\r\n          .ref(\"images\")\r\n          .child(archivo.name)\r\n          .getDownloadURL()\r\n          .then((fireBaseUrl) => {\r\n            setReportes((existingItems) => {\r\n              return existingItems.map((x) => {\r\n                return x.SubCategoria === activeRubro &&\r\n                  x.Categoria === activeReq\r\n                  ? { ...x, url: fireBaseUrl }\r\n                  : x;\r\n              });\r\n            });\r\n            setPercentage(100);\r\n          });\r\n      }\r\n    );\r\n  }\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1249329599];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setRepData(datas);\r\n  };\r\n  const sacarReportes = async () => {\r\n    setStatus(estados[1].caption);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n\r\n    const sheetID = 1259390435;\r\n    const sheet = doc.sheetsById[sheetID];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    datas.forEach((x) => {\r\n      x.incumple = window.location.href.includes(\"recorrido\") ? \"\" : \"N\";\r\n      x.img = \"\";\r\n      x.preview = \"\";\r\n      x.url = \"\";\r\n      x.personas = \"\";\r\n      x.detalle = \"\";\r\n      x.opcional = \"N\";\r\n      x.turno = \"\";\r\n      x.reporte = window.location.href.includes(\"recorrido\")\r\n        ? \"Recorrido\"\r\n        : \"Reporte de Turno\";\r\n    });\r\n    console.log(datas);\r\n    var aplican = datas.filter((x) => x[\"Reporte de turno\"] === \"Y\");\r\n    if (window.location.href.includes(\"recorrido\")) {\r\n      aplican = datas.filter((x) => x[\"Recorrido\"] === \"Y\");\r\n    }\r\n    setSinFiltro(aplican);\r\n    setReportes(aplican);\r\n    setCats(\r\n      aplican\r\n        .map((item) => item.Tipo)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n    setStatus();\r\n  };\r\n  const sacarReportes2 = async () => {\r\n    setStatus(estados[1].caption);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n\r\n    const sheetID = window.location.href.includes(\"recorrido\")\r\n      ? 1236777776\r\n      : 585241358;\r\n    const sheet = doc.sheetsById[sheetID];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    datas.forEach((x) => {\r\n      x.incumple = window.location.href.includes(\"recorrido\") ? \"\" : \"N\";\r\n      x.img = \"\";\r\n      x.preview = \"\";\r\n      x.url = \"\";\r\n      x.personas = \"\";\r\n      x.detalle = \"\";\r\n      x.opcional = \"N\";\r\n      x.turno = \"\";\r\n      x.reporte = window.location.href.includes(\"recorrido\")\r\n        ? \"Recorrido\"\r\n        : \"Reporte de Turno\";\r\n    });\r\n    console.log(datas);\r\n    setReportes(datas);\r\n    setCats(\r\n      datas\r\n        .map((item) => item.Tipo)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n    setStatus();\r\n  };\r\n  async function registrar() {\r\n    setStatus(estados[0].caption);\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1249329599];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    var variables = [area, fecha, user, tipoReporte];\r\n    var uniqueID = variables.join(\"-\");\r\n    if (tipoReporte === \"Reporte de Turno\") {\r\n      uniqueID = uniqueID + \"-\" + turno;\r\n    }\r\n\r\n    if (duplicado) {\r\n      setStatus(estados[2].caption);\r\n      while (lastr--) {\r\n        try {\r\n          if (rows[lastr].Id == uniqueID) {\r\n            console.log(\"Borrando\");\r\n            await rows[lastr].delete();\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n          sleep(60000);\r\n          lastr = lastr + 1;\r\n          continue;\r\n        }\r\n      }\r\n      setStatus(estados[0].caption);\r\n    }\r\n    var j;\r\n\r\n    for (j = 0; j < reportes.length; j++) {\r\n      try {\r\n        console.log(\"guardando\");\r\n        await sheet.addRow({\r\n          Area: area,\r\n          Usuario: user,\r\n          FechaRegistro: FechaStringLong(new Date()),\r\n          FechaRecorrido: fecha,\r\n          Tipo: reportes[j].Tipo,\r\n          Categoria: reportes[j].Categoria,\r\n          SubCategoria: reportes[j].SubCategoria,\r\n          Incumple: reportes[j].incumple,\r\n          Detalle: reportes[j].detalle,\r\n          PersonasObservadas: reportes[j].personas,\r\n          Imagen: reportes[j].url,\r\n          Turno: turno,\r\n          Reporte: tipoReporte,\r\n          Id: uniqueID,\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n        sleep(60000);\r\n        j = j - 1;\r\n        continue;\r\n      }\r\n    }\r\n    alert(\"Datos Guardados\");\r\n    setActiveR();\r\n    setStatus();\r\n    setArea(\"\");\r\n    setActRubro();\r\n    setRepData();\r\n    setReportes();\r\n    setConfirmar(false);\r\n    history.push(\"/\");\r\n  }\r\n  const [lista, setLista] = useState();\r\n  const crearLista = (e, { name }) => {\r\n    if (activeReq == name) {\r\n      setActiveR();\r\n    } else {\r\n      setActiveR(name);\r\n    }\r\n    setLista(\r\n      reportData\r\n        .filter((item) => item.Nombre == name)\r\n        .map((item) => item.Rubro)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n  };\r\n  const revision = (e, { name, requerimiento }) => {\r\n    let observacion = { req: requerimiento, rubro: name };\r\n    if (\r\n      reportData[reportData.findIndex((x) => x.Rubro === name)].Acto === \"Y\"\r\n    ) {\r\n      observacion.obligatorio = 1;\r\n    }\r\n    if (incumple.some((e) => e.req === requerimiento && e.rubro === name)) {\r\n      let removeIndex = incumple.filter((e) => e.rubro !== name);\r\n      console.log(removeIndex);\r\n      // remove object\r\n      setIncumple(removeIndex);\r\n    } else {\r\n      setIncumple((oldArray) => [...oldArray, observacion]);\r\n    }\r\n  };\r\n  const validar = () => {\r\n    var variables = [area, fecha, user, tipoReporte];\r\n    var uniqueID = variables.join(\"-\");\r\n    if (tipoReporte === \"Reporte de Turno\") {\r\n      uniqueID = uniqueID + \"-\" + turno;\r\n    }\r\n    let res = [];\r\n    res = reportData.filter((element) => {\r\n      return element.Id == uniqueID;\r\n    });\r\n    if (res.length > 0) {\r\n      setDuplicado(true);\r\n    } else {\r\n      setDuplicado(false);\r\n    }\r\n  };\r\n\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n  React.useEffect(() => {\r\n    const handleWindowResize = () => setWidth(window.innerWidth);\r\n    window.addEventListener(\"resize\", handleWindowResize);\r\n\r\n    // Return a function from the effect that removes the event listener\r\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n  }, []);\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    } else {\r\n      var j;\r\n      var userArea = userData.filter((x) => x.Nombre === user)[0].Area;\r\n      var lastr = areas.length;\r\n      const area = [];\r\n      for (j = 0; j < lastr; j++) {\r\n        let keys = areas[j].keys;\r\n        if (\r\n          areas[j].name !== \"\" &&\r\n          (userArea.toLowerCase().includes(\"gerencia\") ||\r\n          window.location.href.includes(\"recorrido\")\r\n            ? true\r\n            : keys\r\n                .toLowerCase()\r\n                .split(\", \")\r\n                .some((w) => userArea.toLowerCase().includes(w)))\r\n        ) {\r\n          area.push({\r\n            key: areas[j].name,\r\n            text: areas[j].name,\r\n            value: areas[j].name,\r\n          });\r\n        }\r\n      }\r\n      setListaArea(area);\r\n    }\r\n  }, [areas]);\r\n\r\n  useEffect(() => {\r\n    if (turno && area) {\r\n      if (!reportData) {\r\n        sacardata();\r\n      }\r\n      validar();\r\n    }\r\n  }, [area, turno]);\r\n\r\n  useEffect(() => {\r\n    console.log(incumple);\r\n  }, [incumple]);\r\n  useEffect(() => {\r\n    if (!reportData) {\r\n      sacardata();\r\n    }\r\n  }, [reportData]);\r\n  useEffect(() => {\r\n    if (!reportes) {\r\n      sacarReportes();\r\n    } else {\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    setArea();\r\n    setCat();\r\n    setReportes();\r\n    setRepData();\r\n    setActiveR();\r\n    setActRubro();\r\n    sacarReportes();\r\n    sacardata();\r\n    var url = window.location.href;\r\n    if ((pagina && pagina.includes(\"recorrido\")) || url.includes(\"recorrido\")) {\r\n      setTipoRep(\"Reporte de Recorrido\");\r\n    } else {\r\n      setTipoRep(\"Reporte de Turno\");\r\n    }\r\n  }, [pagina]);\r\n  function handleArea(e, { value }) {\r\n    setCat();\r\n    setActiveR();\r\n    var filtro = sinFiltro.filter((x) => x[value] === \"Y\");\r\n    setReportes(filtro);\r\n    setArea(value);\r\n  }\r\n\r\n  function handleCategorias(e) {\r\n    setCat(e.target.name);\r\n    if (reportes) {\r\n      var chklist = reportes.filter((item) => item.Tipo === e.target.name);\r\n      setCheckList(chklist);\r\n      setReq(\r\n        chklist\r\n          .map((item) => item.Categoria)\r\n          .filter((value, index, self) => self.indexOf(value) === index)\r\n      );\r\n    }\r\n  }\r\n  function handleSubCat(e) {\r\n    setSubCat(e.target.name);\r\n    if (activeReq === e.target.name) {\r\n      setActiveR();\r\n    } else {\r\n      setActiveR(e.target.name);\r\n    }\r\n    setRubros(\r\n      reportes\r\n        .filter((item) => item.Categoria === e.target.name)\r\n        .map((item) => item.SubCategoria)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n    setActRubro();\r\n  }\r\n\r\n  function handleCheck(e) {\r\n    var item = e.target.name;\r\n    var chk = e.target.id;\r\n    console.log(chk);\r\n    setActRubro(item);\r\n    var cumple;\r\n    if (chk.includes(\"Y\")) {\r\n      cumple = \"N\";\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === item && x.Categoria === activeReq\r\n            ? {\r\n                ...x,\r\n                personas: \"\",\r\n                detalle: \"\",\r\n              }\r\n            : x;\r\n        });\r\n      });\r\n    } else {\r\n      cumple = \"Y\";\r\n    }\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === item && x.Categoria === activeReq\r\n          ? { ...x, incumple: cumple }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  function HandleTodos(e, { checked }) {\r\n    var cumple;\r\n    if (checked) {\r\n      cumple = \"N\";\r\n    } else {\r\n      cumple = \"\";\r\n    }\r\n    if (activeReq) {\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.Categoria === activeReq ? { ...x, incumple: cumple } : x;\r\n        });\r\n      });\r\n    } else {\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.Tipo === categoria ? { ...x, incumple: cumple } : x;\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleOpcional(e, { rubro }) {\r\n    setActRubro(rubro);\r\n    var aplica;\r\n    if (\r\n      reportes[\r\n        reportes.findIndex(\r\n          (x) => x.Categoria === activeReq && x.SubCategoria === rubro\r\n        )\r\n      ].opcional === \"N\"\r\n    ) {\r\n      aplica = \"Y\";\r\n    } else {\r\n      aplica = \"N\";\r\n\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === rubro && x.Categoria === activeReq\r\n            ? {\r\n                ...x,\r\n                personas: \"\",\r\n              }\r\n            : x;\r\n        });\r\n      });\r\n    }\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === rubro && x.Categoria === activeReq\r\n          ? {\r\n              ...x,\r\n              opcional: aplica,\r\n            }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleObservados(e, { value }) {\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n          ? {\r\n              ...x,\r\n              personas: value.toString(),\r\n            }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleDetalles(e, { value }) {\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n          ? {\r\n              ...x,\r\n              detalle: value,\r\n            }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Grid textAlign=\"center\" verticalAlign=\"middle\">\r\n      <Dimmer\r\n        active={\r\n          status || estados.filter((x) => x.caption === status).length != 0\r\n        }\r\n        page\r\n      >\r\n        <Loader size=\"massive\">{status}</Loader>\r\n      </Dimmer>\r\n      {reportes && (\r\n        <Modal\r\n          onClose={() => setConfirmar(false)}\r\n          onOpen={() => setConfirmar(true)}\r\n          size=\"large\"\r\n          open={confirmar}\r\n        >\r\n          <Modal.Header>Confirmar Información</Modal.Header>\r\n          <Modal.Content>\r\n            {duplicado && (\r\n              <Label basic color=\"red\" size=\"huge\">\r\n                <Icon name=\"warning sign\" />\r\n                Se sobreescribirá los datos\r\n              </Label>\r\n            )}\r\n            <h1>\r\n              {tipoReporte.includes(\"Recorrido\")\r\n                ? tipoReporte\r\n                : tipoReporte + \" \" + turno}\r\n            </h1>\r\n            <h2>{fecha}</h2>\r\n            <h3>{user}</h3>\r\n            <h4>{area}</h4>\r\n          </Modal.Content>\r\n\r\n          <Divider />\r\n          <Modal.Content>\r\n            {reportes.filter((x) => x.incumple === \"Y\").length > 0 && (\r\n              <b>Incumplimientos: </b>\r\n            )}\r\n            {reportes.filter((x) => x.incumple === \"Y\").length > 0 && (\r\n              <List>\r\n                {reportes\r\n                  .filter((x) => x.incumple === \"Y\")\r\n                  .map((item, index) => {\r\n                    return (\r\n                      <List.Item>\r\n                        {index + 1}. {item.Tipo} - {item.Categoria} -{\" \"}\r\n                        {item.SubCategoria}\r\n                      </List.Item>\r\n                    );\r\n                  })}\r\n              </List>\r\n            )}\r\n            {reportes.filter((x) => x.incumple === \"Y\").length == 0 && (\r\n              <b>Sin Incidencias</b>\r\n            )}\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"green\"\r\n              onClick={() => {\r\n                registrar();\r\n              }}\r\n            >\r\n              <Icon name=\"check\"></Icon>Confirmar\r\n            </Button>\r\n            <Button\r\n              secondary\r\n              color=\"red\"\r\n              onClick={() => {\r\n                setConfirmar(false);\r\n              }}\r\n            >\r\n              <Icon name=\"x\"></Icon>Cancelar\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      )}\r\n      <Grid.Row>\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Segment basic>\r\n            <Header>{tipoReporte}</Header>\r\n          </Segment>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        <Grid.Column>\r\n          <b>Fecha*</b>\r\n          <Input\r\n            fluid\r\n            type=\"date\"\r\n            defaultValue={fecha}\r\n            onChange={(e, { value }) => {\r\n              setFecha(value);\r\n            }}\r\n          ></Input>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      {reportes && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <b>Area*</b>\r\n            <Dropdown\r\n              style={{ textAlign: \"center\" }}\r\n              fluid\r\n              search\r\n              selection\r\n              placeholder=\"Area...\"\r\n              options={listaArea}\r\n              onChange={handleArea}\r\n            ></Dropdown>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {area && tipoReporte.includes(\"Turno\") && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <b>Turno*</b>\r\n            <Form>\r\n              <Grid columns={3}>\r\n                <Grid.Row>\r\n                  {turnos.map((x) => {\r\n                    return (\r\n                      <Grid.Column>\r\n                        <Radio\r\n                          label={x}\r\n                          checked={turno === x}\r\n                          onChange={() => {\r\n                            setTurno(x);\r\n                          }}\r\n                        ></Radio>\r\n                      </Grid.Column>\r\n                    );\r\n                  })}\r\n                </Grid.Row>\r\n              </Grid>\r\n            </Form>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {duplicado && area && turno && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Label basic color=\"red\">\r\n              <Icon name=\"warning sign\" />\r\n              Ud. ya ha registrado un {tipoReporte} para {area}{\" \"}\r\n              {tipoReporte === \"Reporte de Turno\" ? \"del turno \" + turno : \"\"}{\" \"}\r\n              para el dia {fecha}, en caso que guardes se sobreescribira el\r\n              reporte anterior\r\n            </Label>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      <Grid.Row columns={4}>\r\n        {cats &&\r\n          turno &&\r\n          area &&\r\n          cats.map((item) => {\r\n            return (\r\n              <Grid.Column>\r\n                <Button\r\n                  fluid\r\n                  style={{\r\n                    backgroundColor:\r\n                      categoria === item\r\n                        ? colores.filter((x) => {\r\n                            return x.categoria === item;\r\n                          })[0].activo\r\n                        : colores.filter((x) => {\r\n                            return x.categoria === item;\r\n                          })[0].inactivo,\r\n                    color: colores.filter((x) => {\r\n                      return x.categoria === item;\r\n                    })[0].texto,\r\n                  }}\r\n                  name={item}\r\n                  onClick={handleCategorias}\r\n                >\r\n                  {width > breakpoint\r\n                    ? colores.filter((x) => {\r\n                        return x.categoria === item;\r\n                      })[0].caption\r\n                    : colores.filter((x) => {\r\n                        return x.categoria === item;\r\n                      })[0].short}\r\n                  <Popup\r\n                    content=\"Cantidad de incumplimiento\"\r\n                    trigger={\r\n                      <Label\r\n                        style={{ left: \"90%\" }}\r\n                        color={\r\n                          reportes &&\r\n                          reportes.filter(\r\n                            (x) => x.Tipo === item && x.incumple === \"Y\"\r\n                          ).length > 0\r\n                            ? \"red\"\r\n                            : \"grey\"\r\n                        }\r\n                        floating\r\n                        circular\r\n                        size=\"mini\"\r\n                      >\r\n                        {reportes &&\r\n                          reportes.filter(\r\n                            (x) => x.Tipo === item && x.incumple === \"Y\"\r\n                          ).length}\r\n                      </Label>\r\n                    }\r\n                  />\r\n                </Button>\r\n              </Grid.Column>\r\n            );\r\n          })}\r\n      </Grid.Row>\r\n      {reportes && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Button\r\n              disabled={\r\n                !area |\r\n                !turno |\r\n                (reportes &&\r\n                  reportes.filter(\r\n                    (x) =>\r\n                      x.incumple === \"Y\" &&\r\n                      (x.Acto === \"Y\" || x.opcional === \"Y\") &&\r\n                      x.personas === \"\"\r\n                  ).length > 0) |\r\n                (reportes.filter((x) => x.incumple === \"\").length > 0)\r\n              }\r\n              fluid\r\n              color=\"green\"\r\n              icon=\"save\"\r\n              content=\"Guardar\"\r\n              onClick={() => setConfirmar(true)}\r\n            />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {reportes &&\r\n        reportes.filter(\r\n          (x) =>\r\n            x.incumple === \"Y\" &&\r\n            (x.Acto === \"Y\" || x.opcional === \"Y\") &&\r\n            x.personas === \"\"\r\n        ).length > 0 && (\r\n          <Grid.Row>\r\n            <Label basic color=\"red\">\r\n              <Icon name=\"warning sign\" /> Campo obligatorio sin completar\r\n            </Label>\r\n          </Grid.Row>\r\n        )}\r\n      {categoria && area && reportes && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Segment\r\n              fluid\r\n              basic\r\n              style={{\r\n                color: colores.filter((x) => {\r\n                  return x.categoria === categoria;\r\n                })[0].activo,\r\n              }}\r\n            >\r\n              <Header\r\n                onClick={() => {\r\n                  console.log(reportes);\r\n                  console.log(activeReq);\r\n                  console.log(activeRubro);\r\n                }}\r\n              >\r\n                {categoria}\r\n                {\" Cumplimiento \"}\r\n                {Math.ceil(\r\n                  (reportes.filter(\r\n                    (x) => x.Tipo === categoria && x.incumple === \"N\"\r\n                  ).length /\r\n                    reportes.filter((x) => x.Tipo === categoria).length) *\r\n                    100\r\n                )}\r\n                %\r\n              </Header>\r\n              <Checkbox\r\n                key={categoria + \"AllY\"}\r\n                label={\"Todos Cumplen\"}\r\n                checked={\r\n                  reportes.filter((x) => x.Tipo === categoria).length ==\r\n                  reportes.filter(\r\n                    (x) => x.Tipo === categoria && x.incumple === \"N\"\r\n                  ).length\r\n                }\r\n                onChange={HandleTodos}\r\n              />\r\n            </Segment>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {requerimientos &&\r\n        categoria &&\r\n        area &&\r\n        reportes &&\r\n        requerimientos.map((item, reqIdx) => {\r\n          return (\r\n            <Grid.Row>\r\n              <Grid.Column>\r\n                <Button\r\n                  fluid\r\n                  style={{\r\n                    backgroundColor: colores.filter((item) => {\r\n                      return item.categoria === categoria;\r\n                    })[0].inactivo,\r\n                    color: colores.filter((item) => {\r\n                      return item.categoria === categoria;\r\n                    })[0].texto,\r\n                  }}\r\n                  name={item}\r\n                  onClick={handleSubCat}\r\n                >\r\n                  {item}\r\n                </Button>\r\n                {activeReq === item && (\r\n                  <Segment basic>\r\n                    <Grid verticalAlign=\"left\">\r\n                      <Checkbox\r\n                        key={reqIdx + \"AllY\"}\r\n                        requerimiento={activeReq}\r\n                        label={\"Todos Cumplen\"}\r\n                        checked={\r\n                          reportes.filter((x) => x.Categoria === activeReq)\r\n                            .length ==\r\n                          reportes.filter(\r\n                            (x) =>\r\n                              x.Categoria === activeReq && x.incumple === \"N\"\r\n                          ).length\r\n                        }\r\n                        onChange={HandleTodos}\r\n                      />\r\n                    </Grid>\r\n                    <Grid verticalAlign=\"left\">\r\n                      {rubros &&\r\n                        rubros.map((item, idx) => {\r\n                          return (\r\n                            <Grid.Row>\r\n                              <Grid.Column>\r\n                                {idx + 1 + \". \" + item}\r\n                                <br />\r\n                                <Grid.Row columns={3}>\r\n                                  <Grid.Column>Cumple?</Grid.Column>\r\n                                  <Grid.Column>\r\n                                    <Checkbox\r\n                                      fluid\r\n                                      key={idx + \"Y\"}\r\n                                      id={idx + \"Y\"}\r\n                                      name={item}\r\n                                      requerimiento={activeReq}\r\n                                      label={\"Si\"}\r\n                                      checked={\r\n                                        reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].incumple === \"N\"\r\n                                      }\r\n                                      onChange={handleCheck}\r\n                                    />\r\n                                  </Grid.Column>\r\n                                  <br />\r\n                                  <Grid.Column>\r\n                                    <Checkbox\r\n                                      fluid\r\n                                      key={idx + \"N\"}\r\n                                      id={idx + \"N\"}\r\n                                      name={item}\r\n                                      requerimiento={activeReq}\r\n                                      label={\"No\"}\r\n                                      checked={\r\n                                        reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].incumple === \"Y\"\r\n                                      }\r\n                                      onChange={handleCheck}\r\n                                    />\r\n                                  </Grid.Column>\r\n                                </Grid.Row>\r\n                                {reportes.filter(\r\n                                  (x) =>\r\n                                    x.SubCategoria === item &&\r\n                                    x.Categoria === activeReq\r\n                                )[0].incumple === \"Y\" && (\r\n                                  <Segment color=\"red\">\r\n                                    <Grid>\r\n                                      {reportes.filter(\r\n                                        (x) =>\r\n                                          x.SubCategoria === item &&\r\n                                          x.Categoria === activeReq\r\n                                      )[0].incumple === \"Y\" &&\r\n                                        reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].Acto === \"N\" && (\r\n                                          <Grid.Row>\r\n                                            <Grid.Column>\r\n                                              <Checkbox\r\n                                                fluid\r\n                                                requerimiento={activeReq}\r\n                                                rubro={item}\r\n                                                label=\"Personas Observadas?\"\r\n                                                checked={\r\n                                                  reportes.filter(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )[0].opcional === \"Y\"\r\n                                                }\r\n                                                onChange={handleOpcional}\r\n                                              />\r\n                                            </Grid.Column>\r\n                                          </Grid.Row>\r\n                                        )}\r\n                                      {reportes.filter(\r\n                                        (x) =>\r\n                                          x.SubCategoria === item &&\r\n                                          x.Categoria === activeReq\r\n                                      )[0].incumple === \"Y\" &&\r\n                                        (reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].Acto === \"Y\" ||\r\n                                          reportes.filter(\r\n                                            (x) =>\r\n                                              x.SubCategoria === item &&\r\n                                              x.Categoria === activeReq\r\n                                          )[0].opcional === \"Y\") && (\r\n                                          <Grid.Row>\r\n                                            <Grid.Column>\r\n                                              <b>Personas Observadas*</b>\r\n                                              <Dropdown\r\n                                                fluid\r\n                                                multiple\r\n                                                search\r\n                                                selection\r\n                                                defaultValue={\r\n                                                  reportes[\r\n                                                    reportes.findIndex(\r\n                                                      (x) =>\r\n                                                        x.Categoria ===\r\n                                                          activeReq &&\r\n                                                        x.SubCategoria === item\r\n                                                    )\r\n                                                  ].personas\r\n                                                    ? reportes[\r\n                                                        reportes.findIndex(\r\n                                                          (x) =>\r\n                                                            x.Categoria ===\r\n                                                              activeReq &&\r\n                                                            x.SubCategoria ===\r\n                                                              item\r\n                                                        )\r\n                                                      ].personas.split(\",\")\r\n                                                    : \"\"\r\n                                                }\r\n                                                placeholder=\"Seleccionar Personas Involucradas...\"\r\n                                                options={personal}\r\n                                                onChange={handleObservados}\r\n                                              ></Dropdown>\r\n                                              {!reportes[\r\n                                                reportes.findIndex(\r\n                                                  (x) =>\r\n                                                    x.Categoria === activeReq &&\r\n                                                    x.SubCategoria === item\r\n                                                )\r\n                                              ].personas && (\r\n                                                <Label\r\n                                                  basic\r\n                                                  color=\"red\"\r\n                                                  pointing\r\n                                                >\r\n                                                  <Icon name=\"warning sign\" />\r\n                                                  Por favor elija al menos una\r\n                                                  persona\r\n                                                </Label>\r\n                                              )}\r\n                                            </Grid.Column>\r\n                                          </Grid.Row>\r\n                                        )}\r\n                                      <Grid.Row>\r\n                                        <Grid.Column>\r\n                                          <b>Detalles</b>\r\n                                          <Form>\r\n                                            <TextArea\r\n                                              placeholder=\"Detelles...\"\r\n                                              defaultValue={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.Categoria ===\r\n                                                        activeReq &&\r\n                                                      x.SubCategoria === item\r\n                                                  )\r\n                                                ].detalle\r\n                                                  ? reportes[\r\n                                                      reportes.findIndex(\r\n                                                        (x) =>\r\n                                                          x.Categoria ===\r\n                                                            activeReq &&\r\n                                                          x.SubCategoria ===\r\n                                                            item\r\n                                                      )\r\n                                                    ].detalle\r\n                                                  : \"\"\r\n                                              }\r\n                                              onChange={handleDetalles}\r\n                                            ></TextArea>\r\n                                          </Form>\r\n                                        </Grid.Column>\r\n                                      </Grid.Row>\r\n                                      <Grid.Row>\r\n                                        <Grid.Column>\r\n                                          <b>Imagen</b>\r\n                                          <Input\r\n                                            icon=\"camera\"\r\n                                            iconPosition=\"left\"\r\n                                            type=\"file\"\r\n                                            fluid\r\n                                            rubro={item}\r\n                                            onChange={(e, { rubro }) => {\r\n                                              handleImageUpload(e, rubro);\r\n                                            }}\r\n                                          />\r\n                                        </Grid.Column>\r\n                                      </Grid.Row>\r\n                                      {reportes[\r\n                                        reportes.findIndex(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )\r\n                                      ].preview &&\r\n                                        percentage == 0 && (\r\n                                          <Grid.Row>\r\n                                            <Grid.Column>\r\n                                              <Button\r\n                                                id={\"btn\" + activeReq + item}\r\n                                                rubro={item}\r\n                                                content=\"Confirmar\"\r\n                                                style={{\r\n                                                  backgroundColor:\r\n                                                    colores.filter((item) => {\r\n                                                      return (\r\n                                                        item.categoria ===\r\n                                                        categoria\r\n                                                      );\r\n                                                    })[0].inactivo,\r\n                                                  color: colores.filter(\r\n                                                    (item) => {\r\n                                                      return (\r\n                                                        item.categoria ===\r\n                                                        categoria\r\n                                                      );\r\n                                                    }\r\n                                                  )[0].texto,\r\n                                                }}\r\n                                                onClick={(e, { rubro }) => {\r\n                                                  handleFireBaseUpload(rubro);\r\n                                                }}\r\n                                              />\r\n                                            </Grid.Column>\r\n                                          </Grid.Row>\r\n                                        )}\r\n                                      {reportes[\r\n                                        reportes.findIndex(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )\r\n                                      ].preview && (\r\n                                        <Grid.Row>\r\n                                          <Grid.Column>\r\n                                            <Progress\r\n                                              percent={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url\r\n                                                  ? 100\r\n                                                  : percentage\r\n                                              }\r\n                                              indicating={\r\n                                                !reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url && percentage != 100\r\n                                              }\r\n                                              success={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url\r\n                                                  ? true\r\n                                                  : percentage == 100\r\n                                              }\r\n                                              progress\r\n                                              label={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url || percentage == 100\r\n                                                  ? \"Cargado\"\r\n                                                  : percentage == 0\r\n                                                  ? \"\"\r\n                                                  : \"Cargando\"\r\n                                              }\r\n                                            />\r\n                                          </Grid.Column>\r\n                                        </Grid.Row>\r\n                                      )}\r\n                                      {reportes[\r\n                                        reportes.findIndex(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )\r\n                                      ].preview && (\r\n                                        <Grid.Row>\r\n                                          <Grid.Column>\r\n                                            <Image\r\n                                              size=\"medium\"\r\n                                              src={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].preview\r\n                                              }\r\n                                            />\r\n                                          </Grid.Column>\r\n                                        </Grid.Row>\r\n                                      )}\r\n                                    </Grid>\r\n                                  </Segment>\r\n                                )}\r\n                              </Grid.Column>\r\n                            </Grid.Row>\r\n                          );\r\n                        })}\r\n                    </Grid>\r\n                  </Segment>\r\n                )}\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          );\r\n        })}\r\n    </Grid>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { Dropdown, Grid, Header, Input, Segment } from \"semantic-ui-react\";\r\n\r\nfunction Minuta() {\r\n  const { personal } = useContext(Contexto);\r\n  return (\r\n    <Grid stackable>\r\n      <Grid.Row>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <Header content=\"Administración de Minuta\" />\r\n          </Segment>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        <Grid.Column>\r\n          <b>Fecha*</b>\r\n          <Input fluid type=\"date\"></Input>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row columns={3}>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <b>Participantes</b>\r\n            <Dropdown options={personal} fluid search selection />\r\n          </Segment>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <b>Reunion</b>\r\n            <Dropdown options={personal} fluid search selection />\r\n          </Segment>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <b>Reunion</b>\r\n            <Dropdown options={personal} fluid search selection />\r\n          </Segment>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Minuta;\r\n","export default __webpack_public_path__ + \"static/media/Dummy.710ac8fa.png\";","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport dummy from \"./Dummy.png\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Desviaciones({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [estado, setEstado] = useState();\r\n  const [Status, setStatus] = useState(\"Sin Acción\");\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [papName, setPapName] = useState();\r\n  const [papDesc, setPapDesc] = useState();\r\n  const [papAreaResp, setPapAreaResp] = useState();\r\n  const {\r\n    [\"desviaciones\"]: [desviaciones, setDesviaciones],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"grupoArea\"]: [grupoArea, setGrupoArea],\r\n  } = useContext(Contexto);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  const sacardata = async () => {\r\n    setEstado(\"Cargando\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.height = \"100%\";\r\n    let data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    let sheet = doc.sheetsById[1249329599];\r\n    let rows = await sheet.getRows();\r\n    let cols = await sheet.columnCount;\r\n    let encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    //AREAS\r\n    sheet = doc.sheetsById[1705686078];\r\n    rows = await sheet.getRows();\r\n    cols = await sheet.columnCount;\r\n    encabezado = await sheet.headerValues;\r\n    let datas_areas = [];\r\n    lastr = rows.length + 1;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas_areas.push(data);\r\n    }\r\n    const unique = [...new Set(datas_areas.map((item) => item.grupo))];\r\n    unique.sort();\r\n    unique.unshift(\"Todas\");\r\n    setGrupoArea(unique);\r\n    //AREAS\r\n    datas.forEach((x) => {\r\n      x.grupo =\r\n        datas_areas[datas_areas.findIndex((y) => y.name === x.Area)].grupo;\r\n    });\r\n    setData(datas);\r\n    let incumplimientos = datas.filter((x) => x.Incumple === \"Y\");\r\n    let miData = incumplimientos;\r\n    let misReqs = incumplimientos.filter((x) => x.AreaResponsable !== null);\r\n    let misTasks;\r\n    if (user) {\r\n      var userArea = userData.filter((x) => x.Nombre === user)[0].Area;\r\n      let grupoAreaKey = datas_areas.filter((y) =>\r\n        y[\"keys\"]\r\n          .toLowerCase()\r\n          .split(\", \")\r\n          .some((w) => userArea.toLowerCase().includes(w))\r\n      );\r\n      if (!userArea.toLowerCase().includes(\"gerencia\")) {\r\n        miData = miData.filter((x) => x.grupo === grupoAreaKey[0].grupo);\r\n      }\r\n      if (!userArea.toLowerCase().includes(\"gerencia\")) {\r\n        misReqs = incumplimientos.filter(\r\n          (x) => x.AreaResponsable === grupoAreaKey[0].grupo\r\n        );\r\n      }\r\n      misTasks = incumplimientos.filter((x) => x.Responsable === user);\r\n    }\r\n    setDesviaciones(miData);\r\n\r\n    setEstado(\"Cargado!\");\r\n    document.getElementById(\"pap_block\").classList.add(\"invisible\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"0%\";\r\n    elem.style.height = \"0%\";\r\n    setEstado();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!desviaciones) {\r\n      sacardata();\r\n    } else {\r\n    }\r\n  }, []);\r\n\r\n  async function registrar() {\r\n    setEstado(\"Guardando\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.height = \"100%\";\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1249329599];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    while (lastr--) {\r\n      if (\r\n        rows[lastr].Id == activeItem.split(\"_\")[0] &&\r\n        rows[lastr].SubCategoria == activeItem.split(\"_\")[1]\r\n      ) {\r\n        rows[lastr][\"PAP\"] = papName;\r\n        rows[lastr].PAPDesc = papDesc;\r\n        rows[lastr].AreaResponsable = papAreaResp;\r\n        rows[lastr].Estatus = \"Asignado\";\r\n        rows[lastr].SolicitadoPor = user;\r\n        rows[lastr].PAPFechaCreado = FechaStringLong(new Date());\r\n        await rows[lastr].save();\r\n        break;\r\n      }\r\n    }\r\n    setEstado(\"Guardado!\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"0%\";\r\n    elem.style.height = \"0%\";\r\n    setEstado();\r\n    setActiveItem();\r\n    sacardata();\r\n    setPapName();\r\n    setPapDesc();\r\n    setPapAreaResp();\r\n  }\r\n\r\n  function closeNav() {\r\n    var elem = document.getElementById(\"mySidenav\");\r\n    elem.style.width = \"0\";\r\n    elem.style.padding = \"0\";\r\n  }\r\n\r\n  function abrir() {\r\n    var elem = document.getElementById(\"mySidenav\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.padding = \"5%\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"desv\">\r\n      <div style={{ height: \"100%\", width: \"100%\" }}>\r\n        <div\r\n          className=\"filtros\"\r\n          style={{\r\n            float: \"left\",\r\n            width: \"100%\",\r\n            padding: \"1%\",\r\n            backgroundColor: \"brown\",\r\n          }}\r\n        >\r\n          <div className=\"devTitle\">\r\n            <i class=\"material-icons regular\" onClick={abrir}>\r\n              menu\r\n            </i>\r\n            <h2 className=\"regular\" style={{ textAlign: \"center\" }}>\r\n              Desviaciones\r\n            </h2>\r\n          </div>\r\n          <div id=\"cargando\" className=\"cargando\">\r\n            {estado}\r\n          </div>\r\n          <div id=\"mySidenav\" className=\"sidenav\">\r\n            <div className=\"sticky\">\r\n              <a href=\"javascript:void(0)\" class=\"closebtn\" onClick={closeNav}>\r\n                &times;\r\n              </a>\r\n              <div style={{ width: \"100%\" }}>\r\n                {[\"Sin Acción\", \"En Proceso\", \"Cerrado\"].map((x) => {\r\n                  return (\r\n                    <h3\r\n                      key={\"Status-\" + x}\r\n                      className=\"status\"\r\n                      style={{\r\n                        opacity: Status === x ? 1 : 0.5,\r\n                        position: \"relative\",\r\n                      }}\r\n                      onClick={() => {\r\n                        setStatus(x);\r\n                      }}\r\n                    >\r\n                      {x}\r\n                    </h3>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            {desviaciones &&\r\n            desviaciones.filter((x) =>\r\n              Status === \"Sin Acción\"\r\n                ? x.Estatus === null\r\n                : Status === \"Cerrado\"\r\n                ? x.Estatus === \"Cerrado\"\r\n                : x.Estatus !== \"Cerrado\" && x.Estatus !== null\r\n            ).length > 0 ? (\r\n              desviaciones\r\n                .filter((x) =>\r\n                  Status === \"Sin Acción\"\r\n                    ? x.Estatus === null\r\n                    : Status === \"Cerrado\"\r\n                    ? x.Estatus === \"Cerrado\"\r\n                    : x.Estatus !== \"Cerrado\" && x.Estatus !== null\r\n                )\r\n                .map((x) => {\r\n                  return (\r\n                    <div\r\n                      className=\"desvDetalle\"\r\n                      key={x.Id + \"_\" + x.SubCategoria}\r\n                      onClick={() => {\r\n                        const name = x.Id + \"_\" + x.SubCategoria;\r\n                        var pap = desviaciones.filter(\r\n                          (y) =>\r\n                            x.Id === y.Id && x.SubCategoria === y.SubCategoria\r\n                        )[0][\"PAP\"];\r\n                        console.log(pap);\r\n                        var papdesc = desviaciones.filter(\r\n                          (y) =>\r\n                            x.Id === y.Id && x.SubCategoria === y.SubCategoria\r\n                        )[0].PAPDesc;\r\n                        console.log(papdesc);\r\n                        setActiveItem(name);\r\n                        setPapAreaResp(\r\n                          desviaciones.filter(\r\n                            (y) =>\r\n                              x.Id === y.Id && x.SubCategoria === y.SubCategoria\r\n                          )[0].AreaResponsable\r\n                        );\r\n                        setPapName(pap);\r\n                        setPapDesc(papdesc);\r\n                        document.getElementById(\"papname\").value = pap;\r\n                        document.getElementById(\"papdesc\").value = papdesc;\r\n                        document\r\n                          .getElementById(\"pap_block\")\r\n                          .classList.remove(\"invisible\");\r\n                        closeNav();\r\n                      }}\r\n                    >\r\n                      <div>{x.Usuario}</div>\r\n                      <div>{x.Area}</div>\r\n                      <div>\r\n                        {FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido))}\r\n                      </div>\r\n                      <div>{x.Tipo}</div>\r\n                      <div>{x.Categoria}</div>\r\n                      <div>{x.SubCategoria}</div>\r\n                    </div>\r\n                  );\r\n                })\r\n            ) : (\r\n              <div className=\"desvDetalle\">Sin Desviaciones</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"detalle rojo\">\r\n          {activeItem && (\r\n            <div className=\"desvImg\">\r\n              <img\r\n                src={\r\n                  desviaciones.filter(\r\n                    (x) =>\r\n                      x.Id === activeItem.split(\"_\")[0] &&\r\n                      x.SubCategoria === activeItem.split(\"_\")[1]\r\n                  )[0].Imagen === null\r\n                    ? dummy\r\n                    : desviaciones.filter(\r\n                        (x) =>\r\n                          x.Id === activeItem.split(\"_\")[0] &&\r\n                          x.SubCategoria === activeItem.split(\"_\")[1]\r\n                      )[0].Imagen\r\n                }\r\n                alt=\"imagen\"\r\n                width=\"40%\"\r\n              ></img>\r\n            </div>\r\n          )}\r\n          {activeItem && (\r\n            <div className=\"detalleContent\">\r\n              <h4>\r\n                {\r\n                  desviaciones.filter(\r\n                    (x) =>\r\n                      x.Id === activeItem.split(\"_\")[0] &&\r\n                      x.SubCategoria === activeItem.split(\"_\")[1]\r\n                  )[0].Id\r\n                }\r\n              </h4>\r\n              <h5>\r\n                Desviación:{\" \"}\r\n                {\r\n                  desviaciones.filter(\r\n                    (x) =>\r\n                      x.Id === activeItem.split(\"_\")[0] &&\r\n                      x.SubCategoria === activeItem.split(\"_\")[1]\r\n                  )[0].SubCategoria\r\n                }\r\n              </h5>\r\n              <h5>\r\n                Detalle:{\" \"}\r\n                {desviaciones.filter(\r\n                  (x) =>\r\n                    x.Id === activeItem.split(\"_\")[0] &&\r\n                    x.SubCategoria === activeItem.split(\"_\")[1]\r\n                )[0].Detalle === null\r\n                  ? \"Sin Detalle\"\r\n                  : desviaciones.filter(\r\n                      (x) =>\r\n                        x.Id === activeItem.split(\"_\")[0] &&\r\n                        x.SubCategoria === activeItem.split(\"_\")[1]\r\n                    )[0].Detalle}\r\n              </h5>\r\n              {desviaciones.filter(\r\n                (x) =>\r\n                  x.Id === activeItem.split(\"_\")[0] &&\r\n                  x.SubCategoria === activeItem.split(\"_\")[1]\r\n              )[0].PersonasObservadas !== null && (\r\n                <h5>\r\n                  Personas Observadas:{\" \"}\r\n                  {\r\n                    desviaciones.filter(\r\n                      (x) =>\r\n                        x.Id === activeItem.split(\"_\")[0] &&\r\n                        x.SubCategoria === activeItem.split(\"_\")[1]\r\n                    )[0].PersonasObservadas\r\n                  }\r\n                </h5>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"detalle corral\">\r\n          {\r\n            <div id=\"pap_block\" className=\"pap invisible\">\r\n              <form>\r\n                <div className=\"PACname\">\r\n                  <label\r\n                    onClick={() => {\r\n                      console.log(\r\n                        desviaciones.filter(\r\n                          (y) =>\r\n                            activeItem.split(\"_\")[0] === y.Id &&\r\n                            activeItem.split(\"_\")[1] === y.SubCategoria\r\n                        )[0],\r\n                        papAreaResp,\r\n                        papDesc,\r\n                        papName\r\n                      );\r\n                    }}\r\n                  >\r\n                    Plan de Acción Preventiva *\r\n                  </label>\r\n                </div>\r\n                <input\r\n                  style={{\r\n                    border: !papName ? \"2px solid crimson\" : \"1px solid green\",\r\n                  }}\r\n                  type=\"text\"\r\n                  id=\"papname\"\r\n                  name=\"papname\"\r\n                  placeholder=\"Nombre del Plan..\"\r\n                  onChange={(e) => {\r\n                    setPapName(e.target.value);\r\n                  }}\r\n                />\r\n\r\n                <label>Descripción *</label>\r\n                <textarea\r\n                  style={{\r\n                    border: !papDesc ? \"2px solid crimson\" : \"1px solid green\",\r\n                  }}\r\n                  id=\"papdesc\"\r\n                  name=\"papdesc\"\r\n                  placeholder=\"Detalle del Plan..\"\r\n                  onChange={(e) => {\r\n                    setPapDesc(e.target.value);\r\n                  }}\r\n                />\r\n\r\n                <label>Area Responsable *</label>\r\n                <select\r\n                  style={{\r\n                    border: !papAreaResp\r\n                      ? \"2px solid crimson\"\r\n                      : \"1px solid green\",\r\n                  }}\r\n                  id=\"arearesp\"\r\n                  name=\"arearesp\"\r\n                  onChange={(e) => {\r\n                    setPapAreaResp(e.target.value);\r\n                  }}\r\n                >\r\n                  {activeItem &&\r\n                    desviaciones.filter(\r\n                      (y) =>\r\n                        activeItem.split(\"_\")[0] === y.Id &&\r\n                        activeItem.split(\"_\")[1] === y.SubCategoria\r\n                    )[0].AreaResponsable === null && (\r\n                      <option disabled hidden value=\"Seleccionar Area\" selected>\r\n                        Seleccionar Area\r\n                      </option>\r\n                    )}\r\n\r\n                  {grupoArea &&\r\n                    grupoArea\r\n                      .filter((x) => x != \"Todas\")\r\n                      .map((x) => {\r\n                        return x === papAreaResp ? (\r\n                          <option key={\"area\" + x} value={x} selected>\r\n                            {x}\r\n                          </option>\r\n                        ) : (\r\n                          <option key={\"area\" + x} value={x}>\r\n                            {x}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                </select>\r\n              </form>\r\n              <button\r\n                disabled={!papAreaResp || !papName || !papDesc}\r\n                className={\r\n                  !papAreaResp || !papName || !papDesc\r\n                    ? \"submit deshabilitado\"\r\n                    : \"submit\"\r\n                }\r\n                onClick={registrar}\r\n              >\r\n                Asignar\r\n              </button>\r\n            </div>\r\n          }\r\n          {activeItem && <div className=\"pap\"></div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Desviaciones;\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport \"./reportes_home.css\";\nimport { useHistory } from \"react-router-dom\";\nimport dummy from \"./Dummy.png\";\nimport { Contexto } from \"./Contexto\";\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\n\nfunction ExcelDateToJSDate(serial) {\n  var utc_days = Math.floor(serial - 25568);\n  var utc_value = utc_days * 86400;\n  var date_info = new Date(utc_value * 1000);\n\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\n\n  var total_seconds = Math.floor(86400 * fractional_day);\n\n  var seconds = total_seconds % 60;\n\n  total_seconds -= seconds;\n\n  var hours = Math.floor(total_seconds / (60 * 60));\n  var minutes = Math.floor(total_seconds / 60) % 60;\n\n  var date_data = new Date(\n    date_info.getFullYear(),\n    date_info.getMonth(),\n    date_info.getDate(),\n    hours,\n    minutes,\n    seconds\n  );\n\n  return date_data;\n}\n\nfunction FechaStringShort(fecha) {\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\n  return fechaStr;\n}\n\nexport default function ReportHome({ user }) {\n  const history = useHistory();\n  const [data, setData] = useState();\n  const [areas, setAreas] = useState();\n  const {\n    [\"grupoArea\"]: [grupoArea, setGrupoArea],\n  } = useContext(Contexto);\n  const {\n    [\"tipoReporte\"]: [tipoReporte, setTipoReporte],\n  } = useContext(Contexto);\n  function HandleNuevo() {\n    if (tipoReporte === \"Reporte de Recorrido\") {\n      history.push(\"/recorrido\");\n    } else {\n      history.push(\"/reporte_turno\");\n    }\n  }\n  const [slideIdx, setSlideIdx] = useState(0);\n  const [filtrado, setfiltrado] = useState();\n\n  function changeSlide(e) {\n    let x;\n    e.target.className === \"next\" ? (x = 1) : (x = -1);\n    let newIdx = slideIdx + x;\n    var elem = document.getElementsByClassName(\"mySlides\");\n    if (newIdx >= elem.length) {\n      newIdx = 0;\n    } else if (newIdx < 0) {\n      newIdx = elem.length - 1;\n    }\n    elem[slideIdx].classList.remove(\"default\");\n    elem[newIdx].classList.add(\"default\");\n    setSlideIdx(newIdx);\n  }\n\n  const [activeMenu, setActiveMenu] = useState(0);\n\n  const sacardata = async () => {\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"100%\";\n    elem.style.height = \"100%\";\n    let data = [];\n    let datas = [];\n    const creds = require(\"./sasso-app.json\"); // the file saved above\n    const doc = new GoogleSpreadsheet(\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\n    );\n    await doc.useServiceAccountAuth(creds);\n    await doc.loadInfo(); // loads document properties and worksheets\n    let sheet = doc.sheetsById[1249329599];\n    let rows = await sheet.getRows();\n    let cols = await sheet.columnCount;\n    let encabezado = await sheet.headerValues;\n\n    let lastr = rows.length + 1;\n    var j, i;\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\n    await sheet.loadCells({\n      // GridRange object\n      startRowIndex: 0,\n      endRowIndex: lastr,\n      startColumnIndex: 0,\n      endColumnIndex: cols,\n    });\n    for (j = 1; j < lastr; j++) {\n      data = [];\n      for (i = 0; i <= cols - 1; i++) {\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\n      }\n      datas.push(data);\n    }\n    //AREAS\n    sheet = doc.sheetsById[1705686078];\n    rows = await sheet.getRows();\n    cols = await sheet.columnCount;\n    encabezado = await sheet.headerValues;\n    let datas_areas = [];\n    lastr = rows.length + 1;\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\n    await sheet.loadCells({\n      // GridRange object\n      startRowIndex: 0,\n      endRowIndex: lastr,\n      startColumnIndex: 0,\n      endColumnIndex: cols,\n    });\n    for (j = 1; j < lastr; j++) {\n      data = [];\n      for (i = 0; i <= cols - 1; i++) {\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\n      }\n      datas_areas.push(data);\n    }\n    setAreas(datas_areas);\n    const unique = [...new Set(datas_areas.map((item) => item.grupo))];\n    unique.sort();\n    unique.unshift(\"Todas\");\n    setGrupoArea(unique);\n    //AREAS\n    datas.forEach((x) => {\n      x.grupo =\n        datas_areas[datas_areas.findIndex((y) => y.name === x.Area)].grupo;\n      if (x.Incumple === \"Y\") {\n        x.cumple = 0;\n      } else {\n        x.cumple = 1;\n      }\n      x.total = 1;\n    });\n\n    setData(datas);\n\n    let d = new Date();\n    let dm7 = new Date();\n    dm7 = dm7.setDate(dm7.getDate() - 7);\n    d = FechaStringShort(d);\n    dm7 = FechaStringShort(dm7);\n    console.log(d, dm7);\n    let miReporte = datas.filter(\n      (x) =>\n        x.Reporte === tipoReporte &&\n        FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) <= d &&\n        FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) >= dm7\n    );\n    miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n    let listID = [...new Set(miReporte.map((x) => x.Id))];\n    setfiltrado(listID);\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"0%\";\n    elem.style.height = \"0%\";\n  };\n\n  const menu = [\"Últimos 7 días\", \"Este Mes\", \"Mis Reportes\", \"Otros\"];\n  function handleMenu(e) {\n    var elem = document.getElementsByClassName(\"item menu-boton\");\n    let idx = parseInt(e.target.name.split(\"-\")[0]);\n    let nombre = e.target.name.split(\"-\")[1];\n    elem[activeMenu].classList.remove(\"menu-activo\");\n    elem[idx].classList.add(\"menu-activo\");\n    setActiveMenu(idx);\n    if (idx === 0) {\n      let d = new Date();\n      let dm7 = new Date();\n      dm7 = dm7.setDate(dm7.getDate() - 7);\n      d = FechaStringShort(d);\n      dm7 = FechaStringShort(dm7);\n      console.log(d, dm7);\n      let miReporte = data.filter(\n        (x) =>\n          x.Reporte === tipoReporte &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) <= d &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) >= dm7\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    } else if (idx === 1) {\n      let miReporte = data.filter(\n        (x) =>\n          x.Reporte === tipoReporte &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)).substring(\n            5,\n            7\n          ) === FechaStringShort(new Date()).substring(5, 7)\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    } else if (idx === 2) {\n      let miReporte = data.filter(\n        (x) => x.Reporte === tipoReporte && x.Usuario === user\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    } else {\n      let miReporte = data.filter((x) => x.Reporte === tipoReporte);\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    }\n  }\n  useEffect(() => {\n    if (!data) {\n      sacardata();\n    } else {\n      var elem = document.getElementsByClassName(\"item menu-boton\");\n      for (var ele of elem) {\n        ele.classList.remove(\"menu-activo\");\n      }\n      elem[0].classList.add(\"menu-activo\");\n      setActiveMenu(0);\n      let d = new Date();\n      let dm7 = new Date();\n      dm7 = dm7.setDate(dm7.getDate() - 7);\n      d = FechaStringShort(d);\n      dm7 = FechaStringShort(dm7);\n      console.log(d, dm7);\n      let miReporte = data.filter(\n        (x) =>\n          x.Reporte === tipoReporte &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) <= d &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) >= dm7\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    }\n  }, [data, tipoReporte]);\n\n  return (\n    <div className=\"Contenedor\">\n      <div id=\"cargando\" className=\"cargando\">\n        Cargando...\n      </div>\n      <div className=\"ReporteHome\">\n        <h1 className=\"item cuatro\">{tipoReporte}</h1>\n        <div className=\"item cuatro\">\n          {data && (\n            <div class=\"slideshow-container\">\n              {[\n                ...new Set(\n                  data\n                    .sort((a, b) => b.FechaRecorrido - a.FechaRecorrido)\n                    .filter(\n                      (y) => y.Reporte === tipoReporte && y.Imagen != null\n                    )\n                    .map((o) => o.Imagen)\n                ),\n              ].map((y, idx) => {\n                let nombre = \"mySlides fade default\";\n                if (idx !== 0) {\n                  nombre = \"mySlides fade\";\n                }\n                if (idx < 10) {\n                  return (\n                    <div class={nombre}>\n                      <div class=\"numbertext\">\n                        {idx + 1}/\n                        {[\n                          ...new Set(\n                            data\n                              .sort(\n                                (a, b) => b.FechaRecorrido - a.FechaRecorrido\n                              )\n                              .filter(\n                                (y) =>\n                                  y.Reporte === tipoReporte && y.Imagen != null\n                              )\n                              .map((o) => o.Imagen)\n                          ),\n                        ].length >= 10\n                          ? 10\n                          : [\n                              ...new Set(\n                                data\n                                  .sort(\n                                    (a, b) =>\n                                      b.FechaRecorrido - a.FechaRecorrido\n                                  )\n                                  .filter(\n                                    (y) =>\n                                      y.Reporte === tipoReporte &&\n                                      y.Imagen != null\n                                  )\n                                  .map((o) => o.Imagen)\n                              ),\n                            ].length}\n                      </div>\n                      <img\n                        src={y}\n                        style={{ width: \"65%\" }}\n                        alt={data.filter((x) => x.Imagen === y)[0].Detalle}\n                      />\n                      <div class=\"text-carousel\">\n                        {data.filter((x) => x.Imagen === y)[0].Area}{\" \"}\n                        {FechaStringShort(\n                          ExcelDateToJSDate(\n                            data.filter((x) => x.Imagen === y)[0].FechaRecorrido\n                          )\n                        )}{\" \"}\n                        {data.filter((x) => x.Imagen === y)[0].Detalle}\n                      </div>\n                    </div>\n                  );\n                }\n              })}\n\n              <a class=\"prev\" onClick={changeSlide}>\n                &#10094;\n              </a>\n              <a class=\"next\" onClick={changeSlide}>\n                &#10095;\n              </a>\n            </div>\n          )}\n        </div>\n        <h3 className=\"item cuatro\">Desviaciones Recientes</h3>\n        {menu.map((x, idx) => {\n          let nombre = \"item menu-boton\";\n          if (idx === 0) {\n            nombre = \"item menu-boton menu-activo\";\n          }\n          return (\n            <button\n              className={nombre}\n              key={idx + \"-\" + x}\n              name={idx + \"-\" + x}\n              onClick={handleMenu}\n            >\n              {x}\n            </button>\n          );\n        })}\n        {filtrado &&\n          filtrado.map((x) => {\n            return (\n              <div className=\"item cuatro cartita\">\n                {activeMenu === 2 && (\n                  <button className=\"editarReporte\">\n                    {\" \"}\n                    <i class=\"material-icons\">mode_edit</i> Editar\n                  </button>\n                )}\n                <h4>\n                  {FechaStringShort(\n                    ExcelDateToJSDate(\n                      data.filter((o) => o.Id === x)[0].FechaRecorrido\n                    )\n                  )}\n                </h4>\n                <p>{data.filter((o) => o.Id === x)[0].Area}</p>\n                <p>{data.filter((o) => o.Id === x)[0].Usuario}</p>\n                {[\n                  ...new Set(\n                    data\n                      .filter((y) => y.Id === x && y.Imagen != null)\n                      .map((o) => o.Imagen)\n                  ),\n                ].length > 0 && (\n                  <div className=\"mini-carrusel\">\n                    {[\n                      ...new Set(\n                        data\n                          .filter((y) => y.Id === x && y.Imagen != null)\n                          .map((o) => o.Imagen)\n                      ),\n                    ].map((y) => {\n                      return (\n                        <p className=\"mini-carrusel-imagen\">\n                          <img src={y} width=\"50%\" alt={\"source: \" + y}></img>\n                        </p>\n                      );\n                    })}\n                  </div>\n                )}\n\n                {[\n                  ...new Set(\n                    data\n                      .filter((y) => y.Id === x && y.Incumple === \"Y\")\n                      .map((o) => o.SubCategoria)\n                  ),\n                ].length === 0 ? (\n                  <p style={{ textAlign: \"left\" }}>Sin Desviaciones</p>\n                ) : (\n                  <>\n                    <p style={{ textAlign: \"left\" }}>Desviaciones:</p>\n                    <p\n                      style={{ textAlign: \"left\" }}\n                      onClick={() =>\n                        console.log(\n                          new Set(\n                            data\n                              .filter((y) => y.Id === x && y.Incumple === \"Y\")\n                              .map((o) => o.Tipo + \": \" + o.SubCategoria)\n                          )\n                        )\n                      }\n                    >\n                      {[\n                        ...new Set(\n                          data\n                            .filter((y) => y.Id === x && y.Incumple === \"Y\")\n                            .map((o) => o.Tipo + \": \" + o.SubCategoria)\n                        ),\n                      ].join(\" / \")}\n                    </p>\n                  </>\n                )}\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport \"./App.css\";\nimport \"./App_extra.css\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport Home from \"./Home.js\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport userData from \"./employee.json\";\nimport Add from \"./images/fondo.jpg\";\nimport {\n  Menu,\n  Icon,\n  Button,\n  Segment,\n  Sidebar,\n  Dropdown,\n} from \"semantic-ui-react\";\nimport Observacion from \"./observacion\";\nimport Tareas from \"./tareas\";\nimport Consultas from \"./consulta\";\nimport Registrar from \"./registrar\";\nimport Login from \"./Login\";\nimport { Contexto } from \"./Contexto\";\nimport Perfil from \"./profile\";\nimport Schedule from \"./schedule\";\nimport ReporteDeTurno from \"./reporteDeTurno\";\nimport Minuta from \"./minuta\";\nimport Desviaciones from \"./desviaciones\";\nimport ReportHome from \"./reportes_home\";\n\nfunction App() {\n  let iniciado = null;\n  let caption = \"Sign In\";\n  if (sessionStorage.getItem(\"user\")) {\n    iniciado = sessionStorage.user;\n    caption = \"Sign Out\";\n  } else if (localStorage.getItem(\"user\")) {\n    iniciado = localStorage.user;\n    caption = \"Sign Out\";\n  }\n  const {\n    [\"user\"]: [user, setUser],\n  } = useContext(Contexto);\n  const {\n    [\"pagina\"]: [pagina, setPagina],\n  } = useContext(Contexto);\n  const {\n    [\"width\"]: [width, setWidth],\n  } = useContext(Contexto);\n  const breakpoint = 620;\n  const {\n    [\"areas\"]: [areas, setAreas],\n  } = useContext(Contexto);\n  const {\n    [\"tipoReporte\"]: [tipoReporte, setTipoReporte],\n  } = useContext(Contexto);\n  const [session, setSession] = useState(caption);\n  const [open, setOpen] = React.useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [activeItem, setActiveItem] = useState(\"\");\n  const [recordar, setRecordar] = useState(false);\n  const [visible, setVisible] = useState(false);\n\n  const handleItemClick = (e, { name }) => {\n    setActiveItem(name);\n  };\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"userPassword\") {\n      setPassword(value);\n    }\n  };\n\n  const login = (event, password) => {\n    event.preventDefault();\n    var found = false;\n    for (var i = 0; i < userData.length; i++) {\n      if (userData[i].id === password) {\n        found = true;\n        setUser(userData[i].Nombre);\n        sessionStorage.user = userData[i].Nombre;\n        if (recordar) {\n          localStorage.user = userData[i].Nombre;\n        }\n        setSession(\"Sign Out\");\n        break;\n      }\n    }\n    if (!found) alert(`Usuario No encontrado`);\n  };\n\n  React.useEffect(() => {\n    const handleWindowResize = () => setWidth(window.innerWidth);\n    window.addEventListener(\"resize\", handleWindowResize);\n\n    // Return a function from the effect that removes the event listener\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n\n  return (\n    <Router basename={\"/\"}>\n      {pagina == \"/Reporte\" && (\n        <Link\n          to={\n            tipoReporte == \"Reporte de Turno\" ? \"/reporte_turno\" : \"/recorrido\"\n          }\n          onClick={() => {\n            setPagina(\n              tipoReporte == \"Reporte de Turno\"\n                ? \"/reporte_turno\"\n                : \"/recorrido\"\n            );\n          }}\n        >\n          <i class=\"material-icons nuevo-reporte\">add_circle_outline</i>\n        </Link>\n      )}\n      {pagina == \"/Reporte\" && (\n        <span className=\"nuevo-reporte-caption\">Nuevo Reporte</span>\n      )}\n      <div style={{ padding: \"2%\", backgroundImage: `url(${Add})` }}>\n        <Menu color=\"red\" size=\"huge\">\n          <Menu.Item\n            header\n            as={Link}\n            to=\"/home\"\n            onClick={() => {\n              setPagina(\"/\");\n            }}\n          >\n            <b style={{ color: \"red\" }}>Mi Cultura QSEB</b>\n          </Menu.Item>\n          {width < breakpoint ? (\n            <Menu.Item position=\"right\">\n              <Icon\n                size=\"large\"\n                name=\"bars\"\n                color=\"red\"\n                onClick={() => {\n                  setVisible(true);\n                }}\n              />\n            </Menu.Item>\n          ) : (\n            <>\n              <Dropdown item text=\"Reportes\">\n                <Dropdown.Menu>\n                  <Dropdown.Item\n                    text=\"Reporte de Turno\"\n                    as={Link}\n                    to={user ? \"/Reporte\" : \"/Login\"}\n                    onClick={() => {\n                      setTipoReporte(\"Reporte de Turno\");\n                      setPagina(\"/Reporte\");\n                      setAreas();\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Recorridos\"\n                    as={Link}\n                    to={user ? \"/Reporte\" : \"/Login\"}\n                    onClick={() => {\n                      setTipoReporte(\"Reporte de Recorrido\");\n                      setPagina(\"/Reporte\");\n                      setAreas();\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Programar Recorridos\"\n                    as={Link}\n                    to={user ? \"/programar\" : \"/Login\"}\n                    onClick={() => {\n                      setPagina(\"/programar\");\n                    }}\n                  />\n                  <Dropdown.Item text=\"Actos Inseguros\" />\n                  <Dropdown.Item text=\"Condiciones Inseguras\" />\n                </Dropdown.Menu>\n              </Dropdown>\n              <Menu.Item name=\"Noticias\">Noticias</Menu.Item>\n              <Menu.Item position=\"right\">\n                {user ? (\n                  //<Icon\n                  //  size=\"large\"\n                  // name=\"user circle\"\n                  //  color={user ? \"green\" : \"black\"}\n                  //>\n                  <Button\n                    icon=\"user \"\n                    color=\"green\"\n                    circular\n                    as={Link}\n                    to=\"/perfil\"\n                  />\n                ) : (\n                  <Button\n                    content=\"Iniciar Sesion\"\n                    style={{ backgroundColor: \"#F44336\", color: \"white\" }}\n                    as=\"a\"\n                    href=\"/Login\"\n                  />\n                )}\n              </Menu.Item>\n            </>\n          )}\n        </Menu>\n        <Sidebar.Pushable as={Segment}>\n          <Sidebar\n            as={Menu}\n            animation=\"overlay\"\n            icon=\"labeled\"\n            onHide={() => setVisible(false)}\n            vertical\n            direction=\"right\"\n            visible={visible}\n            width=\"wide\"\n            color=\"red\"\n          >\n            <Menu.Item\n              name=\"Reporte\"\n              as={Link}\n              to={user ? \"/Reporte\" : \"/Login\"}\n              onClick={() => {\n                setTipoReporte(\"Reporte de Turno\");\n                setVisible(false);\n                setPagina(\"/Reporte\");\n                setAreas();\n              }}\n            >\n              Reporte de Turno\n            </Menu.Item>\n            <Menu.Item\n              name=\"Recorridos\"\n              as={Link}\n              to={user ? \"/Reporte\" : \"/Login\"}\n              onClick={() => {\n                setTipoReporte(\"Reporte de Recorrido\");\n                setVisible(false);\n                setPagina(\"/Reporte\");\n                setAreas();\n              }}\n            >\n              Recorridos\n            </Menu.Item>\n            <Menu.Item\n              name=\"ProgramarRecorridos\"\n              as={Link}\n              to={user ? \"/programar\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n                setPagina(\"/programar\");\n              }}\n            >\n              Programar Recorridos\n            </Menu.Item>\n            <Menu.Item name=\"ActosI\">Actos Inseguros</Menu.Item>\n            <Menu.Item name=\"CondicionesI\">Condiciones Inseguras</Menu.Item>\n            <Menu.Item name=\"Noticias\">Noticias</Menu.Item>\n            {user && user.includes(\"Cheung\") && (\n              <Menu.Item\n                name=\"Minutas\"\n                as={Link}\n                to={user ? \"/minutas\" : \"/Login\"}\n                onClick={() => {\n                  setVisible(false);\n                  setPagina(\"/minutas\");\n                }}\n              >\n                Minutas\n              </Menu.Item>\n            )}\n            <Menu.Item\n              name=\"Perfil\"\n              as={Link}\n              to={user ? \"/perfil\" : \"/Login\"}\n              onClick={() => {\n                setPagina(user ? \"/perfil\" : \"/Login\");\n                setVisible(false);\n              }}\n            >\n              {user ? (\n                user\n              ) : (\n                <Button\n                  content=\"Iniciar Sesion\"\n                  style={{ backgroundColor: \"#F44336\", color: \"white\" }}\n                  as={Link}\n                  onClick={() => {\n                    setPagina(user ? \"/perfil\" : \"/Login\");\n                    setVisible(false);\n                  }}\n                  to=\"/Login\"\n                />\n              )}\n            </Menu.Item>\n          </Sidebar>\n\n          <Sidebar.Pusher>\n            <Segment\n              style={{\n                backgroundColor: \"whitesmoke\",\n                height: \"90vh\",\n                overflowY: \"auto\",\n              }}\n            >\n              <Switch>\n                <Route\n                  exact\n                  path=\"/home\"\n                  render={(props) =>\n                    user ? (\n                      <Home {...props} user={user} />\n                    ) : (\n                      <Login {...props} user={user} />\n                    )\n                  }\n                />\n                <Route\n                  path=\"/registros\"\n                  render={(props) => <Registrar {...props} user={user} />}\n                />\n                <Route\n                  path=\"/tareas\"\n                  render={(props) => <Tareas {...props} user={user} />}\n                />\n                <Route\n                  path=\"/observaciones\"\n                  render={(props) => <Consultas {...props} user={user} />}\n                />\n                <Route\n                  path=\"/observacion/:id\"\n                  render={(props) => <Observacion {...props} user={user} />}\n                />\n                <Route\n                  path=\"/Login\"\n                  render={(props) => <Login {...props} user={user} />}\n                />\n\n                <Route\n                  path=\"/reporte\"\n                  render={(props) => <ReportHome {...props} user={user} />}\n                />\n                <Route\n                  path=\"/reporte_turno\"\n                  render={(props) => <ReporteDeTurno {...props} user={user} />}\n                />\n                <Route\n                  path=\"/recorrido\"\n                  render={(props) => <ReporteDeTurno {...props} user={user} />}\n                />\n                <Route\n                  path=\"/perfil\"\n                  render={(props) => <Perfil {...props} user={user} />}\n                />\n                <Route\n                  path=\"/desviaciones\"\n                  render={(props) => <Desviaciones {...props} user={user} />}\n                />\n                <Route\n                  path=\"/minutas\"\n                  render={(props) => <Minuta {...props} user={user} />}\n                />\n                <Route\n                  path=\"/programar\"\n                  render={(props) => <Schedule {...props} user={user} />}\n                />\n                <Route\n                  path=\"/\"\n                  //render={(props) => <Home {...props} user={user} />}\n                  render={(props) =>\n                    user ? (\n                      <Home {...props} user={user} />\n                    ) : (\n                      <Login {...props} user={user} />\n                    )\n                  }\n                />\n              </Switch>\n            </Segment>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ContextoProvider from \"./Contexto\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextoProvider>\n      <App />\n    </ContextoProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}