{"version":3,"sources":["Contexto.js","Home.js","images/fondo.jpg","observacion.js","firebase/firebase.js","tareas.js","consulta.js","apikeys.js","registrar.js","tipos.js","Login.js","Reporte.js","profile.js","App.js","serviceWorker.js","index.js"],"names":["Contexto","React","createContext","children","iniciado","sessionStorage","getItem","user","localStorage","useState","setUser","recordar","setRecordar","data","setData","areas","setAreas","reportData","setRepData","pagina","setPagina","personal","j","userData","length","Nombre","push","key","text","value","contexto","Provider","ExcelDateToJSDate","serial","utc_days","Math","floor","date_info","Date","fractional_day","total_seconds","seconds","hours","minutes","getFullYear","getMonth","getDate","FechaStringShort","fecha","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","Home","hoy","setHoy","ayer","setAyer","mes","setMes","chartData","setChartData","chartMes","setChartMes","chartRubros","setChartRubros","mesAnterior","setMesAnterior","setAplicable","saving","activeIndex","setIndex","leyendaMes","setLeyendaMes","leyenda","setLeyenda","dias","Array","from","_","index","meses","rubros","lista","i","title","today","currentDay","yesterday","setDate","wd","getDay","dataSemana","setDS","semana","setSemana","sacarAreas","a","datas","creds","require","doc","GoogleSpreadsheet","useServiceAccountAuth","loadInfo","sheet","sheetsById","getRows","rows","columnCount","cols","headerValues","encabezado","lastr","loadCells","startRowIndex","endRowIndex","startColumnIndex","endColumnIndex","window","getCell","sacardata","filter","item","Aplica","arr","x","y","ceil","reduce","b","ids","arr2","arr3","temp","rubro","useEffect","Dimmer","active","page","Loader","Segment","Header","Input","id","label","size","type","defaultValue","onChange","e","anno","substring","dia","d","weekday","document","getElementById","handleSemana","target","Accordion","Title","onClick","titleProps","Icon","name","toFixed","Content","map","area","Grid","columns","stackable","Column","style","backgroundImage","color","Divider","onMouseLeave","height","width","onNearestX","background","stackBy","position","right","top","items","Observacion","params","useParams","startDate","dd","mm","yyyy","hora","getHours","minutos","getMinutes","date","toISOString","slice","toString","ar","br","cr","dr","er","fr","gr","hr","ir","jr","kr","lr","mr","nr","or","pr","qr","rr","sr","tr","ur","vr","fecha_hora","nombre","categoria","observaciones","severidad","pac","fecha_cierre","responsable","anexo","status","confirmado","extension","nueva_fecha","detalle","anexo2","obsDetalle","persObservadas","aplica","personas","join","console","log","Container","Item","Image","src","as","Description","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","auth","firestore","xltoDate","fechaStr","Tareas","myData","setMyData","myPac","setMyPac","activoID","setActivoID","totalPagina","setTotalPagina","setExtension","extDate","setExtDate","setDetalle","previewImg","setSaving","preventDate","setPreventDate","pap","setpap","setImageAsFile","imgUrl","imageAsUrl","setImageAsUrl","setSubir","event","files","imageFile","reader","FileReader","preview","querySelector","onload","setAttribute","result","readAsDataURL","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","err","registrar","extendido","wr","xr","formula","saveUpdatedCells","display","alignItems","justifyContent","Pagination","defaultActivePage","ellipsisItem","content","icon","firstItem","lastItem","prevItem","nextItem","totalPages","onPageChange","activePage","List","round","overflowY","toUpperCase","FechaString","Checkbox","disabled","checked","Form","TextArea","detalle_pac","placeholder","fluid","className","alt","Button","inverted","priceEls","querySelectorAll","innerText","click","iniciar","Consultas","dataFound","setDataFound","inicio","setInicio","final","setFinal","setActiveIndex","buscar","setBuscar","creador","setCreador","activeItem","setActiveItem","open","setOpen","sort","keyA","keyB","includes","Modal","onClose","onOpen","image","wrapped","observador","observado","Actions","Label","Dropdown","multiple","search","selection","Group","divided","href","prevObject","Meta","Extra","Registros","dummyImg","setID","loading","setLoading","perfil","setPerfil","correo","setCorreo","step","setStep","tipo","setTipo","cat","setCat","data2","setData2","catData","setCatData","subCatData","setSubCatData","subCat","setSubCat","detalles","setDetalles","setArea","que","setQue","donde","setDonde","pacStep","setPacStep","involucrados","setInvolucrados","plan","setPlan","setStartDate","resp","setResp","segCat","useRef","segSubCat","setPreviewImg","imageAsFile","subir","guardar","setGuardar","confirmar","setConfirmar","setSeveridad","imgUpload","setImgUpload","history","useHistory","useContext","Blob","archivoSelect","error","ref","put","on","snapShot","child","getDownloadURL","then","fireBaseUrl","Tipo","Categoria","datas2","sheet2","rows2","SubCategoria","handleTipoClick","current","focus","datosUsuario","Perfil","datoResp","handleCatClick","handleStep","handleArea","UniqueID","now","addRow","Personas_Observadas","Detalle","notificar","codigo","templateParams","to_email","fecha_limite","lugar","qseb","observacion","imagen","registrado","emailjs","send","apiKeys","response","handleFireBaseUpload","header","actions","positive","labelPosition","Step","ordered","attached","unstackable","completed","Popup","trigger","circular","Ref","innerRef","Card","itemsPerRow","raised","ui","button","scrolling","clearable","short","handleImageUpload","Categorias","Login","password","setPassword","textAlign","verticalAlign","maxWidth","stacked","iconPosition","currentTarget","onChangeHandler","preventDefault","found","alert","login","Message","Reporte","reportes","setReportes","setFecha","requerimientos","setReq","activeReq","setActiveR","incumple","setIncumple","percentage","setPercentage","turno","setTurno","campoOblig","duplicado","setDuplicado","listaArea","setListaArea","findIndex","url","img","archivo","uploadTask","sacarReportes","Usuario","Turno","Area","Fecha","delete","Requerimiento","req","Rubro","Involucrados","Imagen","setLista","crearLista","self","indexOf","revision","requerimiento","Acto","obligatorio","some","removeIndex","oldArray","validar","element","secondary","keys","radio","Row","basic","list","actos","Progress","percent","indicating","success","userInfo","floated","negative","removeItem","App","caption","innerWidth","setWidth","session","setSession","visible","setVisible","handleItemClick","handleWindowResize","addEventListener","removeEventListener","basename","padding","Add","Menu","Link","to","backgroundColor","Sidebar","Pushable","animation","onHide","vertical","direction","Pusher","exact","path","render","props","widths","fontSize","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.2d6bbac3.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport userData from \"./employee.json\";\r\n\r\nexport const Contexto = React.createContext(null);\r\n\r\nexport default ({ children }) => {\r\n  let iniciado = null;\r\n  if (sessionStorage.getItem(\"user\")) {\r\n    iniciado = sessionStorage.user;\r\n  } else if (localStorage.getItem(\"user\")) {\r\n    iniciado = localStorage.user;\r\n  }\r\n  const [user, setUser] = useState(iniciado);\r\n  const [recordar, setRecordar] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [areas, setAreas] = useState();\r\n  const [reportData, setRepData] = useState();\r\n  const [pagina, setPagina] = useState();\r\n  const personal = [];\r\n  for (var j = 0; j < userData.length; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  const contexto = {\r\n    user: [user, setUser],\r\n    recordar: [recordar, setRecordar],\r\n    data: [data, setData],\r\n    areas: [areas, setAreas],\r\n    reportData: [reportData, setRepData],\r\n    personal: personal,\r\n    pagina: [pagina, setPagina],\r\n  };\r\n\r\n  return <Contexto.Provider value={contexto}>{children}</Contexto.Provider>;\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Segment,\r\n  Header,\r\n  Statistic,\r\n  Table,\r\n  Button,\r\n  List,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Icon,\r\n  Input,\r\n  Grid,\r\n  Divider,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {\r\n  XYPlot,\r\n  XAxis,\r\n  YAxis,\r\n  VerticalGridLines,\r\n  HorizontalGridLines,\r\n  VerticalBarSeries,\r\n  Hint,\r\n  DiscreteColorLegend,\r\n} from \"react-vis\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${da}-${mo}-${ye}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Home({ user }) {\r\n  const [data, setData] = useState();\r\n  const [hoy, setHoy] = useState();\r\n  const [ayer, setAyer] = useState();\r\n  const [mes, setMes] = useState();\r\n  const [chartData, setChartData] = useState();\r\n  const [chartMes, setChartMes] = useState();\r\n  const [chartRubros, setChartRubros] = useState();\r\n  const [mesAnterior, setMesAnterior] = useState();\r\n  const [aplicable, setAplicable] = useState();\r\n  const [prueba, setPrueba] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [activeIndex, setIndex] = useState(-1);\r\n  const [areas, setAreas] = useState();\r\n  const [leyendaMes, setLeyendaMes] = useState();\r\n  const [leyenda, setLeyenda] = useState();\r\n  //Fechas\r\n  //fechas estan erradas hay que corregir\r\n  const dias = Array.from({ length: 31 }, (_, index) => index + 1);\r\n  const meses = Array.from({ length: 12 }, (_, index) => index + 1);\r\n  const rubros = [\"Seguridad\", \"Calidad\", \"Ambiental\", \"Bioseguridad\"];\r\n  const lista = [];\r\n  for (var i = 0; i < rubros.length; i++) {\r\n    lista.push({ title: rubros[i] });\r\n  }\r\n  let today = new Date();\r\n  let currentDay = new Date();\r\n  let yesterday = new Date(today);\r\n  yesterday.setDate(yesterday.getDate() - 1);\r\n  let wd = today.getDay();\r\n  wd === 0 ? (wd = 7) : (wd = wd);\r\n  //Fechas\r\n  const [dataSemana, setDS] = useState();\r\n  const [semana, setSemana] = useState(\r\n    FechaStringShort(today.setDate(today.getDate() - wd + 1))\r\n  );\r\n  function handleSemana(fecha) {\r\n    var anno = fecha.substring(0, 4);\r\n    var mes = fecha.substring(5, 7);\r\n    var dia = fecha.substring(8, 10);\r\n    var d = new Date(anno, mes - 1, dia);\r\n    let weekday = d.getDay();\r\n    weekday === 0 ? (weekday = 7) : (weekday = weekday);\r\n    d.setDate(d.getDate() - weekday + 1);\r\n    setSemana(FechaStringShort(d));\r\n    var selector = document.getElementById(\"semanas\");\r\n    selector.value = FechaStringShort(d);\r\n  }\r\n\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    setAplicable(\r\n      datas.filter((item) => {\r\n        return item.Aplica === \"Y\";\r\n      })\r\n    );\r\n    setHoy(\r\n      datas.filter((item) => {\r\n        return (\r\n          FechaStringShort(ExcelDateToJSDate(item.fecha)) ===\r\n          FechaStringShort(currentDay)\r\n        );\r\n      })\r\n    );\r\n    setAyer(\r\n      datas.filter((item) => {\r\n        return (\r\n          FechaStringShort(ExcelDateToJSDate(item.fecha)) ===\r\n          FechaStringShort(yesterday)\r\n        );\r\n      })\r\n    );\r\n    setMes(\r\n      datas.filter((item) => {\r\n        return ExcelDateToJSDate(item.fecha).getMonth() === today.getMonth();\r\n      })\r\n    );\r\n    let arr = [];\r\n    for (var i = 0; i < dias.length; i++) {\r\n      arr.push({\r\n        x: dias[i],\r\n        y: Math.ceil(\r\n          datas\r\n            .filter((item) => {\r\n              return (\r\n                ExcelDateToJSDate(item.fecha).getDate() === dias[i] &&\r\n                ExcelDateToJSDate(item.fecha).getMonth() === today.getMonth()\r\n              );\r\n            })\r\n            .reduce(function (a, b) {\r\n              return a + b.ids;\r\n            }, 0)\r\n        ),\r\n      });\r\n    }\r\n    setChartData(arr);\r\n    let arr2 = [];\r\n    for (var i = 0; i < meses.length; i++) {\r\n      arr2.push({\r\n        x: meses[i],\r\n        y: Math.ceil(\r\n          datas\r\n            .filter((item) => {\r\n              return ExcelDateToJSDate(item.fecha).getMonth() + 1 === meses[i];\r\n            })\r\n            .reduce(function (a, b) {\r\n              return a + b.ids;\r\n            }, 0)\r\n        ),\r\n      });\r\n    }\r\n    setChartMes(arr2);\r\n    let arr3 = [];\r\n    for (var j = 0; j < rubros.length; j++) {\r\n      let temp = [];\r\n      for (var i = 0; i < meses.length; i++) {\r\n        temp.push({\r\n          x: meses[i],\r\n          y: Math.ceil(\r\n            datas\r\n              .filter((item) => {\r\n                return (\r\n                  ExcelDateToJSDate(item.fecha).getMonth() + 1 === meses[i] &&\r\n                  item.rubro === rubros[j]\r\n                );\r\n              })\r\n              .reduce(function (a, b) {\r\n                return a + b.ids;\r\n              }, 0)\r\n          ),\r\n        });\r\n      }\r\n      arr3.push(temp);\r\n    }\r\n    setChartRubros(arr3);\r\n    setMesAnterior(\r\n      datas.filter((item) => {\r\n        return (\r\n          ExcelDateToJSDate(item.fecha).getMonth() === today.getMonth() - 1\r\n        );\r\n      })\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    }\r\n  }, [areas]);\r\n  useEffect(() => {\r\n    if (data) {\r\n      setDS(\r\n        data.filter((item) => {\r\n          return (\r\n            FechaStringShort(ExcelDateToJSDate(item.semana)) === semana &&\r\n            item.Aplica === \"Y\"\r\n          );\r\n        })\r\n      );\r\n    }\r\n  }, [semana]);\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n    if (data) {\r\n      setDS(\r\n        data.filter((item) => {\r\n          return (\r\n            FechaStringShort(ExcelDateToJSDate(item.semana)) === semana &&\r\n            item.Aplica === \"Y\"\r\n          );\r\n        })\r\n      );\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <div>\r\n      <Dimmer active={!data || saving} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Segment>\r\n        <Header>\r\n          <Input\r\n            id=\"semanas\"\r\n            label=\"Semana\"\r\n            size=\"mini\"\r\n            type=\"date\"\r\n            defaultValue={semana}\r\n            onChange={(e) => {\r\n              handleSemana(e.target.value);\r\n            }}\r\n          />\r\n        </Header>\r\n        <Header>Mi Cultura</Header>\r\n        {areas && dataSemana && (\r\n          <Accordion>\r\n            <Accordion.Title\r\n              index={0}\r\n              onClick={(e, titleProps) => {\r\n                const { index } = titleProps;\r\n                setIndex(activeIndex === index ? -1 : index);\r\n              }}\r\n              active={activeIndex === 0}\r\n            >\r\n              <Icon name=\"dropdown\" />\r\n              PLANTA MANUFACTURA PANAMA -Q-\r\n              {(\r\n                (1 -\r\n                  dataSemana.filter((item) => {\r\n                    return item.rubro === \"Calidad\";\r\n                  }).length *\r\n                    (0.22 / areas.length)) *\r\n                100\r\n              ).toFixed(2)}\r\n              -S-\r\n              {(\r\n                (1 -\r\n                  dataSemana.filter((item) => {\r\n                    return item.rubro === \"Seguridad\";\r\n                  }).length *\r\n                    (0.19 / areas.length)) *\r\n                100\r\n              ).toFixed(2)}\r\n              -E-\r\n              {(\r\n                (1 -\r\n                  dataSemana.filter((item) => {\r\n                    return item.rubro === \"Ambiente\";\r\n                  }).length *\r\n                    (0.27 / areas.length)) *\r\n                100\r\n              ).toFixed(2)}\r\n              -B-\r\n              {(\r\n                (1 -\r\n                  dataSemana.filter((item) => {\r\n                    return item.rubro === \"Bioseguridad\";\r\n                  }).length *\r\n                    (0.8 / areas.length)) *\r\n                100\r\n              ).toFixed(2)}\r\n            </Accordion.Title>\r\n            <Accordion.Content active={activeIndex === 0}>\r\n              {areas.map((area) => (\r\n                <li>\r\n                  {area.name}-Q-\r\n                  {(\r\n                    (1 -\r\n                      dataSemana.filter((item) => {\r\n                        return (\r\n                          item.area === area.name && item.rubro === \"Calidad\"\r\n                        );\r\n                      }).length *\r\n                        0.22) *\r\n                    100\r\n                  ).toFixed(2)}\r\n                  -S-\r\n                  {(\r\n                    (1 -\r\n                      dataSemana.filter((item) => {\r\n                        return (\r\n                          item.area === area.name && item.rubro === \"Seguridad\"\r\n                        );\r\n                      }).length *\r\n                        0.19) *\r\n                    100\r\n                  ).toFixed(2)}\r\n                  -E-\r\n                  {(\r\n                    (1 -\r\n                      dataSemana.filter((item) => {\r\n                        return (\r\n                          item.area === area.name && item.rubro === \"Ambiente\"\r\n                        );\r\n                      }).length *\r\n                        0.27) *\r\n                    100\r\n                  ).toFixed(2)}\r\n                  -B-\r\n                  {(\r\n                    (1 -\r\n                      dataSemana.filter((item) => {\r\n                        return (\r\n                          item.area === area.name &&\r\n                          item.rubro === \"Bioseguridad\"\r\n                        );\r\n                      }).length *\r\n                        0.8) *\r\n                    100\r\n                  ).toFixed(2)}\r\n                </li>\r\n              ))}\r\n            </Accordion.Content>\r\n          </Accordion>\r\n        )}\r\n\r\n        {hoy && ayer && mes && mesAnterior && <h1>Observaciones</h1>}\r\n        {rubros && (\r\n          <Grid columns={4} stackable>\r\n            {rubros.map((item) => {\r\n              return (\r\n                <Grid.Column>\r\n                  <Segment\r\n                    style={{\r\n                      backgroundImage:\r\n                        \"linear-gradient(to right,#F44336,#FFA043)\",\r\n                      color: \"white\",\r\n                    }}\r\n                  >\r\n                    <h1>0</h1>\r\n                    <p>{item}</p>\r\n                  </Segment>\r\n                </Grid.Column>\r\n              );\r\n            })}\r\n          </Grid>\r\n        )}\r\n        {hoy && ayer && mes && mesAnterior && <Divider />}\r\n        {hoy && ayer && mes && mesAnterior && (\r\n          <Grid columns={4} stackable>\r\n            <Grid.Column>\r\n              <Segment\r\n                style={{\r\n                  backgroundImage: \"linear-gradient(to right,#B0140E,#F44336)\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                <h1>\r\n                  {Math.ceil(\r\n                    hoy.reduce(function (a, b) {\r\n                      return a + b.ids;\r\n                    }, 0)\r\n                  )}\r\n                </h1>\r\n                <p>Hoy</p>\r\n              </Segment>\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Segment\r\n                style={{\r\n                  backgroundImage: \"linear-gradient(to right,#B0140E,#F44336)\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                <h1>\r\n                  {Math.ceil(\r\n                    ayer.reduce(function (a, b) {\r\n                      return a + b.ids;\r\n                    }, 0)\r\n                  )}\r\n                </h1>\r\n                <p>Ayer</p>\r\n              </Segment>\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Segment\r\n                style={{\r\n                  backgroundImage: \"linear-gradient(to right,#B0140E,#F44336)\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                <h1>\r\n                  {Math.ceil(\r\n                    mes.reduce(function (a, b) {\r\n                      return a + b.ids;\r\n                    }, 0)\r\n                  )}\r\n                </h1>\r\n                <p>Mes Actual</p>\r\n              </Segment>\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Segment\r\n                style={{\r\n                  backgroundImage: \"linear-gradient(to right,#B0140E,#F44336)\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                <h1>\r\n                  {Math.ceil(\r\n                    mesAnterior.reduce(function (a, b) {\r\n                      return a + b.ids;\r\n                    }, 0)\r\n                  )}\r\n                </h1>\r\n                <p>Mes Anterior</p>\r\n              </Segment>\r\n            </Grid.Column>\r\n          </Grid>\r\n        )}\r\n        {chartMes && chartData && (\r\n          <Grid columns={2} stackable>\r\n            <Grid.Column>\r\n              <h1>Observaciones por Mes</h1>\r\n              <XYPlot\r\n                onMouseLeave={() => {\r\n                  setLeyendaMes();\r\n                }}\r\n                height={300}\r\n                width={300}\r\n              >\r\n                <VerticalGridLines />\r\n                <HorizontalGridLines />\r\n                <XAxis />\r\n                <YAxis />\r\n                <VerticalBarSeries\r\n                  color={\"#F44336\"}\r\n                  onNearestX={(value, { index }) => {\r\n                    setLeyendaMes(chartMes[index]);\r\n                  }}\r\n                  data={chartMes}\r\n                />\r\n                {leyendaMes && (\r\n                  <Hint value={leyendaMes}>\r\n                    <div style={{ background: \"grey\" }}>\r\n                      <p style={{ color: \"white\" }}>{\"Mes\" + leyendaMes.x}</p>\r\n                      <p style={{ color: \"white\" }}>{leyendaMes.y}</p>\r\n                    </div>\r\n                  </Hint>\r\n                )}\r\n              </XYPlot>\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <h1>Observaciones por Dia</h1>\r\n              <XYPlot\r\n                onMouseLeave={() => {\r\n                  setLeyenda();\r\n                }}\r\n                height={300}\r\n                width={300}\r\n              >\r\n                <VerticalGridLines />\r\n                <HorizontalGridLines />\r\n                <XAxis />\r\n                <YAxis />\r\n                <VerticalBarSeries\r\n                  color={\"#F44336\"}\r\n                  onNearestX={(value, { index }) => {\r\n                    setLeyenda(chartData[index]);\r\n                  }}\r\n                  data={chartData}\r\n                />\r\n                {leyenda && (\r\n                  <Hint value={leyenda}>\r\n                    <div style={{ background: \"grey\" }}>\r\n                      <p style={{ color: \"white\" }}>{\"Dia\" + leyenda.x}</p>\r\n                      <p style={{ color: \"white\" }}>{leyenda.y}</p>\r\n                    </div>\r\n                  </Hint>\r\n                )}\r\n              </XYPlot>\r\n            </Grid.Column>\r\n          </Grid>\r\n        )}\r\n      </Segment>\r\n      {chartRubros && (\r\n        <Segment>\r\n          <Header>Observaciones por Mes por Rubro</Header>\r\n          <XYPlot\r\n            stackBy=\"y\"\r\n            onMouseLeave={() => {\r\n              setLeyendaMes();\r\n            }}\r\n            height={300}\r\n            width={300}\r\n          >\r\n            <DiscreteColorLegend\r\n              style={{ position: \"absolute\", right: \"0px\", top: \"40px\" }}\r\n              items={lista}\r\n            />\r\n            <VerticalGridLines />\r\n            <HorizontalGridLines />\r\n            <XAxis />\r\n            <YAxis />\r\n            {chartRubros.map((item) => (\r\n              <VerticalBarSeries\r\n                onNearestX={(value, { index }) => {\r\n                  setLeyendaMes(value);\r\n                }}\r\n                data={item}\r\n              />\r\n            ))}\r\n            {leyendaMes && (\r\n              <Hint value={leyendaMes}>\r\n                <div style={{ background: \"grey\" }}>\r\n                  <p style={{ color: \"white\" }}>{\"Mes\" + leyendaMes.x}</p>\r\n                  <p style={{ color: \"white\" }}>{leyendaMes.y}</p>\r\n                </div>\r\n              </Hint>\r\n            )}\r\n          </XYPlot>\r\n        </Segment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/fondo.bff34455.jpg\";","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Dropdown,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Label,\r\n  Item,\r\n  Card,\r\n  Image,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\nimport { useParams } from \"react-router\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction Observacion({ user }) {\r\n  let params = useParams();\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [buscar, setBuscar] = useState(false);\r\n  const [creador, setCreador] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function sacardata() {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 2);\r\n      const dr = sheet.getCell(j, 3);\r\n      const er = sheet.getCell(j, 4);\r\n      const fr = sheet.getCell(j, 5);\r\n      const gr = sheet.getCell(j, 6);\r\n      const hr = sheet.getCell(j, 7);\r\n      const ir = sheet.getCell(j, 8);\r\n      const jr = sheet.getCell(j, 9);\r\n      const kr = sheet.getCell(j, 10);\r\n      const lr = sheet.getCell(j, 11);\r\n      const mr = sheet.getCell(j, 12);\r\n      const nr = sheet.getCell(j, 13);\r\n      const or = sheet.getCell(j, 14);\r\n      const pr = sheet.getCell(j, 15);\r\n      const qr = sheet.getCell(j, 16);\r\n      const rr = sheet.getCell(j, 17);\r\n      const sr = sheet.getCell(j, 18);\r\n      const tr = sheet.getCell(j, 19);\r\n      const ur = sheet.getCell(j, 20);\r\n      const vr = sheet.getCell(j, 21);\r\n      datas.push({\r\n        id: sr.value,\r\n        fecha: ar.value,\r\n        fecha_hora: br.value,\r\n        nombre: cr.value,\r\n        area: dr.value,\r\n        rubro: er.value,\r\n        categoria: fr.value,\r\n        observaciones: gr.value,\r\n        severidad: hr.value,\r\n        pac: ir.value,\r\n        fecha_cierre: jr.value,\r\n        responsable: kr.value,\r\n        anexo: lr.value,\r\n        status: mr.value,\r\n        confirmado: nr.value,\r\n        extension: or.value,\r\n        nueva_fecha: pr.value,\r\n        detalle: qr.value,\r\n        anexo2: rr.value,\r\n        obsDetalle: tr.value,\r\n        persObservadas: ur.value,\r\n        aplica: vr.value,\r\n      });\r\n    }\r\n    datas = datas.filter((item) => {\r\n      return item.id === params.id;\r\n    });\r\n\r\n    if (datas.length > 1) {\r\n      var personas = datas.map((e) => e.persObservadas).join(\", \");\r\n      console.log(personas);\r\n      datas[0].persObservadas = personas;\r\n      datas = datas.slice(0, 1);\r\n    }\r\n\r\n    setData(datas);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    console.log(params);\r\n    !data && sacardata();\r\n    data && console.log(data);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {data && (\r\n        <Segment\r\n          onClick={() => {\r\n            console.log(data);\r\n          }}\r\n        >\r\n          <Item>\r\n            <Item.Image size=\"medium\" src={data[0].anexo} />\r\n\r\n            <Item.Content>\r\n              <Item.Header as=\"h2\">\r\n                {data[0].rubro + \" - \" + data[0].categoria}\r\n              </Item.Header>\r\n              <Item.Description>\r\n                <p>\r\n                  <b>Detalle: </b> {data[0].observaciones}\r\n                  {data[0].obsDetalle && \" : \" + data[0].obsDetalle}\r\n                </p>\r\n                <p>\r\n                  <b>Fecha: </b>{\" \"}\r\n                  {ExcelDateToJSDate(data[0].fecha).toISOString().slice(0, 10)}\r\n                </p>\r\n                <p>\r\n                  <b>Area: </b> {data[0].area}\r\n                </p>\r\n                <p>\r\n                  <b>Registrado por: </b> {data[0].nombre}\r\n                </p>\r\n                <p>\r\n                  <b>Persona(s) Observada(s): </b> {data[0].persObservadas}\r\n                </p>\r\n              </Item.Description>\r\n            </Item.Content>\r\n          </Item>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Observacion;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyD2qP-hydl9iaoxa0FO07FG5KDu9d3bGuA\",\r\n  authDomain: \"sasso-test-285920.firebaseapp.com\",\r\n  databaseURL: \"https://sasso-test-285920.firebaseio.com\",\r\n  projectId: \"sasso-test-285920\",\r\n  storageBucket: \"sasso-test-285920.appspot.com\",\r\n  messagingSenderId: \"191632707331\",\r\n  appId: \"1:191632707331:web:954ff5c5c38d8dcae4e336\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\nconst getUserDocument = async (uid) => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\nconst generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n  if (!snapshot.exists) {\r\n    const { Nombre, Correo, Apellido } = user;\r\n    try {\r\n      await userRef.set({\r\n        Nombre,\r\n        Correo,\r\n        Apellido,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\nexport {\r\n  storage,\r\n  auth,\r\n  firestore,\r\n  generateUserDocument,\r\n  getUserDocument,\r\n  firebase as default,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Statistic,\r\n  Divider,\r\n  Dimmer,\r\n  Loader,\r\n  Pagination,\r\n  Card,\r\n  Label,\r\n  Checkbox,\r\n  TextArea,\r\n  List,\r\n  Header,\r\n  Form,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${da}-${mo}-${ye}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction xltoDate(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo}-${da}`;\r\n  if (mo < 10) {\r\n    fechaStr = `${ye}-0${mo}-${da}`;\r\n  }\r\n\r\n  return fechaStr;\r\n}\r\n\r\nfunction Tareas({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [data, setData] = useState(\"\");\r\n  const [myData, setMyData] = useState(\"\");\r\n  const [myPac, setMyPac] = useState(\"\");\r\n  const [activoID, setActivoID] = useState(\"\");\r\n  const [pagina, setPagina] = useState(1);\r\n  const [totalPagina, setTotalPagina] = useState(0);\r\n  const [extension, setExtension] = useState(\"N\");\r\n  const [extDate, setExtDate] = useState(date);\r\n  const [detalle, setDetalle] = useState(\"\");\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [saving, setSaving] = useState(false);\r\n  const [preventDate, setPreventDate] = useState(date);\r\n  const [pap, setpap] = useState(\"\");\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      reader.onload = function (e) {\r\n        preview.setAttribute(\"src\", e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      preview = document.querySelector(\"#blah\");\r\n      preview.setAttribute(\"src\", \"\");\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  const handleFireBaseUpload = (e) => {\r\n    if (subir) {\r\n      e.preventDefault();\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      }\r\n      const uploadTask = storage\r\n        .ref(`/images/${imageAsFile.name}`)\r\n        .put(imageAsFile);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapShot) => {\r\n          //takes a snap shot of the process as it is happening\r\n          console.log(snapShot);\r\n        },\r\n        (err) => {\r\n          //catches the errors\r\n          console.log(err);\r\n        },\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          storage\r\n            .ref(\"images\")\r\n            .child(imageAsFile.name)\r\n            .getDownloadURL()\r\n            .then((fireBaseUrl) => {\r\n              setImageAsUrl((prevObject) => ({\r\n                ...prevObject,\r\n                imgUrl: fireBaseUrl,\r\n              }));\r\n            });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    setMyData(\r\n      datas.filter((item) => {\r\n        return item.responsable === user;\r\n      })\r\n    );\r\n    setMyPac(\r\n      datas.filter((item) => {\r\n        return item.responsable === user && item.status !== \"Completado\";\r\n      })\r\n    );\r\n    setTotalPagina(\r\n      datas.filter((item) => {\r\n        return item.responsable === user && item.status !== \"Completado\";\r\n      }).length\r\n    );\r\n    try {\r\n      setActivoID(\r\n        datas.filter((item) => {\r\n          return item.responsable === user && item.status !== \"Completado\";\r\n        })[0].id\r\n      );\r\n      setExtension(\r\n        datas.filter((item) => {\r\n          return item.responsable === user && item.status !== \"Completado\";\r\n        })[0].extension\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const registrar = async () => {\r\n    setSaving(true);\r\n    let extendido = extension;\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      if (sheet.getCell(j, 18).value === activoID) {\r\n        const mr = sheet.getCell(j, 12);\r\n        const or = sheet.getCell(j, 14);\r\n        const pr = sheet.getCell(j, 15);\r\n        const qr = sheet.getCell(j, 16);\r\n        const rr = sheet.getCell(j, 17);\r\n        const wr = sheet.getCell(j, 22);\r\n        const xr = sheet.getCell(j, 23);\r\n        mr.value = \"Pendiente Aprobacion\";\r\n        or.value = extendido;\r\n        if (extDate) {\r\n          pr.formula =\r\n            \"=date(\" +\r\n            extDate.substring(0, 4) +\r\n            \",\" +\r\n            extDate.substring(5, 7) +\r\n            \",\" +\r\n            extDate.substring(8, 10) +\r\n            \")\";\r\n        }\r\n        if (pap) {\r\n          wr.value = pap;\r\n        }\r\n        if (preventDate) {\r\n          xr.formula =\r\n            \"=date(\" +\r\n            preventDate.substring(0, 4) +\r\n            \",\" +\r\n            preventDate.substring(5, 7) +\r\n            \",\" +\r\n            preventDate.substring(8, 10) +\r\n            \")\";\r\n        }\r\n        if (detalle) {\r\n          qr.value = detalle;\r\n        }\r\n        if (imageAsUrl.imgUrl) {\r\n          rr.value = imageAsUrl.imgUrl;\r\n        }\r\n        await sheet.saveUpdatedCells();\r\n        break;\r\n      }\r\n    }\r\n    setSaving(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={!data || saving} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      {user ? (\r\n        <>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Pagination\r\n              defaultActivePage={1}\r\n              ellipsisItem={{\r\n                content: <Icon name=\"ellipsis horizontal\" />,\r\n                icon: true,\r\n              }}\r\n              firstItem={{\r\n                content: <Icon name=\"angle double left\" />,\r\n                icon: true,\r\n              }}\r\n              lastItem={{\r\n                content: <Icon name=\"angle double right\" />,\r\n                icon: true,\r\n              }}\r\n              prevItem={{ content: <Icon name=\"angle left\" />, icon: true }}\r\n              nextItem={{ content: <Icon name=\"angle right\" />, icon: true }}\r\n              totalPages={totalPagina}\r\n              onPageChange={(e, { activePage }) => {\r\n                setPagina(activePage);\r\n                setActivoID(myPac[activePage - 1].id);\r\n                setSubir(false);\r\n                setImageAsUrl(\"\");\r\n                setImageAsFile(\"\");\r\n                setExtension(myPac[activePage - 1].extension);\r\n                setExtension(date);\r\n                var preview = document.querySelector(\"#blah\");\r\n                preview.setAttribute(\"src\", \"\");\r\n                var archivoSelect = document.querySelector(\"#anexoImg\");\r\n                archivoSelect.value = \"\";\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <Segment>\r\n            <Header>Tareas</Header>\r\n            <List>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" />\r\n                <List.Content>\r\n                  <b>{myData.length} Acciones Totales</b>\r\n                </List.Content>\r\n              </List.Item>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" color=\"red\" />\r\n                <List.Content>\r\n                  <b>{myPac.length} Acciones Pendientes</b>\r\n                </List.Content>\r\n              </List.Item>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" color=\"green\" />\r\n                <List.Content>\r\n                  <b>\r\n                    {100 - Math.round((myPac.length / myData.length) * 100, 2)}{\" \"}\r\n                    % completada\r\n                  </b>\r\n                </List.Content>\r\n              </List.Item>\r\n            </List>\r\n          </Segment>\r\n          <Segment\r\n            style={{\r\n              height: \"60vh\",\r\n              overflowY: \"scroll\",\r\n            }}\r\n          >\r\n            {myPac && myPac.length !== 0 ? (\r\n              <>\r\n                <Header>{myPac[pagina - 1].rubro.toUpperCase()}</Header>\r\n                <p>\r\n                  {myPac[pagina - 1].categoria}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].area}\r\n                  <br></br>\r\n                  Registrado por: {myPac[pagina - 1].nombre}\r\n                  <br></br>\r\n                  Hallazgo: {myPac[pagina - 1].observaciones}\r\n                </p>\r\n                <Header>Acciones Tomadas</Header>\r\n                <p>{myPac[pagina - 1].pac}</p>\r\n                <p>\r\n                  Fecha Limite Inicial:{\" \"}\r\n                  {FechaString(\r\n                    ExcelDateToJSDate(myPac[pagina - 1].fecha_cierre)\r\n                  )}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].extension === \"Y\" ? (\r\n                    <Checkbox\r\n                      disabled\r\n                      label={{ children: \"Extender Fecha Limite \" }}\r\n                      checked\r\n                    />\r\n                  ) : (\r\n                    <Checkbox\r\n                      label={{ children: \"Extender Fecha Limite \" }}\r\n                      onChange={() => {\r\n                        if (extension !== \"N\") {\r\n                          setExtension(\"N\");\r\n                        } else {\r\n                          setExtension(\"Y\");\r\n                        }\r\n                      }}\r\n                      checked={extension === \"Y\"}\r\n                    />\r\n                  )}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].extension === \"Y\" || extension === \"Y\" ? (\r\n                    <Input\r\n                      size=\"mini\"\r\n                      type=\"date\"\r\n                      onChange={(e) => {\r\n                        setExtDate(e.target.value);\r\n                      }}\r\n                      defaultValue={\r\n                        myPac[pagina - 1].extension === \"Y\"\r\n                          ? xltoDate(\r\n                              ExcelDateToJSDate(myPac[pagina - 1].nueva_fecha)\r\n                            )\r\n                          : date\r\n                      }\r\n                    />\r\n                  ) : null}\r\n                  <br></br>\r\n                  <br></br>\r\n                  Detalle Adicional\r\n                  <br></br>\r\n                  <Form>\r\n                    <TextArea\r\n                      id=\"pacDetail\"\r\n                      name=\"planDetail\"\r\n                      rows=\"4\"\r\n                      cols=\"60\"\r\n                      value={myPac[pagina - 1].detalle_pac}\r\n                      onChange={(e, { value }) => {\r\n                        setDetalle(value);\r\n                      }}\r\n                      placeholder=\"Detalle adicional de la acción tomada...\"\r\n                    />\r\n                  </Form>\r\n                </p>\r\n                <p>\r\n                  <Header>Acciones Preventivas</Header>\r\n                  <Input\r\n                    size=\"mini\"\r\n                    type=\"date\"\r\n                    onChange={(e) => {\r\n                      setPreventDate(e.target.value);\r\n                    }}\r\n                    defaultValue={\r\n                      myPac[pagina - 1].extension === \"Y\"\r\n                        ? xltoDate(\r\n                            ExcelDateToJSDate(myPac[pagina - 1].nueva_fecha)\r\n                          )\r\n                        : date\r\n                    }\r\n                  />\r\n                  <br></br>\r\n                  <br></br>\r\n                  <Form>\r\n                    <TextArea\r\n                      id=\"ppreventiva\"\r\n                      name=\"ppreventiva\"\r\n                      rows=\"4\"\r\n                      cols=\"60\"\r\n                      onChange={(e, { value }) => {\r\n                        setpap(value);\r\n                      }}\r\n                      placeholder=\"Detalle de acción preventiva...\"\r\n                    />\r\n                  </Form>\r\n                </p>\r\n                <p>\r\n                  <Header>Anexo</Header>\r\n                  <Input\r\n                    id=\"anexoImg\"\r\n                    fluid\r\n                    className=\"input-image\"\r\n                    type=\"file\"\r\n                    onChange={handleImageUpload}\r\n                  />\r\n                  <br />\r\n                  <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n                </p>\r\n\r\n                <div className=\"ui two buttons\">\r\n                  <Button color=\"yellow\" onClick={registrar}>\r\n                    Guardar\r\n                  </Button>\r\n                  <Button color=\"green\">Solicitar Aprobacion</Button>\r\n                </div>\r\n              </>\r\n            ) : null}\r\n          </Segment>\r\n        </>\r\n      ) : (\r\n        <Button\r\n          color=\"red\"\r\n          inverted\r\n          fluid\r\n          icon=\"key\"\r\n          content=\"Sign In\"\r\n          onClick={() => {\r\n            iniciar();\r\n          }}\r\n        />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Tareas;\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Dropdown,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Label,\r\n  Item,\r\n  Modal,\r\n  Image,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction Consultas({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [buscar, setBuscar] = useState(false);\r\n  const [creador, setCreador] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function sacardata() {\r\n    setBuscar(true);\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 2);\r\n      const dr = sheet.getCell(j, 3);\r\n      const er = sheet.getCell(j, 4);\r\n      const fr = sheet.getCell(j, 5);\r\n      const gr = sheet.getCell(j, 6);\r\n      const hr = sheet.getCell(j, 7);\r\n      const ir = sheet.getCell(j, 8);\r\n      const jr = sheet.getCell(j, 9);\r\n      const kr = sheet.getCell(j, 10);\r\n      const lr = sheet.getCell(j, 11);\r\n      const mr = sheet.getCell(j, 12);\r\n      const nr = sheet.getCell(j, 13);\r\n      const or = sheet.getCell(j, 14);\r\n      const pr = sheet.getCell(j, 15);\r\n      const qr = sheet.getCell(j, 16);\r\n      const rr = sheet.getCell(j, 17);\r\n      const sr = sheet.getCell(j, 18);\r\n      const tr = sheet.getCell(j, 19);\r\n      const ur = sheet.getCell(j, 20);\r\n      const vr = sheet.getCell(j, 21);\r\n      datas.push({\r\n        id: sr.value,\r\n        fecha: ar.value,\r\n        fecha_hora: br.value,\r\n        nombre: cr.value,\r\n        area: dr.value,\r\n        rubro: er.value,\r\n        categoria: fr.value,\r\n        observaciones: gr.value,\r\n        severidad: hr.value,\r\n        pac: ir.value,\r\n        fecha_cierre: jr.value,\r\n        responsable: kr.value,\r\n        anexo: lr.value,\r\n        status: mr.value,\r\n        confirmado: nr.value,\r\n        extension: or.value,\r\n        nueva_fecha: pr.value,\r\n        detalle: qr.value,\r\n        anexo2: rr.value,\r\n        obsDetalle: tr.value,\r\n        persObservadas: ur.value,\r\n        aplica: vr.value,\r\n      });\r\n    }\r\n    datas.sort(function (a, b) {\r\n      var keyA = a.fecha_hora,\r\n        keyB = b.fecha_hora;\r\n      // Compare the 2 dates\r\n      if (keyA > keyB) return -1;\r\n      if (keyA < keyB) return 1;\r\n      return 0;\r\n    });\r\n    setData(datas);\r\n    setMyData(\r\n      datas.filter((item) => {\r\n        return item.nombre === user;\r\n      })\r\n    );\r\n    setDataFound(\r\n      datas.filter((item) => {\r\n        if (creador.length !== 0) {\r\n          return (\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) >=\r\n              inicio &&\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) <= final &&\r\n            creador.includes(item.nombre)\r\n          );\r\n        } else {\r\n          return (\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) >=\r\n              inicio &&\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) <= final\r\n          );\r\n        }\r\n      })\r\n    );\r\n    setBuscar(false);\r\n    setActiveIndex(-1);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    !data && sacardata();\r\n    data && console.log(myData);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Segment>\r\n        {activeItem && (\r\n          <Modal\r\n            onClose={() => setOpen(false)}\r\n            onOpen={() => setOpen(true)}\r\n            open={open}\r\n          >\r\n            <Modal.Header>{activeItem.observaciones}</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image size=\"medium\" src={activeItem.anexo} wrapped />\r\n              <Modal.Description>\r\n                <Header>{activeItem.rubro + \"-\" + activeItem.categoria}</Header>\r\n                <p>\r\n                  <b>Detalle: </b> {activeItem.detalle}\r\n                </p>\r\n                <p>\r\n                  <b>Fecha: </b>{\" \"}\r\n                  {ExcelDateToJSDate(activeItem.fecha)\r\n                    .toISOString()\r\n                    .slice(0, 10)}\r\n                </p>\r\n                <p>\r\n                  <b>Area: </b> {activeItem.area}\r\n                </p>\r\n                <p>\r\n                  <b>Registrado por: </b> {activeItem.observador}\r\n                </p>\r\n                <p>\r\n                  <b>Persona(s) Observada(s): </b> {activeItem.observado}\r\n                </p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"green\" onClick={() => setOpen(false)}>\r\n                OK\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        )}\r\n\r\n        <Dimmer active={buscar} page>\r\n          <Loader>Loading</Loader>\r\n        </Dimmer>\r\n        <Accordion fluid>\r\n          <Accordion.Title\r\n            active={activeIndex === 0}\r\n            index={0}\r\n            onClick={handleClick}\r\n          >\r\n            <Icon name=\"dropdown\" />\r\n            Filtros\r\n          </Accordion.Title>\r\n          <Accordion.Content active={activeIndex === 0}>\r\n            <>\r\n              <Input\r\n                label=\"Desde\"\r\n                size=\"mini\"\r\n                type=\"date\"\r\n                onChange={(e) => {\r\n                  setInicio(e.target.value);\r\n                  console.log(e.target.value);\r\n                  e.target.value > final && setFinal(e.target.value);\r\n                }}\r\n                value={inicio}\r\n                defaultValue={inicio}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Input\r\n                label=\"Hasta\"\r\n                size=\"mini\"\r\n                type=\"date\"\r\n                onChange={(e) => {\r\n                  setFinal(e.target.value);\r\n                  console.log(e.target.value);\r\n                  e.target.value < inicio && setInicio(e.target.value);\r\n                }}\r\n                value={final}\r\n                defaultValue={final}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Label>Registrado por </Label>\r\n              <Dropdown\r\n                fluid\r\n                multiple\r\n                search\r\n                selection\r\n                value={creador}\r\n                placeholder=\"Registrado por...\"\r\n                options={personal}\r\n                onChange={(e, { value }) => {\r\n                  setCreador(value);\r\n                }}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Button onClick={sacardata}>Buscar</Button>\r\n            </>\r\n          </Accordion.Content>\r\n        </Accordion>\r\n      </Segment>\r\n      {dataFound && (\r\n        <Segment>\r\n          <Item.Group divided>\r\n            {dataFound.map((item) => (\r\n              <Item key={item.id}>\r\n                <Item.Content>\r\n                  <Item.Header\r\n                    as=\"a\"\r\n                    href={\"/observacion/\" + item.id}\r\n                    onClick={(e) => {\r\n                      setActiveItem((prevObject) => ({\r\n                        ...prevObject,\r\n                        id: item.id,\r\n                        rubro: item.rubro,\r\n                        categoria: item.categoria,\r\n                        observaciones: item.observaciones,\r\n                        detalle: item.obsDetalle,\r\n                        area: item.area,\r\n                        fecha: item.fecha,\r\n                        observador: item.nombre,\r\n                        observado: item.persObservadas,\r\n                        anexo: item.anexo ? item.anexo : dummyImg,\r\n                      }));\r\n                      //setOpen(true);\r\n                    }}\r\n                  >\r\n                    {item.rubro + \" - \" + item.categoria}\r\n                  </Item.Header>\r\n                  <Item.Meta>{item.observaciones}</Item.Meta>\r\n                  <Item.Description>\r\n                    {item.area +\r\n                      \" - \" +\r\n                      ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10)}\r\n                  </Item.Description>\r\n                  <Item.Extra>Observador:{item.nombre}</Item.Extra>\r\n                  <Item.Extra>\r\n                    Personas Observadas:{item.persObservadas}\r\n                  </Item.Extra>\r\n                  <Item.Extra>{item.obsDetalle}</Item.Extra>\r\n                </Item.Content>\r\n              </Item>\r\n            ))}\r\n          </Item.Group>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Consultas;\r\n","export default {\r\n  USER_ID: \"user_1s8Jx16sWB2djLHeed4yw\",\r\n  TEMPLATE_ID: \"template_oc6ugfi\",\r\n};\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport emailjs from \"emailjs-com\";\r\nimport apiKeys from \"./apikeys\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Popup,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  TextArea,\r\n  Form,\r\n  Segment,\r\n  Dropdown,\r\n  Step,\r\n  Header,\r\n  Card,\r\n  Rating,\r\n  Ref,\r\n  Dimmer,\r\n  Loader,\r\n  Modal,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport userData from \"./employee.json\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Registros({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  let fecha = date + \" \" + hora + \":\" + minutos;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [idUnico, setID] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [perfil, setPerfil] = useState();\r\n  const [correo, setCorreo] = useState(\"No Aplica\");\r\n  const [creador, setCreador] = useState();\r\n  const [step, setStep] = useState(\"Que\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  const [cat, setCat] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [data2, setData2] = useState(\"\");\r\n  const [catData, setCatData] = useState(\"\");\r\n  const [subCatData, setSubCatData] = useState(\"\");\r\n  const [subCat, setSubCat] = useState(\"\");\r\n  const [detalles, setDetalles] = useState(\"\");\r\n  const [area, setArea] = useState(\"\");\r\n  const [que, setQue] = useState(false);\r\n  const [donde, setDonde] = useState(false);\r\n  const [pacStep, setPacStep] = useState(false);\r\n  const [involucrados, setInvolucrados] = useState([]);\r\n  const [plan, setPlan] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(date);\r\n  const [resp, setResp] = useState(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n  const segCat = useRef(null);\r\n  const segSubCat = useRef(null);\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n  const [guardar, setGuardar] = useState(false);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [severidad, setSeveridad] = useState(1);\r\n  const [imgUpload, setImgUpload] = useState();\r\n\r\n  const history = useHistory();\r\n\r\n  const tipos = [\r\n    { id: \"Q\", name: \"Calidad\" },\r\n    { id: \"S\", name: \"Seguridad\" },\r\n    { id: \"E\", name: \"Ambiente\" },\r\n    { id: \"B\", name: \"Bioseguridad\" },\r\n  ];\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      console.log(preview);\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      setPreviewImg(dummyImg);\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      console.log(archivoSelect);\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  async function handleFireBaseUpload() {\r\n    if (subir) {\r\n      console.log(\"start of upload\");\r\n      console.log(imageAsFile);\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      } else {\r\n        const uploadTask = storage\r\n          .ref(`/images/${imageAsFile.name}`)\r\n          .put(imageAsFile);\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapShot) => {\r\n            //takes a snap shot of the process as it is happening\r\n            console.log(snapShot);\r\n          },\r\n          (err) => {\r\n            //catches the errors\r\n            console.log(err);\r\n          },\r\n          () => {\r\n            // gets the functions from storage refences the image storage in firebase by the children\r\n            // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n            storage\r\n              .ref(\"images\")\r\n              .child(imageAsFile.name)\r\n              .getDownloadURL()\r\n              .then((fireBaseUrl) => {\r\n                setImageAsUrl((prevObject) => ({\r\n                  ...prevObject,\r\n                  imgUrl: fireBaseUrl,\r\n                }));\r\n                setImgUpload(fireBaseUrl);\r\n              });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  var sheetNo = 2125477317;\r\n  var sheetNo2 = 715064374;\r\n\r\n  const sacardata = async () => {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[sheetNo];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:E\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 4);\r\n      datas.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        src: cr.value,\r\n      });\r\n    }\r\n    setData(datas);\r\n    var datas2 = [];\r\n    const sheet2 = doc.sheetsById[sheetNo2];\r\n    const rows2 = await sheet2.getRows();\r\n    lastr = rows2.length + 1;\r\n    await sheet2.loadCells(\"A1:C\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet2.getCell(j, 0);\r\n      const br = sheet2.getCell(j, 1);\r\n      const cr = sheet2.getCell(j, 2);\r\n      datas2.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        SubCategoria: cr.value,\r\n        key: cr.value,\r\n        text: cr.value,\r\n        value: cr.value,\r\n      });\r\n    }\r\n    setData2(datas2);\r\n  };\r\n\r\n  const handleTipoClick = (e) => {\r\n    if (tipo === e.target.name) {\r\n      setTipo(\"\");\r\n    } else {\r\n      setTipo(e.target.name);\r\n      console.log(e.target.name);\r\n      segCat.current.focus();\r\n      setCat(\"\");\r\n      setSubCat(\"\");\r\n      setSubCatData(\"\");\r\n    }\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    }\r\n  }, [areas]);\r\n  useEffect(() => {\r\n    if (user) {\r\n      const datosUsuario = userData.filter((item) => {\r\n        return item.Nombre === user;\r\n      });\r\n      setPerfil(datosUsuario[0].Perfil);\r\n      setCreador(user);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (resp) {\r\n      const datoResp = userData.filter((item) => {\r\n        return item.Nombre === resp;\r\n      });\r\n      setCorreo(datoResp[0].correo);\r\n    }\r\n  }, [resp]);\r\n\r\n  const handleCatClick = (e, { name }) => {\r\n    setSubCat(\"\");\r\n    setSubCatData(\"\");\r\n    setCat(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleStep = (e, { name }) => {\r\n    setStep(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleArea = (e, { name }) => {\r\n    setArea(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setConfirmar(true);\r\n  };\r\n\r\n  async function registrar() {\r\n    setLoading(true);\r\n    let wd = today.getDay();\r\n    wd === 0 ? (wd = 7) : (wd = wd);\r\n    let semana = FechaString(today.setDate(today.getDate() - wd + 1));\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const aplica = perfil === \"Registros\" ? \"Y\" : \"N\";\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    var j;\r\n    var UniqueID =\r\n      Date.now() +\r\n      user.substring(0, 2) +\r\n      tipo.substring(0, 1) +\r\n      subCat.substring(0, 2);\r\n    setID(UniqueID);\r\n    console.log(UniqueID);\r\n    for (j = 0; j < involucrados.length; j++) {\r\n      await sheet.addRow({\r\n        fecha: date,\r\n        fecha_hora: fecha,\r\n        nombre: creador,\r\n        area: area,\r\n        rubro: tipo,\r\n        categoria: cat,\r\n        observaciones: subCat,\r\n        pac: plan,\r\n        responsable: resp,\r\n        fecha_cierre: startDate,\r\n        anexo: imgUpload,\r\n        status: \"Pendiente\",\r\n        Personas_Observadas: involucrados[j],\r\n        id: UniqueID,\r\n        severidad: severidad,\r\n        Detalle: detalles,\r\n        Aplica: aplica,\r\n        semana: semana,\r\n        ids: 1 / involucrados.length,\r\n      });\r\n    }\r\n    if (correo !== \"No Aplica\") {\r\n      notificar(UniqueID);\r\n    }\r\n    setTipo(\"\");\r\n    setCat(\"\");\r\n    setSubCat(\"\");\r\n    setDetalles(\"\");\r\n    setInvolucrados([]);\r\n    setArea(\"\");\r\n    setPlan(\"\");\r\n    setResp(\"\");\r\n    setImageAsUrl(\"\");\r\n    setPreviewImg(\"\");\r\n    setLoading(false);\r\n    setConfirmar(false);\r\n    setSaving(true);\r\n  }\r\n\r\n  function notificar(codigo) {\r\n    var templateParams = {\r\n      name: resp,\r\n      to_email: correo,\r\n      fecha_limite: startDate,\r\n      lugar: area,\r\n      qseb: tipo,\r\n      categoria: cat,\r\n      observacion: subCat,\r\n      detalles: detalles,\r\n      imagen: \"https://www.miculturaqse507.com/sasso-app/observacion/\" + codigo,\r\n      involucrados: involucrados.join(),\r\n      pac: plan,\r\n      registrado: creador,\r\n    };\r\n\r\n    emailjs\r\n      .send(\"Gmail\", apiKeys.TEMPLATE_ID, templateParams, apiKeys.USER_ID)\r\n      .then(\r\n        function (response) {\r\n          console.log(\"SUCCESS!\", response.status, response.text);\r\n        },\r\n        function (error) {\r\n          console.log(\"FAILED...\", error);\r\n        }\r\n      );\r\n    setID(\"\");\r\n  }\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n    if (data) {\r\n      setLoading(false);\r\n    }\r\n    if (tipo) {\r\n      setCatData(\r\n        data.filter((item) => {\r\n          return item.Tipo === tipo;\r\n        })\r\n      );\r\n    }\r\n    if (cat) {\r\n      setSubCatData(\r\n        data2.filter((item) => {\r\n          return item.Categoria === cat;\r\n        })\r\n      );\r\n    }\r\n    if (tipo && cat && subCat && involucrados.length !== 0) {\r\n      setQue(true);\r\n    } else {\r\n      setQue(false);\r\n    }\r\n    if (area) {\r\n      setDonde(true);\r\n    } else {\r\n      setDonde(false);\r\n    }\r\n    if (plan && resp && startDate) {\r\n      setPacStep(true);\r\n    } else {\r\n      setPacStep(false);\r\n    }\r\n    if (\r\n      tipo &&\r\n      cat &&\r\n      subCat &&\r\n      involucrados.length !== 0 &&\r\n      area &&\r\n      plan &&\r\n      resp &&\r\n      startDate\r\n    ) {\r\n      setGuardar(true);\r\n    } else {\r\n      setGuardar(false);\r\n    }\r\n  }, [\r\n    data,\r\n    tipo,\r\n    cat,\r\n    subCat,\r\n    involucrados,\r\n    area,\r\n    plan,\r\n    resp,\r\n    startDate,\r\n    data2,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (subir) {\r\n      handleFireBaseUpload();\r\n    }\r\n  }, [subir]);\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <div>\r\n          <Dimmer active={loading} page>\r\n            <Loader size=\"massive\">{data ? \"Saving\" : \"Loading\"}</Loader>\r\n          </Dimmer>\r\n          <Modal\r\n            header=\"Listo!\"\r\n            content=\"Su observación ha sido registrado exitosamente.\"\r\n            open={saving}\r\n            actions={[\r\n              {\r\n                key: \"done\",\r\n                content: \"Done\",\r\n                positive: true,\r\n                onClick: () => {\r\n                  setSaving(false);\r\n                  history.push(\"/observaciones\");\r\n                },\r\n              },\r\n            ]}\r\n          />\r\n\r\n          <Modal\r\n            onClose={() => setConfirmar(false)}\r\n            onOpen={() => setConfirmar(true)}\r\n            open={confirmar}\r\n          >\r\n            <Modal.Header>Confirmar Información</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image size=\"medium\" src={previewImg} wrapped />\r\n              <Modal.Description>\r\n                <Header>Observacion de {tipo}</Header>\r\n                <p>{cat}</p>\r\n                <p>{subCat}</p>\r\n                <p>Severidad:{severidad}</p>\r\n                <Header>Persona(s) Observada(s)</Header>\r\n                {involucrados.map((item) => (\r\n                  <li>{item}</li>\r\n                ))}\r\n                <Header>Area</Header>\r\n                <p>{area}</p>\r\n                <Header>PLAN DE ACCION</Header>\r\n                <p>{plan}</p>\r\n                <p>Responsable: {resp}</p>\r\n                <p>Fecha de Cierre Previsto: {startDate}</p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"black\" onClick={() => setConfirmar(false)}>\r\n                Cancelar\r\n              </Button>\r\n              <Button\r\n                content=\"Confirmar\"\r\n                labelPosition=\"right\"\r\n                icon=\"checkmark\"\r\n                onClick={() => {\r\n                  registrar();\r\n                }}\r\n                positive\r\n              />\r\n            </Modal.Actions>\r\n          </Modal>\r\n          {guardar ? (\r\n            <Button\r\n              fluid\r\n              color=\"green\"\r\n              content=\"Guardar\"\r\n              onClick={handleSave}\r\n            ></Button>\r\n          ) : null}\r\n          <Step.Group ordered size=\"mini\" attached=\"top\" unstackable>\r\n            <Step\r\n              active={step === \"Que\"}\r\n              name=\"Que\"\r\n              onClick={handleStep}\r\n              completed={que}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>Observación</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n\r\n            <Step\r\n              active={step === \"Donde\"}\r\n              name=\"Donde\"\r\n              onClick={handleStep}\r\n              completed={donde}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>Area</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n\r\n            <Step\r\n              active={step === \"PAC\"}\r\n              name=\"PAC\"\r\n              onClick={handleStep}\r\n              completed={pacStep}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>PAC</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n          </Step.Group>\r\n          <Segment attached>\r\n            {step === \"Que\" ? (\r\n              <Container>\r\n                {user === \"user\" && (\r\n                  <>\r\n                    <Segment>\r\n                      <Header>Nombre del Observador</Header>\r\n                      <Input\r\n                        fluid\r\n                        placeholder=\"Nombre del Observador...\"\r\n                        onChange={(e, { value }) => {\r\n                          setCreador(value);\r\n                        }}\r\n                      />\r\n                    </Segment>\r\n                  </>\r\n                )}\r\n                <Segment name=\"segmentTipo\">\r\n                  <Header>Tipo de Observación</Header>\r\n                  {tipos.map((item) => (\r\n                    <Popup\r\n                      trigger={\r\n                        <Button\r\n                          color=\"red\"\r\n                          inverted\r\n                          circular\r\n                          name={item.name}\r\n                          onClick={handleTipoClick}\r\n                          active={tipo === item.name}\r\n                        >\r\n                          {item.id}\r\n                        </Button>\r\n                      }\r\n                    >\r\n                      <Popup.Header>{item.name}</Popup.Header>\r\n                    </Popup>\r\n                  ))}\r\n                </Segment>\r\n                <Segment name=\"segmentInvol\">\r\n                  <Header>Personas Responsables/Involucradas</Header>\r\n                  <Dropdown\r\n                    fluid\r\n                    multiple\r\n                    search\r\n                    selection\r\n                    value={involucrados}\r\n                    placeholder=\"Seleccionar Personas Involucradas\"\r\n                    options={personal}\r\n                    onChange={(e, { value }) => {\r\n                      setInvolucrados(value);\r\n                      console.log(value);\r\n                    }}\r\n                  />\r\n                </Segment>\r\n                <Ref innerRef={segCat}>\r\n                  <Segment name=\"segmentCat\">\r\n                    <Header>Categoria de la Observación</Header>\r\n                    <Card.Group itemsPerRow={4}>\r\n                      {catData\r\n                        ? catData.map((item) => (\r\n                            <Popup\r\n                              trigger={\r\n                                <Card\r\n                                  raised\r\n                                  color={\r\n                                    cat === item.Categoria ? \"red\" : \"black\"\r\n                                  }\r\n                                  name={item.Categoria}\r\n                                  onClick={handleCatClick}\r\n                                >\r\n                                  <Image\r\n                                    src={item.src}\r\n                                    size=\"mini\"\r\n                                    wrapped\r\n                                    ui={false}\r\n                                  />\r\n                                  <Card.Content>\r\n                                    {cat === item.Categoria ? (\r\n                                      <Icon\r\n                                        color=\"green\"\r\n                                        name=\"check circle\"\r\n                                      ></Icon>\r\n                                    ) : null}\r\n                                  </Card.Content>\r\n                                </Card>\r\n                              }\r\n                            >\r\n                              <Popup.Header>{item.Categoria}</Popup.Header>\r\n                            </Popup>\r\n                          ))\r\n                        : null}\r\n                    </Card.Group>\r\n                  </Segment>\r\n                </Ref>\r\n\r\n                {subCatData ? (\r\n                  <Ref innerRef={segSubCat}>\r\n                    <Segment name=\"segmentSubCat\">\r\n                      <Header>Observación</Header>\r\n                      <Dropdown\r\n                        fluid\r\n                        button\r\n                        search\r\n                        scrolling\r\n                        clearable\r\n                        value={subCat}\r\n                        placeholder=\"Seleccionar Observacion\"\r\n                        options={subCatData}\r\n                        onChange={(e, { value }) => {\r\n                          setSubCat(value);\r\n                        }}\r\n                      />\r\n                      <br />\r\n                      <Header>\r\n                        Severidad\r\n                        <Popup\r\n                          trigger={\r\n                            <div>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 0 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(1);\r\n                                }}\r\n                              ></Icon>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 1 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(2);\r\n                                }}\r\n                              ></Icon>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 2 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(3);\r\n                                }}\r\n                              ></Icon>\r\n                            </div>\r\n                          }\r\n                          content={\"Grado de Severidad: \" + severidad}\r\n                        ></Popup>\r\n                      </Header>\r\n                      <Form>\r\n                        <TextArea\r\n                          placeholder=\"Detalles\"\r\n                          onChange={(e, { value }) => {\r\n                            setDetalles(value);\r\n                          }}\r\n                        ></TextArea>\r\n                      </Form>\r\n                    </Segment>\r\n                  </Ref>\r\n                ) : null}\r\n              </Container>\r\n            ) : null}\r\n            {step === \"Donde\" && areas ? (\r\n              <div>\r\n                <Segment>\r\n                  <Header>Área de la Observación</Header>\r\n                  {areas.map((item) => (\r\n                    <Popup\r\n                      trigger={\r\n                        <Button\r\n                          color=\"red\"\r\n                          inverted\r\n                          style={{ width: \"15vw\" }}\r\n                          name={item.name}\r\n                          onClick={handleArea}\r\n                          active={area === item.name}\r\n                        >\r\n                          {item.short}\r\n                        </Button>\r\n                      }\r\n                    >\r\n                      <Popup.Header>{item.name}</Popup.Header>\r\n                    </Popup>\r\n                  ))}\r\n                </Segment>\r\n                <Segment>\r\n                  <Header>Anexo</Header>\r\n                  <Input\r\n                    id=\"anexoImg\"\r\n                    fluid\r\n                    className=\"input-image\"\r\n                    type=\"file\"\r\n                    onChange={(e) => {\r\n                      handleImageUpload(e);\r\n                    }}\r\n                  />\r\n                  <br />\r\n                  <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n                </Segment>\r\n              </div>\r\n            ) : null}\r\n            {step === \"PAC\" ? (\r\n              <Segment>\r\n                <Header>Acción Tomada</Header>\r\n                <Form>\r\n                  <TextArea\r\n                    placeholder=\"Escriba la Acción Tomada aquí...\"\r\n                    value={plan}\r\n                    onChange={(e) => {\r\n                      setPlan(e.target.value);\r\n                      console.log(e.target.value);\r\n                    }}\r\n                  ></TextArea>\r\n                </Form>\r\n                <Header>Fecha de Cierre Previsto</Header>\r\n                <Input\r\n                  fluid\r\n                  type=\"date\"\r\n                  onChange={(e) => setStartDate(e.target.value)}\r\n                  defaultValue={startDate}\r\n                />\r\n                <Header>Responsable del Plan</Header>\r\n                <Dropdown\r\n                  fluid\r\n                  search\r\n                  selection\r\n                  placeholder=\"Seleccionar Responsable del Plan\"\r\n                  options={personal}\r\n                  value={resp}\r\n                  onChange={(e, { value }) => {\r\n                    setResp(value);\r\n                    console.log(value);\r\n                  }}\r\n                />\r\n              </Segment>\r\n            ) : null}\r\n          </Segment>\r\n        </div>\r\n      ) : (\r\n        <Button\r\n          color=\"red\"\r\n          inverted\r\n          fluid\r\n          icon=\"key\"\r\n          content=\"Sign In\"\r\n          onClick={() => {\r\n            iniciar();\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Registros;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport emailjs from \"emailjs-com\";\r\nimport apiKeys from \"./apikeys\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Popup,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  TextArea,\r\n  Form,\r\n  Segment,\r\n  Dropdown,\r\n  Step,\r\n  Header,\r\n  Card,\r\n  Rating,\r\n  Ref,\r\n  Dimmer,\r\n  Loader,\r\n  Modal,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport userData from \"./employee.json\";\r\n\r\nfunction Categorias({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  let fecha = date + \" \" + hora + \":\" + minutos;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [loading, setLoading] = useState(true);\r\n  const [perfil, setPerfil] = useState();\r\n  const [correo, setCorreo] = useState(\"No Aplica\");\r\n  const [creador, setCreador] = useState();\r\n  const [step, setStep] = useState(\"Que\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  const [cat, setCat] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [data2, setData2] = useState(\"\");\r\n  const [catData, setCatData] = useState(\"\");\r\n  const [subCatData, setSubCatData] = useState(\"\");\r\n  const [subCat, setSubCat] = useState(\"\");\r\n  const [detalles, setDetalles] = useState(\"\");\r\n  const [area, setArea] = useState(\"\");\r\n  const [que, setQue] = useState(false);\r\n  const [donde, setDonde] = useState(false);\r\n  const [pacStep, setPacStep] = useState(false);\r\n  const [involucrados, setInvolucrados] = useState([]);\r\n  const [plan, setPlan] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(date);\r\n  const [resp, setResp] = useState(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n  const segCat = useRef(null);\r\n  const segSubCat = useRef(null);\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n  const [guardar, setGuardar] = useState(false);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [severidad, setSeveridad] = useState(1);\r\n\r\n  const history = useHistory();\r\n\r\n  const tipos = [\r\n    { id: \"Q\", name: \"Calidad\" },\r\n    { id: \"S\", name: \"Seguridad\" },\r\n    { id: \"E\", name: \"Ambiente\" },\r\n    { id: \"B\", name: \"Bioseguridad\" },\r\n  ];\r\n\r\n  const areas = [\r\n    { id: 2, name: \"Linea1\", short: \"L1\" },\r\n    { id: 3, name: \"Linea2\", short: \"L2\" },\r\n    { id: 4, name: \"Linea3\", short: \"L3\" },\r\n    { id: 5, name: \"Linea4\", short: \"L4\" },\r\n    { id: 6, name: \"Linea5\", short: \"L5\" },\r\n    { id: 1, name: \"Area de Reciclaje\", short: \"AR\" },\r\n    { id: 8, name: \"Sala de Jarabe\", short: \"SJ\" },\r\n    { id: 9, name: \"Taller de Mtto\", short: \"TM\" },\r\n    { id: 9, name: \"Area de Operaciones\", short: \"OP\" },\r\n    { id: 7, name: \"PTAR\", short: \"PTAR\" },\r\n    { id: 10, name: \"PTA\", short: \"PTA\" },\r\n    { id: 11, name: \"Oficina Administrativa\", short: \"ADM\" },\r\n  ];\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      console.log(preview);\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      setPreviewImg(dummyImg);\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      console.log(archivoSelect);\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  async function handleFireBaseUpload() {\r\n    if (subir) {\r\n      console.log(\"start of upload\");\r\n      console.log(imageAsFile);\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      } else {\r\n        const uploadTask = storage\r\n          .ref(`/iconos/${imageAsFile.name}`)\r\n          .put(imageAsFile);\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapShot) => {\r\n            //takes a snap shot of the process as it is happening\r\n            console.log(snapShot);\r\n          },\r\n          (err) => {\r\n            //catches the errors\r\n            console.log(err);\r\n          },\r\n          () => {\r\n            // gets the functions from storage refences the image storage in firebase by the children\r\n            // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n            storage\r\n              .ref(\"iconos\")\r\n              .child(imageAsFile.name)\r\n              .getDownloadURL()\r\n              .then((fireBaseUrl) => {\r\n                setImageAsUrl((prevObject) => ({\r\n                  ...prevObject,\r\n                  imgUrl: fireBaseUrl,\r\n                }));\r\n              });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  var sheetNo = 2125477317;\r\n  var sheetNo2 = 715064374;\r\n\r\n  const sacardata = async () => {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[sheetNo];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      var data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    console.log(datas);\r\n    var datas2 = [];\r\n    const sheet2 = doc.sheetsById[sheetNo2];\r\n    const rows2 = await sheet2.getRows();\r\n    lastr = rows2.length + 1;\r\n    await sheet2.loadCells(\"A1:C\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet2.getCell(j, 0);\r\n      const br = sheet2.getCell(j, 1);\r\n      const cr = sheet2.getCell(j, 2);\r\n      datas2.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        SubCategoria: cr.value,\r\n        key: cr.value,\r\n        text: cr.value,\r\n        value: cr.value,\r\n      });\r\n    }\r\n    setData2(datas2);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (user) {\r\n      const datosUsuario = userData.filter((item) => {\r\n        return item.Nombre === user;\r\n      });\r\n      setPerfil(datosUsuario[0].Perfil);\r\n      setCreador(user);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (imageAsUrl) {\r\n      console.log(imageAsUrl.imgUrl);\r\n    }\r\n  }, [imageAsUrl]);\r\n\r\n  useEffect(() => {\r\n    if (resp) {\r\n      const datoResp = userData.filter((item) => {\r\n        return item.Nombre === resp;\r\n      });\r\n      setCorreo(datoResp[0].correo);\r\n    }\r\n  }, [resp]);\r\n\r\n  async function registrar(tipo, categoria) {\r\n    handleFireBaseUpload();\r\n    console.log(imageAsUrl.imgUrl);\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[sheetNo];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      if (\r\n        sheet.getCell(j, 0).value === tipo &&\r\n        sheet.getCell(j, 1).value === categoria\r\n      ) {\r\n        const imagen = sheet.getCell(j, 4);\r\n        imagen.value = imageAsUrl.imgUrl;\r\n        await sheet.saveUpdatedCells();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  function notificar() {\r\n    var templateParams = {\r\n      name: resp,\r\n      to_email: correo,\r\n      fecha_limite: startDate,\r\n      lugar: area,\r\n      qseb: tipo,\r\n      categoria: cat,\r\n      observacion: subCat,\r\n      involucrados: involucrados.join(),\r\n      pac: plan,\r\n      registrado: creador,\r\n    };\r\n\r\n    emailjs\r\n      .send(\"Gmail\", apiKeys.TEMPLATE_ID, templateParams, apiKeys.USER_ID)\r\n      .then(\r\n        function (response) {\r\n          console.log(\"SUCCESS!\", response.status, response.text);\r\n        },\r\n        function (error) {\r\n          console.log(\"FAILED...\", error);\r\n        }\r\n      );\r\n  }\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n    if (data) {\r\n      setLoading(false);\r\n    }\r\n    if (tipo) {\r\n      setCatData(\r\n        data.filter((item) => {\r\n          return item.Tipo === tipo;\r\n        })\r\n      );\r\n    }\r\n    if (cat) {\r\n      setSubCatData(\r\n        data2.filter((item) => {\r\n          return item.Categoria === cat;\r\n        })\r\n      );\r\n    }\r\n    if (tipo && cat && subCat && involucrados.length !== 0) {\r\n      setQue(true);\r\n    } else {\r\n      setQue(false);\r\n    }\r\n    if (area) {\r\n      setDonde(true);\r\n    } else {\r\n      setDonde(false);\r\n    }\r\n    if (plan && resp && startDate) {\r\n      setPacStep(true);\r\n    } else {\r\n      setPacStep(false);\r\n    }\r\n    if (\r\n      tipo &&\r\n      cat &&\r\n      subCat &&\r\n      involucrados.length !== 0 &&\r\n      area &&\r\n      plan &&\r\n      resp &&\r\n      startDate\r\n    ) {\r\n      setGuardar(true);\r\n    } else {\r\n      setGuardar(false);\r\n    }\r\n  }, [\r\n    data,\r\n    tipo,\r\n    cat,\r\n    subCat,\r\n    involucrados,\r\n    area,\r\n    plan,\r\n    resp,\r\n    startDate,\r\n    data2,\r\n  ]);\r\n\r\n  return (\r\n    <div>\r\n      {data && (\r\n        <Segment>\r\n          {data.map((item) => (\r\n            <Segment>\r\n              <Header>{item.Tipo}</Header>\r\n              <Form>\r\n                <TextArea value={item.Categoria}></TextArea>\r\n                <Header content={item.src}></Header>\r\n                <Input\r\n                  id=\"anexoImg\"\r\n                  fluid\r\n                  className=\"input-image\"\r\n                  type=\"file\"\r\n                  onChange={handleImageUpload}\r\n                />\r\n                <br />\r\n\r\n                <Button\r\n                  onClick={(e) => {\r\n                    registrar(item.Tipo, item.Categoria);\r\n                  }}\r\n                >\r\n                  SAVE\r\n                </Button>\r\n                <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n              </Form>\r\n            </Segment>\r\n          ))}\r\n        </Segment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Categorias;\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport userData from \"./employee.json\";\r\nimport {\r\n  Header,\r\n  Button,\r\n  Segment,\r\n  Grid,\r\n  Form,\r\n  Message,\r\n  Checkbox,\r\n  Popup,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction Login() {\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"recordar\"]: [recordar, setRecordar],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const history = useHistory();\r\n  const [password, setPassword] = useState();\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === \"userPassword\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  pagina && console.log(pagina);\r\n  const login = (event, password) => {\r\n    event.preventDefault();\r\n    var found = false;\r\n    for (var i = 0; i < userData.length; i++) {\r\n      if (userData[i].id === password) {\r\n        found = true;\r\n        setUser(userData[i].Nombre);\r\n        sessionStorage.user = userData[i].Nombre;\r\n        if (recordar) {\r\n          localStorage.user = userData[i].Nombre;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    if (!found) alert(`Usuario No encontrado`);\r\n    if (found) {\r\n      if (pagina) {\r\n        history.push(pagina);\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <Grid textAlign=\"center\" style={{ height: \"50vh\" }} verticalAlign=\"middle\">\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as=\"h2\" style={{ color: \"#F44336\" }} textAlign=\"center\">\r\n          Ingresar con su Numero de Empleado\r\n        </Header>\r\n        <Form size=\"large\">\r\n          <Segment stacked>\r\n            <Popup\r\n              content=\"Numero de Empleado sin PA ni los 0 iniciales, Ejemplo: PA00123456 = 123456\"\r\n              trigger={\r\n                <Form.Input\r\n                  name=\"userPassword\"\r\n                  type=\"password\"\r\n                  fluid\r\n                  icon=\"user\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Numero de Empleado\"\r\n                  onChange={(event) => onChangeHandler(event)}\r\n                />\r\n              }\r\n            />\r\n\r\n            <Button\r\n              color=\"red\"\r\n              fluid\r\n              size=\"large\"\r\n              onClick={(event) => {\r\n                login(event, password);\r\n              }}\r\n            >\r\n              Login\r\n            </Button>\r\n          </Segment>\r\n        </Form>\r\n        <Message>\r\n          <Checkbox\r\n            label=\"Recordar Usuario\"\r\n            onChange={(e, { checked }) => {\r\n              checked ? setRecordar(true) : setRecordar(false);\r\n            }}\r\n          />\r\n        </Message>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport {\r\n  List,\r\n  Button,\r\n  Image,\r\n  Checkbox,\r\n  Dimmer,\r\n  Loader,\r\n  Segment,\r\n  Header,\r\n  Label,\r\n  Grid,\r\n  Icon,\r\n  Modal,\r\n  Divider,\r\n  Input,\r\n  Form,\r\n  TextArea,\r\n  Dropdown,\r\n  Progress,\r\n  Container,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport imageCompression from \"browser-image-compression\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nexport default function Reporte({ user }) {\r\n  const {\r\n    [\"reportData\"]: [reportData, setRepData],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n  const [area, setArea] = useState();\r\n  const { [\"personal\"]: personal } = useContext(Contexto);\r\n  const [reportes, setReportes] = useState();\r\n  const [fecha, setFecha] = useState(FechaStringShort(new Date()));\r\n  const [saving, setSaving] = useState(false);\r\n  const [requerimientos, setReq] = useState();\r\n  const [activeReq, setActiveR] = useState();\r\n  const [incumple, setIncumple] = useState([]);\r\n  const [percentage, setPercentage] = useState();\r\n  const [turno, setTurno] = useState(1);\r\n  const [campoOblig, setCampoOblig] = useState(0);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [duplicado, setDuplicado] = useState(false);\r\n  const [listaArea, setListaArea] = useState();\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  async function handleImageUpload(event, rubro) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      delete incumple[incumple.findIndex((x) => x.rubro === rubro)].url;\r\n      delete incumple[incumple.findIndex((x) => x.rubro === rubro)].preview;\r\n      delete incumple[incumple.findIndex((x) => x.rubro === rubro)].img;\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n        incumple[incumple.findIndex((x) => x.rubro === rubro)].preview =\r\n          e.target.result;\r\n      };\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n        incumple[incumple.findIndex((x) => x.rubro === rubro)].img =\r\n          compressedFile;\r\n        var boton = document.getElementById(\"btn\" + rubro);\r\n        boton.disabled = false;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      setImageAsFile(\"\");\r\n      setPreviewImg(dummyImg);\r\n      delete incumple[incumple.findIndex((x) => x.rubro === rubro)].preview;\r\n    }\r\n    setPercentage(0);\r\n  }\r\n\r\n  async function handleFireBaseUpload(rubro) {\r\n    var boton = document.getElementById(\"btn\" + rubro);\r\n    boton.disabled = true;\r\n    setPercentage(1);\r\n    const archivo = incumple[incumple.findIndex((x) => x.rubro === rubro)].img;\r\n    const uploadTask = storage.ref(`/images/${archivo.name}`).put(archivo);\r\n    setPercentage(5);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapShot) => {\r\n        //takes a snap shot of the process as it is happening\r\n        console.log(snapShot);\r\n      },\r\n      (err) => {\r\n        //catches the errors\r\n        console.log(err);\r\n      },\r\n      () => {\r\n        // gets the functions from storage refences the image storage in firebase by the children\r\n        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n        setPercentage(50);\r\n        storage\r\n          .ref(\"images\")\r\n          .child(archivo.name)\r\n          .getDownloadURL()\r\n          .then((fireBaseUrl) => {\r\n            incumple[incumple.findIndex((x) => x.rubro === rubro)].url =\r\n              fireBaseUrl;\r\n\r\n            setPercentage(100);\r\n          });\r\n      }\r\n    );\r\n  }\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[474202802];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setRepData(datas);\r\n  };\r\n  const sacarReportes = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[876764799];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setReportes(datas);\r\n  };\r\n  async function registrar() {\r\n    setSaving(true);\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[876764799];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    while (lastr--) {\r\n      try {\r\n        console.log(rows[lastr].Usuario);\r\n        if (\r\n          rows[lastr].Usuario == user &&\r\n          rows[lastr].Turno == turno &&\r\n          rows[lastr].Area == area &&\r\n          rows[lastr].Fecha == FechaStringShort(new Date())\r\n        ) {\r\n          console.log(\"Borrando\");\r\n          await rows[lastr].delete();\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        break;\r\n      }\r\n    }\r\n    await sheet.addRow({\r\n      Usuario: user,\r\n      Fecha: FechaStringShort(new Date()),\r\n      Turno: turno,\r\n      Area: area,\r\n    });\r\n    if (incumple.length > 0) {\r\n      var j;\r\n      for (j = 0; j < incumple.length; j++) {\r\n        var personas;\r\n        incumple[j].involucrados\r\n          ? (personas = incumple[j].involucrados.toString())\r\n          : (personas = \"\");\r\n        await sheet.addRow({\r\n          Usuario: user,\r\n          Fecha: FechaStringShort(new Date()),\r\n          Turno: turno,\r\n          Requerimiento: incumple[j].req,\r\n          Rubro: incumple[j].rubro,\r\n          Detalle: incumple[j].detalle,\r\n          Involucrados: personas,\r\n          Imagen: incumple[j].url,\r\n          Area: area,\r\n        });\r\n      }\r\n    }\r\n    alert(\"Datos Guardados\");\r\n    setIncumple([]);\r\n    setActiveR();\r\n    setSaving(false);\r\n    setReportes();\r\n    setArea(\"\");\r\n    setConfirmar(false);\r\n  }\r\n  const [lista, setLista] = useState();\r\n  const crearLista = (e, { name }) => {\r\n    if (activeReq == name) {\r\n      setActiveR();\r\n    } else {\r\n      setActiveR(name);\r\n    }\r\n    setLista(\r\n      reportData\r\n        .filter((item) => item.Nombre == name)\r\n        .map((item) => item.Rubro)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n  };\r\n  const revision = (e, { name, requerimiento }) => {\r\n    let observacion = { req: requerimiento, rubro: name };\r\n    if (\r\n      reportData[reportData.findIndex((x) => x.Rubro === name)].Acto === \"Y\"\r\n    ) {\r\n      observacion.obligatorio = 1;\r\n    }\r\n    if (incumple.some((e) => e.req === requerimiento && e.rubro === name)) {\r\n      let removeIndex = incumple.filter((e) => e.rubro !== name);\r\n      console.log(removeIndex);\r\n      // remove object\r\n      setIncumple(removeIndex);\r\n    } else {\r\n      setIncumple((oldArray) => [...oldArray, observacion]);\r\n    }\r\n  };\r\n  const validar = () => {\r\n    let res = [];\r\n    console.log(reportes);\r\n    res = reportes.filter((element) => {\r\n      return (\r\n        element.Usuario === user &&\r\n        element.Turno == turno &&\r\n        element.Area === area &&\r\n        FechaStringShort(ExcelDateToJSDate(element.Fecha)) === fecha\r\n      );\r\n    });\r\n    if (res.length > 0) {\r\n      setDuplicado(true);\r\n    } else {\r\n      setDuplicado(false);\r\n    }\r\n  };\r\n\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    } else {\r\n      var j;\r\n      var lastr = areas.length;\r\n      const area = [];\r\n      for (j = 0; j < lastr; j++) {\r\n        if (areas[j].name !== \"\") {\r\n          area.push({\r\n            key: areas[j].name,\r\n            text: areas[j].name,\r\n            value: areas[j].name,\r\n          });\r\n        }\r\n      }\r\n      setListaArea(area);\r\n    }\r\n  }, [areas]);\r\n\r\n  useEffect(() => {\r\n    console.log(incumple);\r\n  }, [incumple]);\r\n  useEffect(() => {\r\n    if (!reportData) {\r\n      sacardata();\r\n    } else {\r\n      setReq(\r\n        reportData\r\n          .map((item) => item.Nombre)\r\n          .filter((value, index, self) => self.indexOf(value) === index)\r\n      );\r\n    }\r\n  }, [reportData]);\r\n  useEffect(() => {\r\n    if (!reportes) {\r\n      sacarReportes();\r\n    }\r\n  }, [reportes]);\r\n  return (\r\n    <div style={{ alignItems: \"center\" }}>\r\n      <Modal\r\n        onClose={() => setConfirmar(false)}\r\n        onOpen={() => setConfirmar(true)}\r\n        size=\"large\"\r\n        open={confirmar}\r\n      >\r\n        <Modal.Header>Confirmar Información</Modal.Header>\r\n        <Modal.Content>\r\n          <h1>Reporte de Turno {turno}</h1>\r\n          <h2>{fecha}</h2>\r\n          <h3>{user}</h3>\r\n          <h4>{area}</h4>\r\n          {duplicado && (\r\n            <Label attached=\"top\" color=\"red\">\r\n              <h4>\r\n                Ud. ya ha registrado Reporte de Turno {turno} del área de {area}{\" \"}\r\n                para la fecha seleccionada, si continua se borrarán los datos\r\n                previos.\r\n              </h4>\r\n            </Label>\r\n          )}\r\n        </Modal.Content>\r\n\r\n        <Divider />\r\n        <Modal.Content>\r\n          {incumple.length > 0 && <b>Incumplimientos: </b>}\r\n          {incumple.length > 0 && (\r\n            <List>\r\n              {incumple.map((item, index) => {\r\n                return (\r\n                  <List.Item>\r\n                    {index + 1}. {item.req} - {item.rubro}\r\n                  </List.Item>\r\n                );\r\n              })}\r\n            </List>\r\n          )}\r\n          {incumple.length === 0 && <b>Sin Incidencias</b>}\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button\r\n            color=\"green\"\r\n            onClick={() => {\r\n              registrar();\r\n            }}\r\n          >\r\n            <Icon name=\"check\"></Icon>Confirmar\r\n          </Button>\r\n          <Button\r\n            secondary\r\n            color=\"red\"\r\n            onClick={() => {\r\n              setConfirmar(false);\r\n            }}\r\n          >\r\n            <Icon name=\"x\"></Icon>Cancelar\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n      <Dimmer active={!reportData || saving || !reportes} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Grid columns={1}>\r\n        <Grid.Column>\r\n          <Segment>\r\n            <Label attached=\"top\" color=\"red\">\r\n              <Input\r\n                type=\"date\"\r\n                size=\"tiny\"\r\n                defaultValue={fecha}\r\n                onChange={(e, { value }) => {\r\n                  setFecha(value);\r\n                }}\r\n              ></Input>\r\n            </Label>\r\n          </Segment>\r\n          <Divider />\r\n          <Segment>\r\n            <Header as=\"h2\">\r\n              Reporte de\r\n              <Grid columns={4}>\r\n                <Grid.Column>Turno</Grid.Column>\r\n                {[...Array(3).keys()].map((i) => (\r\n                  <Grid.Column>\r\n                    <Checkbox\r\n                      radio\r\n                      label={i + 1}\r\n                      checked={turno === i + 1}\r\n                      onChange={() => {\r\n                        setTurno(i + 1);\r\n                      }}\r\n                    />\r\n                  </Grid.Column>\r\n                ))}\r\n              </Grid>\r\n              <Label\r\n                attached=\"top right\"\r\n                color={incumple.length > 0 ? \"red\" : \"grey\"}\r\n              >\r\n                Incumplimiento{incumple.length > 1 ? \"s\" : \"\"} {incumple.length}\r\n              </Label>\r\n            </Header>\r\n          </Segment>\r\n          <Grid.Row>\r\n            <Segment basic>\r\n              <Header content={\"Area\"} />\r\n              <Dropdown\r\n                placeholder=\"Area Supervisada..\"\r\n                fluid\r\n                selection\r\n                search\r\n                scrolling\r\n                clearable\r\n                value={area}\r\n                options={listaArea}\r\n                onChange={(e, { value }) => {\r\n                  setArea(value);\r\n                }}\r\n              />\r\n            </Segment>\r\n          </Grid.Row>\r\n        </Grid.Column>\r\n      </Grid>\r\n      <Segment basic>\r\n        <Button\r\n          fluid\r\n          size=\"big\"\r\n          disabled={!area}\r\n          color=\"green\"\r\n          onClick={() => {\r\n            validar();\r\n            setConfirmar(true);\r\n          }}\r\n        >\r\n          <Icon name=\"save\"></Icon>\r\n          Guardar\r\n        </Button>\r\n      </Segment>\r\n      {area && (\r\n        <Segment basic>\r\n          <Header content={\"Requerimientos\"} />\r\n          <List divided verticalAlign=\"middle\">\r\n            {reportData &&\r\n              requerimientos &&\r\n              requerimientos.map((item) => {\r\n                return (\r\n                  <List.Item>\r\n                    <List.Content>\r\n                      <Button\r\n                        circular\r\n                        name={item}\r\n                        fluid\r\n                        style={{\r\n                          backgroundImage:\r\n                            \"linear-gradient(to right,#B0140E,#F44336)\",\r\n                          color: \"white\",\r\n                        }}\r\n                        size=\"big\"\r\n                        onClick={crearLista}\r\n                      >\r\n                        {item} <Icon name=\"caret square down outline\"></Icon>\r\n                      </Button>\r\n                      {activeReq === item && (\r\n                        <Segment basic>\r\n                          <Header content={\"Rubros\"} />\r\n                          *quitar gancho a los que no cumplen.*{\" \"}\r\n                          {lista &&\r\n                            activeReq == item &&\r\n                            lista.map((list) => {\r\n                              return (\r\n                                <Segment\r\n                                  basic\r\n                                  onClick={() => {\r\n                                    console.log(incumple, campoOblig);\r\n                                  }}\r\n                                >\r\n                                  <Checkbox\r\n                                    id={list}\r\n                                    name={list}\r\n                                    actos={\r\n                                      reportData[\r\n                                        reportData.findIndex(\r\n                                          (x) => x.Rubro === list\r\n                                        )\r\n                                      ].Acto\r\n                                    }\r\n                                    requerimiento={activeReq}\r\n                                    checked={\r\n                                      incumple.filter(\r\n                                        (item) =>\r\n                                          item.req === activeReq &&\r\n                                          item.rubro === list\r\n                                      ).length > 0\r\n                                        ? false\r\n                                        : true\r\n                                    }\r\n                                    label={list}\r\n                                    onChange={revision}\r\n                                  />\r\n                                  {incumple.filter(\r\n                                    (item) =>\r\n                                      item.req === activeReq &&\r\n                                      item.rubro === list\r\n                                  ).length > 0 && (\r\n                                    <Segment>\r\n                                      <Grid columns={1}>\r\n                                        <Grid.Column>\r\n                                          <Form>\r\n                                            <TextArea\r\n                                              placeholder=\"Detalle...\"\r\n                                              defaultValue={\r\n                                                incumple[\r\n                                                  incumple.findIndex(\r\n                                                    (x) => x.rubro === list\r\n                                                  )\r\n                                                ].detalle\r\n                                                  ? incumple[\r\n                                                      incumple.findIndex(\r\n                                                        (x) => x.rubro === list\r\n                                                      )\r\n                                                    ].detalle\r\n                                                  : \"\"\r\n                                              }\r\n                                              onChange={(e, { value }) => {\r\n                                                incumple[\r\n                                                  incumple.findIndex(\r\n                                                    (x) => x.rubro === list\r\n                                                  )\r\n                                                ].detalle = value;\r\n                                              }}\r\n                                            />\r\n                                          </Form>\r\n                                        </Grid.Column>\r\n\r\n                                        {reportData[\r\n                                          reportData.findIndex(\r\n                                            (x) => x.Rubro === list\r\n                                          )\r\n                                        ].Acto === \"Y\" && (\r\n                                          <Grid.Column>\r\n                                            <Dropdown\r\n                                              fluid\r\n                                              multiple\r\n                                              search\r\n                                              selection\r\n                                              defaultValue={\r\n                                                incumple[\r\n                                                  incumple.findIndex(\r\n                                                    (x) => x.rubro === list\r\n                                                  )\r\n                                                ].involucrados\r\n                                                  ? incumple[\r\n                                                      incumple.findIndex(\r\n                                                        (x) => x.rubro === list\r\n                                                      )\r\n                                                    ].involucrados\r\n                                                  : \"\"\r\n                                              }\r\n                                              placeholder=\"Seleccionar Personas Involucradas\"\r\n                                              options={personal}\r\n                                              onChange={(e, { value }) => {\r\n                                                incumple[\r\n                                                  incumple.findIndex(\r\n                                                    (x) => x.rubro === list\r\n                                                  )\r\n                                                ].involucrados = value;\r\n                                                if (value.length > 0) {\r\n                                                  incumple[\r\n                                                    incumple.findIndex(\r\n                                                      (x) => x.rubro === list\r\n                                                    )\r\n                                                  ].obligatorio = 0;\r\n                                                } else {\r\n                                                  incumple[\r\n                                                    incumple.findIndex(\r\n                                                      (x) => x.rubro === list\r\n                                                    )\r\n                                                  ].obligatorio = 1;\r\n                                                }\r\n                                              }}\r\n                                            ></Dropdown>\r\n                                          </Grid.Column>\r\n                                        )}\r\n                                        <Grid.Column>\r\n                                          <Input\r\n                                            icon=\"camera\"\r\n                                            iconPosition=\"left\"\r\n                                            type=\"file\"\r\n                                            fluid\r\n                                            rubro={list}\r\n                                            onChange={(e, { rubro }) => {\r\n                                              handleImageUpload(e, rubro);\r\n                                            }}\r\n                                          />\r\n                                        </Grid.Column>\r\n                                        {incumple[\r\n                                          incumple.findIndex(\r\n                                            (x) => x.rubro === list\r\n                                          )\r\n                                        ].preview && (\r\n                                          <Grid columns={2}>\r\n                                            <Grid.Column>\r\n                                              <Image\r\n                                                src={\r\n                                                  incumple[\r\n                                                    incumple.findIndex(\r\n                                                      (x) => x.rubro === list\r\n                                                    )\r\n                                                  ].preview\r\n                                                }\r\n                                                size=\"small\"\r\n                                              />\r\n                                            </Grid.Column>\r\n                                            <Grid.Column>\r\n                                              <Button\r\n                                                color=\"blue\"\r\n                                                id={\"btn\" + list}\r\n                                                icon\r\n                                                size=\"mini\"\r\n                                                labelPosition=\"left\"\r\n                                                rubro={list}\r\n                                                onClick={(e, { rubro }) => {\r\n                                                  handleFireBaseUpload(rubro);\r\n                                                }}\r\n                                              >\r\n                                                <Icon name=\"upload\" />\r\n                                                Confirmar\r\n                                              </Button>\r\n                                              <Progress\r\n                                                percent={\r\n                                                  incumple[\r\n                                                    incumple.findIndex(\r\n                                                      (x) => x.rubro === list\r\n                                                    )\r\n                                                  ].url\r\n                                                    ? 100\r\n                                                    : percentage\r\n                                                }\r\n                                                indicating={\r\n                                                  !incumple[\r\n                                                    incumple.findIndex(\r\n                                                      (x) => x.rubro === list\r\n                                                    )\r\n                                                  ].url && percentage != 100\r\n                                                }\r\n                                                success={\r\n                                                  incumple[\r\n                                                    incumple.findIndex(\r\n                                                      (x) => x.rubro === list\r\n                                                    )\r\n                                                  ].url\r\n                                                    ? true\r\n                                                    : percentage == 100\r\n                                                }\r\n                                              />\r\n                                            </Grid.Column>\r\n                                          </Grid>\r\n                                        )}\r\n                                      </Grid>\r\n                                    </Segment>\r\n                                  )}\r\n                                </Segment>\r\n                              );\r\n                            })}\r\n                        </Segment>\r\n                      )}\r\n                    </List.Content>\r\n                  </List.Item>\r\n                );\r\n              })}\r\n          </List>\r\n        </Segment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport userData from \"./employee.json\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction Perfil() {\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const userInfo = userData.filter((item) => {\r\n    return item.Nombre === user;\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <Segment>\r\n        <Header as=\"h4\">\r\n          {user}\r\n          <Button\r\n            floated=\"right\"\r\n            negative\r\n            onClick={() => {\r\n              setUser(\"\");\r\n              sessionStorage.removeItem(\"user\");\r\n              localStorage.removeItem(\"user\");\r\n              setPagina(\"/perfil\");\r\n              history.push(\"/Login\");\r\n            }}\r\n          >\r\n            Cerrar Sesión\r\n          </Button>\r\n        </Header>\r\n        <Segment>{userInfo[0].correo}</Segment>\r\n      </Segment>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Perfil;\r\n","import React, { useState, useContext } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport Home from \"./Home.js\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport userData from \"./employee.json\";\nimport Add from \"./images/fondo.jpg\";\nimport {\n  Header,\n  Menu,\n  Icon,\n  Modal,\n  Button,\n  Input,\n  Segment,\n  Checkbox,\n  Sidebar,\n  Dropdown,\n  Label,\n} from \"semantic-ui-react\";\nimport Observacion from \"./observacion\";\nimport Tareas from \"./tareas\";\nimport Consultas from \"./consulta\";\nimport Registrar from \"./registrar\";\nimport Categorias from \"./tipos\";\nimport Login from \"./Login\";\nimport Reporte from \"./Reporte\";\nimport { Contexto } from \"./Contexto\";\nimport Perfil from \"./profile\";\n\nfunction App() {\n  let iniciado = null;\n  let caption = \"Sign In\";\n  if (sessionStorage.getItem(\"user\")) {\n    iniciado = sessionStorage.user;\n    caption = \"Sign Out\";\n  } else if (localStorage.getItem(\"user\")) {\n    iniciado = localStorage.user;\n    caption = \"Sign Out\";\n  }\n  const {\n    [\"user\"]: [user, setUser],\n  } = useContext(Contexto);\n  const {\n    [\"pagina\"]: [pagina, setPagina],\n  } = useContext(Contexto);\n  const [width, setWidth] = React.useState(window.innerWidth);\n  const breakpoint = 620;\n  const [session, setSession] = useState(caption);\n  const [open, setOpen] = React.useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [activeItem, setActiveItem] = useState(\"\");\n  const [recordar, setRecordar] = useState(false);\n  const [visible, setVisible] = useState(false);\n\n  const handleItemClick = (e, { name }) => {\n    setActiveItem(name);\n  };\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"userPassword\") {\n      setPassword(value);\n    }\n  };\n\n  const login = (event, password) => {\n    event.preventDefault();\n    var found = false;\n    for (var i = 0; i < userData.length; i++) {\n      if (userData[i].id === password) {\n        found = true;\n        setUser(userData[i].Nombre);\n        sessionStorage.user = userData[i].Nombre;\n        if (recordar) {\n          localStorage.user = userData[i].Nombre;\n        }\n        setSession(\"Sign Out\");\n        break;\n      }\n    }\n    if (!found) alert(`Usuario No encontrado`);\n  };\n\n  React.useEffect(() => {\n    const handleWindowResize = () => setWidth(window.innerWidth);\n    window.addEventListener(\"resize\", handleWindowResize);\n\n    // Return a function from the effect that removes the event listener\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n\n  return (\n    <Router basename={\"/\"}>\n      <div style={{ padding: \"2%\", backgroundImage: `url(${Add})` }}>\n        <Menu color=\"red\" size=\"huge\">\n          <Menu.Item header as={Link} to=\"/home\">\n            <b style={{ color: \"red\" }}>Mi Cultura QSEB</b>\n          </Menu.Item>\n          {width < breakpoint ? (\n            <Menu.Item position=\"right\">\n              <Icon\n                size=\"large\"\n                name=\"bars\"\n                color=\"red\"\n                onClick={() => {\n                  setVisible(true);\n                }}\n              />\n            </Menu.Item>\n          ) : (\n            <>\n              <Dropdown item text=\"Reportes\">\n                <Dropdown.Menu>\n                  <Dropdown.Item\n                    text=\"Reporte de Turno\"\n                    as={Link}\n                    to={user ? \"/Reporte\" : \"/Login\"}\n                    onClick={() => {\n                      setPagina(\"/Reporte\");\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Recorridos\"\n                    as={Link}\n                    to={user ? \"/registros\" : \"/Login\"}\n                    onClick={() => {\n                      setPagina(\"/registros\");\n                    }}\n                  />\n                  <Dropdown.Item text=\"Actos Inseguros\" />\n                  <Dropdown.Item text=\"Condiciones Inseguras\" />\n                </Dropdown.Menu>\n              </Dropdown>\n              <Menu.Item name=\"Noticias\">Noticias</Menu.Item>\n              <Menu.Item position=\"right\">\n                {user ? (\n                  <Icon\n                    size=\"large\"\n                    name=\"user circle\"\n                    color={user ? \"green\" : \"black\"}\n                  />\n                ) : (\n                  <Button\n                    content=\"Iniciar Sesion\"\n                    style={{ backgroundColor: \"#F44336\", color: \"white\" }}\n                    as=\"a\"\n                    href=\"/Login\"\n                  />\n                )}\n              </Menu.Item>\n            </>\n          )}\n        </Menu>\n        <Sidebar.Pushable as={Segment}>\n          <Sidebar\n            as={Menu}\n            animation=\"overlay\"\n            icon=\"labeled\"\n            onHide={() => setVisible(false)}\n            vertical\n            direction=\"right\"\n            visible={visible}\n            width=\"wide\"\n            color=\"red\"\n          >\n            <Menu.Item\n              name=\"Reporte\"\n              as={Link}\n              to={user ? \"/Reporte\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n                setPagina(\"/Reporte\");\n              }}\n            >\n              Reporte de Turno\n            </Menu.Item>\n            <Menu.Item\n              name=\"Recorridos\"\n              as={Link}\n              to={user ? \"/registros\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n                setPagina(\"/registros\");\n              }}\n            >\n              Recorridos\n            </Menu.Item>\n            <Menu.Item name=\"ActosI\">Actos Inseguros</Menu.Item>\n            <Menu.Item name=\"CondicionesI\">Condiciones Inseguras</Menu.Item>\n            <Menu.Item name=\"Noticias\">Noticias</Menu.Item>\n            <Menu.Item\n              name=\"Perfil\"\n              as={Link}\n              to={user ? \"/perfil\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n              }}\n            >\n              {user ? (\n                user\n              ) : (\n                <Button\n                  content=\"Iniciar Sesion\"\n                  style={{ backgroundColor: \"#F44336\", color: \"white\" }}\n                  as={Link}\n                  onClick={() => {\n                    setVisible(false);\n                  }}\n                  to=\"/Login\"\n                />\n              )}\n            </Menu.Item>\n          </Sidebar>\n\n          <Sidebar.Pusher>\n            <Segment\n              style={{\n                backgroundColor: \"whitesmoke\",\n                height: \"75vh\",\n                overflowY: \"scroll\",\n              }}\n            >\n              <Switch>\n                <Route\n                  exact\n                  path=\"/home\"\n                  render={(props) => <Home {...props} user={user} />}\n                />\n                <Route\n                  path=\"/registros\"\n                  render={(props) => <Registrar {...props} user={user} />}\n                />\n                <Route\n                  path=\"/tareas\"\n                  render={(props) => <Tareas {...props} user={user} />}\n                />\n                <Route\n                  path=\"/observaciones\"\n                  render={(props) => <Consultas {...props} user={user} />}\n                />\n                <Route\n                  path=\"/observacion/:id\"\n                  render={(props) => <Observacion {...props} user={user} />}\n                />\n                <Route\n                  path=\"/Login\"\n                  render={(props) => <Login {...props} user={user} />}\n                />\n                <Route\n                  path=\"/Reporte\"\n                  render={(props) => <Reporte {...props} user={user} />}\n                />\n                <Route\n                  path=\"/perfil\"\n                  render={(props) => <Perfil {...props} user={user} />}\n                />\n                <Route\n                  path=\"/\"\n                  render={(props) => <Home {...props} user={user} />}\n                />\n              </Switch>\n            </Segment>\n            <Menu\n              fluid\n              widths={5}\n              icon=\"labeled\"\n              inverted\n              style={{ fontSize: 10 }}\n            >\n              <Menu.Item\n                name=\"estadistica\"\n                active={activeItem === \"estadistica\"}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/home\"\n              >\n                <Icon name=\"chart line\" />\n                Estadisticas\n              </Menu.Item>\n              <Menu.Item\n                name=\"observaciones\"\n                active={activeItem === \"observaciones\"}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/observaciones\"\n              >\n                <Icon name=\"search\" />\n                Observaciones\n              </Menu.Item>\n              <Menu.Item\n                name=\"registrar\"\n                active={activeItem === \"registrar\"}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/registros\"\n              >\n                <Icon name=\"add square\" />\n                Registrar\n              </Menu.Item>\n              <Menu.Item\n                name=\"tareas\"\n                active={activeItem === \"tareas\"}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/tareas\"\n              >\n                <Icon name=\"tasks\" />\n                Tareas\n              </Menu.Item>\n              <Modal\n                basic\n                onClose={() => {\n                  setOpen(false);\n                }}\n                onOpen={() => setOpen(true)}\n                open={open}\n                size=\"large\"\n                trigger={\n                  <Menu.Item\n                    name=\"usuario\"\n                    active={activeItem === \"usuario\"}\n                    onClick={handleItemClick}\n                  >\n                    <Icon name=\"user circle\" color={user ? \"green\" : \"red\"} />\n                    {user ? user : \"Usuario\"}\n                  </Menu.Item>\n                }\n              >\n                {!user ? (\n                  <Segment textAlign=\"center\">\n                    <Header icon>\n                      <Icon name=\"key\" />\n                      Sign In\n                    </Header>\n                    <Header as=\"h3\">\n                      <Modal.Content>\n                        <Input iconPosition=\"left\" placeholder=\"Password\">\n                          <Icon name=\"key\" />\n                          <input\n                            name=\"userPassword\"\n                            type=\"password\"\n                            onChange={(event) => onChangeHandler(event)}\n                          />\n                        </Input>\n                        <Modal.Description>\n                          <p>\n                            <Checkbox\n                              label=\"Recordar Usuario\"\n                              onChange={(e, { checked }) => {\n                                checked\n                                  ? setRecordar(true)\n                                  : setRecordar(false);\n                              }}\n                            />\n                          </p>\n                        </Modal.Description>\n                      </Modal.Content>\n                    </Header>\n                    <Modal.Actions>\n                      <Button\n                        color=\"red\"\n                        inverted\n                        onClick={() => setOpen(false)}\n                      >\n                        <Icon name=\"remove\" /> Cancel\n                      </Button>\n                      <Button\n                        color=\"green\"\n                        inverted\n                        onClick={(event) => {\n                          login(event, password);\n                          setOpen(false);\n                        }}\n                      >\n                        <Icon name=\"checkmark\" /> Sign In\n                      </Button>\n                    </Modal.Actions>\n                  </Segment>\n                ) : (\n                  <Segment\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                    }}\n                    textAlign=\"center\"\n                  >\n                    <Menu inverted vertical>\n                      <Menu.Item\n                        name=\"contact\"\n                        active={activeItem === \"contact\"}\n                        as=\"a\"\n                        href=\"https://wa.me/50769493169?text=Hola%20Chino\"\n                      />\n                      <Menu.Item\n                        name={session}\n                        onClick={() => {\n                          setUser(\"\");\n                          sessionStorage.removeItem(\"user\");\n                          localStorage.removeItem(\"user\");\n                          iniciado = null;\n                          setSession(\"Sign In\");\n                          setOpen(false);\n                        }}\n                      />\n                    </Menu>\n                  </Segment>\n                )}\n              </Modal>\n            </Menu>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ContextoProvider from \"./Contexto\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextoProvider>\n      <App />\n    </ContextoProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}