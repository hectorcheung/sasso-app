{"version":3,"sources":["Contexto.js","Home.js","images/fondo.jpg","observacion.js","firebase/firebase.js","tareas.js","consulta.js","apikeys.js","registrar.js","Login.js","profile.js","schedule.js","reporteDeTurno.js","minuta.js","Dummy.png","desviaciones.js","reportes_home.js","aci.js","App.js","serviceWorker.js","index.js"],"names":["Contexto","React","createContext","children","iniciado","sessionStorage","getItem","user","localStorage","useState","setUser","recordar","setRecordar","data","setData","data1","setdata1","data2","setdata2","desviaciones","setDesviaciones","misReq","setMisReq","misTareas","setMisTareas","areas","setAreas","grupoArea","setGrupoArea","reportData","setRepData","pagina","setPagina","window","innerWidth","width","setWidth","tipoReporte","setTipoReporte","personal","j","userData","length","Nombre","push","key","text","value","color","categoria","activo","inactivo","texto","caption","short","gradient","cumple","contexto","colores","breakpoint","Provider","ExcelDateToJSDate","serial","utc_days","Math","floor","date_info","Date","fractional_day","total_seconds","seconds","hours","minutes","getFullYear","getMonth","getDate","FechaStringShort","fecha","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","Home","useHistory","qsebSummary","setQSEBsummary","qsebCat","setQSEBcat","qsebSubcat","setQSEBsubcat","useContext","handleSemana","anno","substring","mes","dia","d","weekday","getDay","setDate","inicioDeSemana","lastWeek","today","diaDeSemana","wd","getMonths","esteMes","currentYear","lastMonthYear","currentMonth","toString","lastMonth","semana","semanaPasada","setMes","mesRecorrido","setMesRecorrido","turno","setTurno","area","setArea","periodo","setPeriodo","schedule","setSchedule","sacardata","a","elem","document","getElementById","style","height","datas","creds","require","doc","GoogleSpreadsheet","useServiceAccountAuth","loadInfo","sheet","sheetsById","getRows","rows","columnCount","cols","headerValues","encabezado","lastr","loadCells","startRowIndex","endRowIndex","startColumnIndex","endColumnIndex","i","getCell","datas_areas","unique","Set","map","item","grupo","sort","unshift","programacion","forEach","x","Incumple","Mes","FechaRecorrido","total","grupito","filter","lugar","name","Area","prog","Reporte","includes","Usuario","Fecha","realizado","programado","reduce","r","o","get","Object","assign","set","Map","values","cumplimiento","isNaN","round","dataFiltrado","summary","Tipo","categories","Categoria","subcategories","SubCategoria","useEffect","maxWidth","margin","position","onClick","console","log","id","className","left","top","backgroundColor","alignItems","textAlign","verticalAlign","zIndex","padding","display","type","onChange","e","target","right","bottom","gridColumn","float","fontSize","borderRadius","next","Turno","parseInt","slice","Filtrar","tipo","dashArr","cx","cy","stroke","stroke-width","fill","stroke-dasharray","transition","idx","backgroundImage","y","idy","z","idz","marginLeft","Observacion","params","useParams","startDate","dd","mm","yyyy","hora","getHours","minutos","getMinutes","date","toISOString","ar","br","cr","dr","er","fr","gr","hr","ir","jr","kr","lr","mr","nr","or","pr","qr","rr","sr","tr","ur","vr","fecha_hora","nombre","rubro","observaciones","severidad","pac","fecha_cierre","responsable","anexo","status","confirmado","extension","nueva_fecha","detalle","anexo2","obsDetalle","persObservadas","aplica","personas","join","Container","Segment","Item","Image","size","src","Content","Header","as","Description","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","auth","firestore","xltoDate","fechaStr","Tareas","myData","setMyData","myPac","setMyPac","activoID","setActivoID","totalPagina","setTotalPagina","setExtension","extDate","setExtDate","setDetalle","previewImg","saving","setSaving","preventDate","setPreventDate","pap","setpap","setImageAsFile","imgUrl","imageAsUrl","setImageAsUrl","setSubir","event","files","imageFile","reader","FileReader","preview","querySelector","onload","setAttribute","result","readAsDataURL","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","err","registrar","extendido","wr","xr","formula","saveUpdatedCells","Dimmer","active","page","Loader","justifyContent","Pagination","defaultActivePage","ellipsisItem","content","Icon","icon","firstItem","lastItem","prevItem","nextItem","totalPages","onPageChange","activePage","List","overflowY","toUpperCase","FechaString","Checkbox","disabled","label","checked","Input","defaultValue","Form","TextArea","detalle_pac","placeholder","fluid","alt","Button","inverted","priceEls","querySelectorAll","innerText","click","iniciar","Consultas","dataFound","setDataFound","inicio","setInicio","final","setFinal","activeIndex","setActiveIndex","buscar","setBuscar","creador","setCreador","activeItem","setActiveItem","open","setOpen","b","keyA","keyB","Modal","onClose","onOpen","image","wrapped","observador","observado","Actions","Accordion","Title","index","titleProps","Label","Dropdown","multiple","search","selection","Group","divided","href","prevObject","Meta","Extra","Registros","dummyImg","setID","loading","setLoading","perfil","setPerfil","correo","setCorreo","step","setStep","setTipo","cat","setCat","setData2","catData","setCatData","subCatData","setSubCatData","subCat","setSubCat","detalles","setDetalles","que","setQue","donde","setDonde","pacStep","setPacStep","involucrados","setInvolucrados","plan","setPlan","setStartDate","resp","setResp","segCat","useRef","segSubCat","setPreviewImg","imageAsFile","subir","guardar","setGuardar","confirmar","setConfirmar","setSeveridad","imgUpload","setImgUpload","history","Blob","archivoSelect","error","ref","put","on","snapShot","child","getDownloadURL","then","fireBaseUrl","datas2","sheet2","rows2","handleTipoClick","current","focus","sacarAreas","datosUsuario","Perfil","datoResp","handleCatClick","handleStep","handleArea","UniqueID","now","addRow","Personas_Observadas","Detalle","Aplica","ids","notificar","codigo","templateParams","to_email","fecha_limite","qseb","observacion","imagen","registrado","emailjs","send","apiKeys","response","handleFireBaseUpload","header","actions","positive","labelPosition","Step","ordered","attached","unstackable","completed","Popup","trigger","circular","Ref","innerRef","Card","itemsPerRow","raised","ui","button","scrolling","clearable","handleImageUpload","Login","password","setPassword","Grid","Column","stacked","iconPosition","currentTarget","onChangeHandler","preventDefault","found","alert","login","Message","userInfo","floated","negative","removeItem","FechaStringLong","hour","minute","Schedule","persona","setPersona","setLugar","listaArea","setListaArea","setFecha","delete","FechaProgramado","sleep","milliseconds","currentDate","ReporteDeTurno","reportes","setReportes","sinFiltro","setSinFiltro","setCheckList","cats","setCats","rubros","setRubros","activeRubro","setActRubro","requerimientos","setReq","activeReq","setActiveR","incumple","percentage","setPercentage","duplicado","setDuplicado","setTipoRep","estados","setStatus","existingItems","url","img","archivo","findIndex","uploadTask","sacarReportes","location","opcional","reporte","aplican","self","indexOf","uniqueID","Id","FechaRegistro","PersonasObservadas","Imagen","handleCategorias","chklist","handleSubCat","handleCheck","chk","HandleTodos","handleOpcional","handleObservados","handleDetalles","handleWindowResize","addEventListener","removeEventListener","userArea","keys","toLowerCase","split","some","w","element","validar","basic","Divider","secondary","Row","filtro","columns","Radio","floating","Acto","ceil","reqIdx","requerimiento","pointing","Progress","percent","indicating","success","progress","Minuta","stackable","Desviaciones","estado","setEstado","Status","papName","setPapName","papDesc","setPapDesc","papAreaResp","setPapAreaResp","incumplimientos","miData","AreaResponsable","grupoAreaKey","Responsable","classList","add","PAPDesc","Estatus","SolicitadoPor","PAPFechaCreado","save","closeNav","class","opacity","papdesc","remove","dummy","border","hidden","selected","ReportHome","slideIdx","setSlideIdx","filtrado","setfiltrado","changeSlide","newIdx","getElementsByClassName","activeMenu","setActiveMenu","dm7","miReporte","listID","handleMenu","ActoCondiciones","acto","buscarPO","setBuscarPO","pObservadas","setPObservadas","setObservacion","accion","setAccion","setAnexo","previewImgs","setPreviewImgs","imagenes","setImg","setCaption","Fecha_Registro","Accion","Anexos","Acto_Condicion","acc","Promise","resolve","_reject","elemValor","lista","valor","getElementsByName","oldArray","archivos","prev","min","max","onFocus","onBlur","accept","n","App","visible","setVisible","basename","to","Add","Menu","Link","Sidebar","Pushable","animation","onHide","vertical","direction","Pusher","exact","path","render","props","Boolean","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.ea200161.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport userData from \"./employee.json\";\r\n\r\nexport const Contexto = React.createContext(null);\r\n\r\nexport default ({ children }) => {\r\n  let iniciado = null;\r\n  if (sessionStorage.getItem(\"user\")) {\r\n    iniciado = sessionStorage.user;\r\n  } else if (localStorage.getItem(\"user\")) {\r\n    iniciado = localStorage.user;\r\n  }\r\n  const [user, setUser] = useState(iniciado);\r\n  const [recordar, setRecordar] = useState(false);\r\n  const [data, setData] = useState();\r\n  const [data1, setdata1] = useState();\r\n  const [data2, setdata2] = useState();\r\n  const [desviaciones, setDesviaciones] = useState();\r\n  const [misReq, setMisReq] = useState();\r\n  const [misTareas, setMisTareas] = useState();\r\n  const [areas, setAreas] = useState();\r\n  const [grupoArea, setGrupoArea] = useState();\r\n  const [reportData, setRepData] = useState();\r\n  const [pagina, setPagina] = useState();\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  const [tipoReporte, setTipoReporte] = useState();\r\n  const personal = [];\r\n  for (var j = 0; j < userData.length; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n  var breakpoint = 620;\r\n  const color = [\r\n    {\r\n      categoria: \"Calidad\",\r\n      activo: \"#FF5300\",\r\n      inactivo: \"#FF915C\",\r\n      texto: \"white\",\r\n      caption: \"Quality\",\r\n      short: \"Q\",\r\n      gradient: \"linear-gradient(to right,#fc4a1a,#f7b733)\",\r\n      cumple: 100,\r\n    },\r\n    {\r\n      categoria: \"Seguridad\",\r\n      activo: \"#5A0FC4\",\r\n      inactivo: \"#8857D1\",\r\n      texto: \"white\",\r\n      caption: \"Safety\",\r\n      short: \"S\",\r\n      gradient: \"linear-gradient(to right,#8E2DE2,#4A00E0)\",\r\n      cumple: 100,\r\n    },\r\n    {\r\n      categoria: \"Ambiente\",\r\n      activo: \"#00C37E\",\r\n      inactivo: \"#4ACFA0\",\r\n      texto: \"white\",\r\n      caption: \"Environment\",\r\n      short: \"E\",\r\n      gradient: \"linear-gradient(to right,#56ab2f,#a8e063)\",\r\n      cumple: 100,\r\n    },\r\n    {\r\n      categoria: \"Bioseguridad\",\r\n      activo: \"#FFE700\",\r\n      inactivo: \"#FFEF5C\",\r\n      texto: \"black\",\r\n      caption: \"BioS\",\r\n      short: \"B\",\r\n      gradient: \"linear-gradient(to right,#ffe259,#ffa751)\",\r\n      cumple: 100,\r\n    },\r\n  ];\r\n  const [colores, setColores] = useState(color);\r\n  const contexto = {\r\n    user: [user, setUser],\r\n    recordar: [recordar, setRecordar],\r\n    data: [data, setData],\r\n    areas: [areas, setAreas],\r\n    grupoArea: [grupoArea, setGrupoArea],\r\n    reportData: [reportData, setRepData],\r\n    personal: personal,\r\n    colores: [colores, setColores],\r\n    color: color,\r\n    pagina: [pagina, setPagina],\r\n    width: [width, setWidth],\r\n    data1: [data1, setdata1],\r\n    data2: [data2, setdata2],\r\n    desviaciones: [desviaciones, setDesviaciones],\r\n    misReq: [misReq, setMisReq],\r\n    misTareas: [misTareas, setMisTareas],\r\n    tipoReporte: [tipoReporte, setTipoReporte],\r\n    breakpoint: breakpoint,\r\n    userData: userData,\r\n  };\r\n\r\n  return <Contexto.Provider value={contexto}>{children}</Contexto.Provider>;\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport useFitText from \"use-fit-text\";\r\nimport {\r\n  Dimmer,\r\n  Loader,\r\n  Grid,\r\n  Header,\r\n  Button,\r\n  Icon,\r\n  Table,\r\n  Segment,\r\n  List,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction sleep(milliseconds) {\r\n  const date = Date.now();\r\n  let currentDate = null;\r\n  do {\r\n    currentDate = Date.now();\r\n  } while (currentDate - date < milliseconds);\r\n}\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Home({ user }) {\r\n  const history = useHistory();\r\n  const [data, setData] = useState();\r\n  const [qsebSummary, setQSEBsummary] = useState();\r\n  const [qsebCat, setQSEBcat] = useState();\r\n  const [qsebSubcat, setQSEBsubcat] = useState();\r\n\r\n  const [filtros, setFiltros] = useState(false);\r\n\r\n  const { color: color } = useContext(Contexto);\r\n  const { breakpoint: breakpoint } = useContext(Contexto);\r\n  const { userData: userData } = useContext(Contexto);\r\n  const {\r\n    [\"grupoArea\"]: [grupoArea, setGrupoArea],\r\n  } = useContext(Contexto);\r\n  const estados = [\r\n    { name: \"saving\", caption: \"Guardando\" },\r\n    { name: \"loading\", caption: \"Cargando\" },\r\n    { name: \"deleting\", caption: \"Borrando\" },\r\n  ];\r\n  const [status, setStatus] = useState();\r\n  function handleSemana(fecha) {\r\n    var anno = fecha.substring(0, 4);\r\n    var mes = fecha.substring(5, 7);\r\n    var dia = fecha.substring(8, 10);\r\n    var d = new Date(anno, mes - 1, dia);\r\n    let weekday = d.getDay();\r\n    weekday === 0 ? (weekday = 7) : (weekday = weekday);\r\n    d.setDate(d.getDate() - weekday + 1);\r\n    return FechaStringShort(d);\r\n  }\r\n  function inicioDeSemana() {\r\n    let inicioDeSemana = new Date();\r\n    return inicioDeSemana;\r\n  }\r\n  function lastWeek() {\r\n    let today = new Date();\r\n    today.setDate(today.getDate() - 7);\r\n    return today;\r\n  }\r\n  function diaDeSemana(fecha) {\r\n    let wd = fecha.getDay();\r\n    wd === 0 ? (wd = 7) : (wd = wd);\r\n    return wd;\r\n  }\r\n\r\n  function getMonths() {\r\n    let today = new Date();\r\n    let esteMes = today.getMonth();\r\n    let currentYear = today.getFullYear();\r\n    let lastMonthYear = esteMes == 12 ? currentYear - 1 : currentYear;\r\n    let currentMonth =\r\n      currentYear.toString() +\r\n      (esteMes + 1 < 10 ? \"-0\" : \"-\") +\r\n      (esteMes + 1).toString();\r\n    let lastMonth =\r\n      lastMonthYear.toString() +\r\n      (esteMes < 10 ? \"-0\" : \"-\") +\r\n      esteMes.toString();\r\n    return { currentMonth, lastMonth };\r\n  }\r\n\r\n  //Fechas\r\n  const [dataSemana, setDS] = useState();\r\n  const [semana, setSemana] = useState(\r\n    FechaStringShort(\r\n      inicioDeSemana().setDate(\r\n        inicioDeSemana().getDate() - diaDeSemana(inicioDeSemana()) + 1\r\n      )\r\n    )\r\n  );\r\n  const [semanaPasada, setSemanaPasada] = useState(\r\n    FechaStringShort(\r\n      lastWeek().setDate(lastWeek().getDate() - diaDeSemana(lastWeek()) + 1)\r\n    )\r\n  );\r\n  const [mes, setMes] = useState(getMonths().currentMonth);\r\n  const [mesRecorrido, setMesRecorrido] = useState(getMonths().currentMonth);\r\n\r\n  const tiposDeReportes = [\"Reporte de Turno\", \"Reporte de Recorrido\"];\r\n  const [areas, setAreas] = useState();\r\n  const turnos = [\"Todos\", \"Turno 1\", \"Turno 2\", \"Turno 3\"];\r\n  const periodos = [\"Esta Semana\", \"Semana Pasada\", \"Este Mes\", \"Mes\"];\r\n  const [tipoReporte, setTipoReporte] = useState(\"Reporte de Turno\");\r\n  const [turno, setTurno] = useState(\"Todos\");\r\n  const [area, setArea] = useState(\"Todas\");\r\n  const [periodo, setPeriodo] = useState(\"Esta Semana\");\r\n\r\n  const [schedule, setSchedule] = useState();\r\n\r\n  const selected = <div className=\"selected\"></div>;\r\n\r\n  const sacardata = async () => {\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.height = \"100%\";\r\n    let data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    let sheet = doc.sheetsById[1249329599];\r\n    let rows = await sheet.getRows();\r\n    let cols = await sheet.columnCount;\r\n    let encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    //AREAS\r\n    sheet = doc.sheetsById[1705686078];\r\n    rows = await sheet.getRows();\r\n    cols = await sheet.columnCount;\r\n    encabezado = await sheet.headerValues;\r\n    let datas_areas = [];\r\n    lastr = rows.length + 1;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas_areas.push(data);\r\n    }\r\n    setAreas(datas_areas);\r\n\r\n    const unique = [...new Set(datas_areas.map((item) => item.grupo))];\r\n    unique.sort();\r\n    unique.unshift(\"Todas\");\r\n    setGrupoArea(unique);\r\n    //AREAS\r\n    //Programacion\r\n    sheet = doc.sheetsById[762667679];\r\n    rows = await sheet.getRows();\r\n    cols = await sheet.columnCount;\r\n    encabezado = await sheet.headerValues;\r\n    let programacion = [];\r\n    lastr = rows.length + 1;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      programacion.push(data);\r\n    }\r\n    //Programacion\r\n    datas.forEach((x) => {\r\n      if (x.Incumple === \"Y\") {\r\n        x.cumple = 0;\r\n      } else {\r\n        x.cumple = 1;\r\n      }\r\n      x.Mes = FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)).substring(\r\n        0,\r\n        7\r\n      );\r\n      x.total = 1;\r\n      let grupito = datas_areas.filter((lugar) => lugar.name === x.Area);\r\n      x.grupo = grupito[0].grupo;\r\n    });\r\n\r\n    programacion.forEach((prog) => {\r\n      if (\r\n        datas.filter(\r\n          (x) =>\r\n            x.Reporte.includes(\"Recorrido\") &&\r\n            x.Usuario === prog.Nombre &&\r\n            x.Area === prog.Area &&\r\n            x.Mes === prog.Fecha\r\n        ).length > 0\r\n      ) {\r\n        prog.realizado = 1;\r\n      } else {\r\n        prog.realizado = 0;\r\n      }\r\n      prog.programado = 1;\r\n    });\r\n    programacion = programacion.map(\r\n      ({ Nombre, Fecha, realizado, programado }) => ({\r\n        Nombre,\r\n        Fecha,\r\n        realizado,\r\n        programado,\r\n      })\r\n    );\r\n    programacion = [\r\n      ...programacion\r\n        .reduce((r, o) => {\r\n          const key = o.Nombre + o.Fecha;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              realizado: 0,\r\n              programado: 0,\r\n            });\r\n\r\n          item.realizado += o.realizado;\r\n          item.programado += o.programado;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    programacion.forEach((prog) => {\r\n      var cumplimiento = isNaN(prog.realizado / prog.programado)\r\n        ? \"-\"\r\n        : Math.round((prog.realizado / prog.programado) * 100 * 10) / 10 + \"%\";\r\n      prog.cumplimiento = cumplimiento;\r\n    });\r\n    setSchedule(programacion);\r\n\r\n    let { currentMonth, lastMonth } = getMonths();\r\n    let dataFiltrado = datas.filter(\r\n      (item) =>\r\n        item.Reporte === tipoReporte &&\r\n        handleSemana(\r\n          FechaStringShort(ExcelDateToJSDate(item.FechaRecorrido))\r\n        ) == semana\r\n    );\r\n    if (dataFiltrado.length == 0) {\r\n      setPeriodo(\"Este Mes\");\r\n      dataFiltrado = datas.filter(\r\n        (item) =>\r\n          item.Reporte === tipoReporte &&\r\n          FechaStringShort(ExcelDateToJSDate(item.FechaRecorrido)).substring(\r\n            0,\r\n            7\r\n          ) == currentMonth\r\n      );\r\n    }\r\n\r\n    if (dataFiltrado.length == 0) {\r\n      setPeriodo(\"Este Mes\");\r\n      dataFiltrado = datas.filter(\r\n        (item) =>\r\n          item.Reporte === tipoReporte &&\r\n          FechaStringShort(ExcelDateToJSDate(item.FechaRecorrido)).substring(\r\n            0,\r\n            7\r\n          ) == lastMonth\r\n      );\r\n    }\r\n    let summary = dataFiltrado.map(({ Tipo, cumple, total }) => ({\r\n      Tipo,\r\n      cumple,\r\n      total,\r\n    }));\r\n    summary = [\r\n      ...summary\r\n        .reduce((r, o) => {\r\n          const key = o.Tipo;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    summary.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.round((x.cumple / x.total) * 100 * 10) / 10 + \"%\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setQSEBsummary(summary);\r\n    let categories = dataFiltrado.map(({ Tipo, Categoria, cumple, total }) => ({\r\n      Tipo,\r\n      Categoria,\r\n      cumple,\r\n      total,\r\n    }));\r\n    categories = [\r\n      ...categories\r\n        .reduce((r, o) => {\r\n          const key = o.Tipo + o.Categoria;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    categories.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.round((x.cumple / x.total) * 100 * 10) / 10 + \"%\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setQSEBcat(categories);\r\n    let subcategories = dataFiltrado.map(\r\n      ({ Tipo, Categoria, SubCategoria, cumple, total }) => ({\r\n        Tipo,\r\n        Categoria,\r\n        SubCategoria,\r\n        cumple,\r\n        total,\r\n      })\r\n    );\r\n    subcategories = [\r\n      ...subcategories\r\n        .reduce((r, o) => {\r\n          const key = o.Tipo + o.Categoria + o.SubCategoria;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    subcategories.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.round((x.cumple / x.total) * 100 * 10) / 10 + \"%\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setQSEBsubcat(subcategories);\r\n    setData(datas);\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"0%\";\r\n    elem.style.height = \"0%\";\r\n  };\r\n\r\n  function Filtrar() {\r\n    const dataFiltrado = data.filter(\r\n      (next) =>\r\n        next.Reporte === tipoReporte &&\r\n        (periodo === \"Esta Semana\"\r\n          ? handleSemana(\r\n              FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido))\r\n            ) == semana\r\n          : periodo === \"Semana Pasada\"\r\n          ? handleSemana(\r\n              FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido))\r\n            ) == semanaPasada\r\n          : periodo === \"Este Mes\"\r\n          ? FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido)).substring(\r\n              0,\r\n              7\r\n            ) === getMonths().currentMonth\r\n          : FechaStringShort(ExcelDateToJSDate(next.FechaRecorrido)).substring(\r\n              0,\r\n              7\r\n            ) === mes) &&\r\n        (tipoReporte.includes(\"Turno\") && turno !== \"Todos\"\r\n          ? next.Turno === parseInt(turno.slice(-1))\r\n          : true) &&\r\n        (area !== \"Todas\" ? next.grupo === area : true)\r\n    );\r\n    let summary = dataFiltrado.map(({ Tipo, cumple, total }) => ({\r\n      Tipo,\r\n      cumple,\r\n      total,\r\n    }));\r\n    summary = [\r\n      ...summary\r\n        .reduce((r, o) => {\r\n          const key = o.Tipo;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    summary.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.round((x.cumple / x.total) * 100 * 10) / 10 + \"%\";\r\n\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setQSEBsummary(summary);\r\n    let categories = dataFiltrado.map(({ Tipo, Categoria, cumple, total }) => ({\r\n      Tipo,\r\n      Categoria,\r\n      cumple,\r\n      total,\r\n    }));\r\n    categories = [\r\n      ...categories\r\n        .reduce((r, o) => {\r\n          const key = o.Tipo + o.Categoria;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    categories.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.round((x.cumple / x.total) * 100 * 10) / 10 + \"%\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setQSEBcat(categories);\r\n    let subcategories = dataFiltrado.map(\r\n      ({ Tipo, Categoria, SubCategoria, cumple, total }) => ({\r\n        Tipo,\r\n        Categoria,\r\n        SubCategoria,\r\n        cumple,\r\n        total,\r\n      })\r\n    );\r\n    subcategories = [\r\n      ...subcategories\r\n        .reduce((r, o) => {\r\n          const key = o.Tipo + o.Categoria + o.SubCategoria;\r\n          const item =\r\n            r.get(key) ||\r\n            Object.assign({}, o, {\r\n              cumple: 0,\r\n              total: 0,\r\n            });\r\n\r\n          item.cumple += o.cumple;\r\n          item.total += o.total;\r\n          return r.set(key, item);\r\n        }, new Map())\r\n        .values(),\r\n    ];\r\n    subcategories.forEach((x) => {\r\n      var cumplimiento = isNaN(x.cumple / x.total)\r\n        ? \"-\"\r\n        : Math.round((x.cumple / x.total) * 100 * 10) / 10 + \"%\";\r\n      x.cumplimiento = cumplimiento;\r\n    });\r\n    setQSEBsubcat(subcategories);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    } else {\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{ maxWidth: \"1280px\", margin: \"auto\", position: \"relative\" }}\r\n      onClick={() => {\r\n        console.log(semana);\r\n      }}\r\n    >\r\n      <div id=\"cargando\" className=\"cargando\">\r\n        <div className=\"loaderH\"></div>\r\n        Cargando...\r\n      </div>\r\n      <div\r\n        id=\"mes\"\r\n        style={{\r\n          position: \"absolute\",\r\n          width: \"50%\",\r\n          height: \"50%\",\r\n          left: \"25%\",\r\n          top: \"50%\",\r\n          backgroundColor: \"white\",\r\n          alignItems: \"center\",\r\n          textAlign: \"center\",\r\n          verticalAlign: \"middle\",\r\n          zIndex: \"1\",\r\n          padding: \"2%\",\r\n          display: \"none\",\r\n        }}\r\n      >\r\n        <p>Seleccionar el Mes...</p>\r\n        <input\r\n          type=\"month\"\r\n          value={mes}\r\n          onChange={(e) => {\r\n            setMes(e.target.value);\r\n            setPeriodo(e.target.value);\r\n          }}\r\n        ></input>\r\n        <button\r\n          style={{\r\n            position: \"absolute\",\r\n            right: \"5%\",\r\n            bottom: \"5%\",\r\n          }}\r\n          onClick={() => {\r\n            let elem = document.getElementById(\"mes\");\r\n            elem.style.display = \"none\";\r\n          }}\r\n        >\r\n          Confirmar\r\n        </button>\r\n      </div>\r\n      <div id=\"filtros\">\r\n        <h1 style={{ gridColumn: \"1 / 3\" }}>\r\n          Filtros\r\n          <button\r\n            style={{ float: \"right\", fontSize: \"small\", borderRadius: \"10px\" }}\r\n            onClick={() => {\r\n              Filtrar();\r\n            }}\r\n          >\r\n            Aplicar\r\n          </button>\r\n        </h1>\r\n        <select\r\n          id=\"filtroTipo\"\r\n          onChange={(e) => {\r\n            setTipoReporte(e.target.value);\r\n          }}\r\n        >\r\n          {tiposDeReportes.map((tipo) => {\r\n            return (\r\n              <option id={tipo} value={tipo}>\r\n                {tipo}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n        <select\r\n          id=\"filtroPeriodo\"\r\n          onClick={(e) => {\r\n            if (e.target.value === \"Mes\") {\r\n              let elem = document.getElementById(\"mes\");\r\n              elem.style.display = \"block\";\r\n            }\r\n          }}\r\n          onChange={(e) => {\r\n            if (e.target.value !== \"Mes\") {\r\n              setPeriodo(e.target.value);\r\n              let elem = document.getElementById(\"mes\");\r\n              elem.style.display = \"none\";\r\n            } else {\r\n              let elem = document.getElementById(\"mes\");\r\n              elem.style.display = \"block\";\r\n            }\r\n          }}\r\n        >\r\n          {periodos.map((tipo) => {\r\n            return <option value={tipo}>{tipo}</option>;\r\n          })}\r\n\r\n          <input\r\n            type=\"month\"\r\n            value={mes}\r\n            onChange={(e) => {\r\n              setMes(e.target.value);\r\n              setPeriodo(e.target.value);\r\n            }}\r\n          ></input>\r\n        </select>\r\n        <select\r\n          id=\"filtroArea\"\r\n          onChange={(e) => {\r\n            setArea(e.target.value);\r\n          }}\r\n        >\r\n          {grupoArea &&\r\n            grupoArea.map((tipo) => {\r\n              return <option value={tipo}>{tipo}</option>;\r\n            })}\r\n        </select>\r\n        {tipoReporte === \"Reporte de Turno\" && (\r\n          <select\r\n            id=\"filtroTurno\"\r\n            onChange={(e) => {\r\n              setTurno(e.target.value);\r\n            }}\r\n          >\r\n            {turnos.map((tipo) => {\r\n              return <option value={tipo}>{tipo}</option>;\r\n            })}\r\n          </select>\r\n        )}\r\n      </div>\r\n      <div id=\"resultados\">\r\n        <div id=\"qseb\">\r\n          {qsebSummary &&\r\n            qsebSummary.map((item) => {\r\n              let dashArr = `${(item.cumple / item.total) * 314},314`;\r\n              return (\r\n                <div id=\"contenedor\" key={`${item.Tipo}-result`}>\r\n                  <svg id=\"metro\">\r\n                    <circle\r\n                      id=\"low\"\r\n                      r=\"50\"\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      stroke=\"rgb(119, 119, 119,0.5)\"\r\n                      stroke-width=\"10\"\r\n                      fill=\"none\"\r\n                    ></circle>\r\n                    <circle\r\n                      id=\"low\"\r\n                      r=\"50\"\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      stroke={\r\n                        color.filter((x) => x.categoria === item.Tipo)[0].activo\r\n                      }\r\n                      stroke-width=\"10\"\r\n                      stroke-dasharray={dashArr}\r\n                      fill=\"none\"\r\n                      style={{ transition: \"width 2s\" }}\r\n                    ></circle>\r\n                  </svg>\r\n                  <div id=\"subtitulo\">\r\n                    <b>{item.Tipo}</b> <br></br> {item.cumplimiento}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n        <div id=\"detalles\">\r\n          {qsebSummary &&\r\n            qsebSummary.map((x, idx) => {\r\n              return (\r\n                <div\r\n                  key={\"homeDetail-\" + x.Tipo}\r\n                  id={\"homeDetail-\" + x.Tipo}\r\n                  style={{\r\n                    backgroundImage: color.filter(\r\n                      (item) => item.categoria === x.Tipo\r\n                    )[0].gradient,\r\n                    color: color.filter((item) => item.categoria === x.Tipo)[0]\r\n                      .texto,\r\n                  }}\r\n                >\r\n                  {qsebCat &&\r\n                    qsebCat.map((y, idy) => {\r\n                      if (y.Tipo === x.Tipo && y.cumplimiento !== \"100%\")\r\n                        return (\r\n                          <div\r\n                            key={\"homeDetailCat-\" + idy}\r\n                            id={\"homeDetailCat-\" + idy}\r\n                            style={{ padding: \"10px\" }}\r\n                          >\r\n                            <div>\r\n                              {y.Categoria} - {y.cumplimiento}\r\n                            </div>\r\n                            {qsebSubcat &&\r\n                              qsebSubcat.map((z, idz) => {\r\n                                if (\r\n                                  z.Tipo === x.Tipo &&\r\n                                  z.Categoria === y.Categoria &&\r\n                                  z.cumplimiento !== \"100%\"\r\n                                )\r\n                                  return (\r\n                                    <div style={{ marginLeft: \"10px\" }}>\r\n                                      {z.SubCategoria} - {z.cumplimiento}\r\n                                    </div>\r\n                                  );\r\n                              })}\r\n                          </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n      <div id=\"progresos\">\r\n        <div id=\"recorridos\">\r\n          <h2>Recorridos</h2>\r\n          <input\r\n            style={{ margin: \"10px 0px 10px 0px\" }}\r\n            type=\"Month\"\r\n            value={mesRecorrido}\r\n            onChange={(e) => {\r\n              setMesRecorrido(e.target.value);\r\n            }}\r\n          ></input>\r\n          <div id=\"rectProgreso\">\r\n            {schedule &&\r\n              schedule\r\n                .filter((x) => x.Fecha === mesRecorrido)\r\n                .map((x) => {\r\n                  return (\r\n                    <div>\r\n                      <div>{x.Nombre}</div>\r\n                      <div style={{ position: \"relative\" }}>\r\n                        <div\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: \"0\",\r\n                            left:\r\n                              x.cumplimiento !== \"100%\"\r\n                                ? `${x.cumplimiento}`\r\n                                : \"92%\",\r\n                          }}\r\n                        >\r\n                          <b>{x.cumplimiento}</b>\r\n                        </div>\r\n                        <svg style={{ width: \"100%\", height: \"20px\" }}>\r\n                          <rect\r\n                            id=\"rectlow\"\r\n                            width=\"100%\"\r\n                            height=\"20px\"\r\n                            fill=\"rgb(119, 119, 119,0.5)\"\r\n                          ></rect>\r\n                          <rect\r\n                            id=\"rectprog\"\r\n                            width={`${x.cumplimiento}`}\r\n                            height=\"20px\"\r\n                            fill=\"rgb(4, 170, 109)\"\r\n                          ></rect>\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n          </div>\r\n        </div>\r\n        <div id=\"otros\">\r\n          <div id=\"actos\">\r\n            <div>\r\n              <h4>Actos</h4>\r\n              <div id=\"cuadrado\">10</div>\r\n            </div>\r\n            <div>\r\n              <h4>Condiciones</h4>\r\n              <div id=\"cuadrado\">10</div>\r\n            </div>\r\n          </div>\r\n          <div id=\"planes\">\r\n            <h2>Planes</h2>\r\n            <div>\r\n              <h4>Cerrados</h4>\r\n              <div style={{ position: \"relative\" }}>\r\n                <svg style={{ width: \"100%\", height: \"20px\" }}>\r\n                  <rect\r\n                    id=\"rectlow\"\r\n                    width=\"100%\"\r\n                    height=\"20px\"\r\n                    fill=\"rgb(119, 119, 119,0.5)\"\r\n                  ></rect>\r\n                  <rect\r\n                    id=\"rectprog\"\r\n                    width=\"0%\"\r\n                    height=\"20px\"\r\n                    fill=\"rgb(4, 170, 109)\"\r\n                  ></rect>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h4>En Proceso</h4>\r\n              <div style={{ position: \"relative\" }}>\r\n                <svg style={{ width: \"100%\", height: \"20px\" }}>\r\n                  <rect\r\n                    id=\"rectlow\"\r\n                    width=\"100%\"\r\n                    height=\"20px\"\r\n                    fill=\"rgb(119, 119, 119,0.5)\"\r\n                  ></rect>\r\n                  <rect\r\n                    id=\"rectprog\"\r\n                    width=\"90%\"\r\n                    height=\"20px\"\r\n                    fill=\"rgb(240, 230, 140)\"\r\n                  ></rect>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h4>Vencidas</h4>\r\n              <div style={{ position: \"relative\" }}>\r\n                <svg style={{ width: \"100%\", height: \"20px\" }}>\r\n                  <rect\r\n                    id=\"rectlow\"\r\n                    width=\"100%\"\r\n                    height=\"20px\"\r\n                    fill=\"rgb(119, 119, 119,0.5)\"\r\n                  ></rect>\r\n                  <rect\r\n                    id=\"rectprog\"\r\n                    width=\"10%\"\r\n                    height=\"20px\"\r\n                    fill=\"rgb(240, 140, 140)\"\r\n                  ></rect>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/fondo.bff34455.jpg\";","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Dropdown,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Label,\r\n  Item,\r\n  Card,\r\n  Image,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\nimport { useParams } from \"react-router\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction Observacion({ user }) {\r\n  let params = useParams();\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [buscar, setBuscar] = useState(false);\r\n  const [creador, setCreador] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function sacardata() {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 2);\r\n      const dr = sheet.getCell(j, 3);\r\n      const er = sheet.getCell(j, 4);\r\n      const fr = sheet.getCell(j, 5);\r\n      const gr = sheet.getCell(j, 6);\r\n      const hr = sheet.getCell(j, 7);\r\n      const ir = sheet.getCell(j, 8);\r\n      const jr = sheet.getCell(j, 9);\r\n      const kr = sheet.getCell(j, 10);\r\n      const lr = sheet.getCell(j, 11);\r\n      const mr = sheet.getCell(j, 12);\r\n      const nr = sheet.getCell(j, 13);\r\n      const or = sheet.getCell(j, 14);\r\n      const pr = sheet.getCell(j, 15);\r\n      const qr = sheet.getCell(j, 16);\r\n      const rr = sheet.getCell(j, 17);\r\n      const sr = sheet.getCell(j, 18);\r\n      const tr = sheet.getCell(j, 19);\r\n      const ur = sheet.getCell(j, 20);\r\n      const vr = sheet.getCell(j, 21);\r\n      datas.push({\r\n        id: sr.value,\r\n        fecha: ar.value,\r\n        fecha_hora: br.value,\r\n        nombre: cr.value,\r\n        area: dr.value,\r\n        rubro: er.value,\r\n        categoria: fr.value,\r\n        observaciones: gr.value,\r\n        severidad: hr.value,\r\n        pac: ir.value,\r\n        fecha_cierre: jr.value,\r\n        responsable: kr.value,\r\n        anexo: lr.value,\r\n        status: mr.value,\r\n        confirmado: nr.value,\r\n        extension: or.value,\r\n        nueva_fecha: pr.value,\r\n        detalle: qr.value,\r\n        anexo2: rr.value,\r\n        obsDetalle: tr.value,\r\n        persObservadas: ur.value,\r\n        aplica: vr.value,\r\n      });\r\n    }\r\n    datas = datas.filter((item) => {\r\n      return item.id === params.id;\r\n    });\r\n\r\n    if (datas.length > 1) {\r\n      var personas = datas.map((e) => e.persObservadas).join(\", \");\r\n      console.log(personas);\r\n      datas[0].persObservadas = personas;\r\n      datas = datas.slice(0, 1);\r\n    }\r\n\r\n    setData(datas);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    console.log(params);\r\n    !data && sacardata();\r\n    data && console.log(data);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {data && (\r\n        <Segment\r\n          onClick={() => {\r\n            console.log(data);\r\n          }}\r\n        >\r\n          <Item>\r\n            <Item.Image size=\"medium\" src={data[0].anexo} />\r\n\r\n            <Item.Content>\r\n              <Item.Header as=\"h2\">\r\n                {data[0].rubro + \" - \" + data[0].categoria}\r\n              </Item.Header>\r\n              <Item.Description>\r\n                <p>\r\n                  <b>Detalle: </b> {data[0].observaciones}\r\n                  {data[0].obsDetalle && \" : \" + data[0].obsDetalle}\r\n                </p>\r\n                <p>\r\n                  <b>Fecha: </b>{\" \"}\r\n                  {ExcelDateToJSDate(data[0].fecha).toISOString().slice(0, 10)}\r\n                </p>\r\n                <p>\r\n                  <b>Area: </b> {data[0].area}\r\n                </p>\r\n                <p>\r\n                  <b>Registrado por: </b> {data[0].nombre}\r\n                </p>\r\n                <p>\r\n                  <b>Persona(s) Observada(s): </b> {data[0].persObservadas}\r\n                </p>\r\n              </Item.Description>\r\n            </Item.Content>\r\n          </Item>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Observacion;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyD2qP-hydl9iaoxa0FO07FG5KDu9d3bGuA\",\r\n  authDomain: \"sasso-test-285920.firebaseapp.com\",\r\n  databaseURL: \"https://sasso-test-285920.firebaseio.com\",\r\n  projectId: \"sasso-test-285920\",\r\n  storageBucket: \"sasso-test-285920.appspot.com\",\r\n  messagingSenderId: \"191632707331\",\r\n  appId: \"1:191632707331:web:954ff5c5c38d8dcae4e336\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\nconst getUserDocument = async (uid) => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\nconst generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n  if (!snapshot.exists) {\r\n    const { Nombre, Correo, Apellido } = user;\r\n    try {\r\n      await userRef.set({\r\n        Nombre,\r\n        Correo,\r\n        Apellido,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\nexport {\r\n  storage,\r\n  auth,\r\n  firestore,\r\n  generateUserDocument,\r\n  getUserDocument,\r\n  firebase as default,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Statistic,\r\n  Divider,\r\n  Dimmer,\r\n  Loader,\r\n  Pagination,\r\n  Card,\r\n  Label,\r\n  Checkbox,\r\n  TextArea,\r\n  List,\r\n  Header,\r\n  Form,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${da}-${mo}-${ye}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction xltoDate(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo}-${da}`;\r\n  if (mo < 10) {\r\n    fechaStr = `${ye}-0${mo}-${da}`;\r\n  }\r\n\r\n  return fechaStr;\r\n}\r\n\r\nfunction Tareas({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [data, setData] = useState(\"\");\r\n  const [myData, setMyData] = useState(\"\");\r\n  const [myPac, setMyPac] = useState(\"\");\r\n  const [activoID, setActivoID] = useState(\"\");\r\n  const [pagina, setPagina] = useState(1);\r\n  const [totalPagina, setTotalPagina] = useState(0);\r\n  const [extension, setExtension] = useState(\"N\");\r\n  const [extDate, setExtDate] = useState(date);\r\n  const [detalle, setDetalle] = useState(\"\");\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [saving, setSaving] = useState(false);\r\n  const [preventDate, setPreventDate] = useState(date);\r\n  const [pap, setpap] = useState(\"\");\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      reader.onload = function (e) {\r\n        preview.setAttribute(\"src\", e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      preview = document.querySelector(\"#blah\");\r\n      preview.setAttribute(\"src\", \"\");\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  const handleFireBaseUpload = (e) => {\r\n    if (subir) {\r\n      e.preventDefault();\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      }\r\n      const uploadTask = storage\r\n        .ref(`/images/${imageAsFile.name}`)\r\n        .put(imageAsFile);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapShot) => {\r\n          //takes a snap shot of the process as it is happening\r\n          console.log(snapShot);\r\n        },\r\n        (err) => {\r\n          //catches the errors\r\n          console.log(err);\r\n        },\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          storage\r\n            .ref(\"images\")\r\n            .child(imageAsFile.name)\r\n            .getDownloadURL()\r\n            .then((fireBaseUrl) => {\r\n              setImageAsUrl((prevObject) => ({\r\n                ...prevObject,\r\n                imgUrl: fireBaseUrl,\r\n              }));\r\n            });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setData(datas);\r\n    setMyData(\r\n      datas.filter((item) => {\r\n        return item.responsable === user;\r\n      })\r\n    );\r\n    setMyPac(\r\n      datas.filter((item) => {\r\n        return item.responsable === user && item.status !== \"Completado\";\r\n      })\r\n    );\r\n    setTotalPagina(\r\n      datas.filter((item) => {\r\n        return item.responsable === user && item.status !== \"Completado\";\r\n      }).length\r\n    );\r\n    try {\r\n      setActivoID(\r\n        datas.filter((item) => {\r\n          return item.responsable === user && item.status !== \"Completado\";\r\n        })[0].id\r\n      );\r\n      setExtension(\r\n        datas.filter((item) => {\r\n          return item.responsable === user && item.status !== \"Completado\";\r\n        })[0].extension\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const registrar = async () => {\r\n    setSaving(true);\r\n    let extendido = extension;\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      if (sheet.getCell(j, 18).value === activoID) {\r\n        const mr = sheet.getCell(j, 12);\r\n        const or = sheet.getCell(j, 14);\r\n        const pr = sheet.getCell(j, 15);\r\n        const qr = sheet.getCell(j, 16);\r\n        const rr = sheet.getCell(j, 17);\r\n        const wr = sheet.getCell(j, 22);\r\n        const xr = sheet.getCell(j, 23);\r\n        mr.value = \"Pendiente Aprobacion\";\r\n        or.value = extendido;\r\n        if (extDate) {\r\n          pr.formula =\r\n            \"=date(\" +\r\n            extDate.substring(0, 4) +\r\n            \",\" +\r\n            extDate.substring(5, 7) +\r\n            \",\" +\r\n            extDate.substring(8, 10) +\r\n            \")\";\r\n        }\r\n        if (pap) {\r\n          wr.value = pap;\r\n        }\r\n        if (preventDate) {\r\n          xr.formula =\r\n            \"=date(\" +\r\n            preventDate.substring(0, 4) +\r\n            \",\" +\r\n            preventDate.substring(5, 7) +\r\n            \",\" +\r\n            preventDate.substring(8, 10) +\r\n            \")\";\r\n        }\r\n        if (detalle) {\r\n          qr.value = detalle;\r\n        }\r\n        if (imageAsUrl.imgUrl) {\r\n          rr.value = imageAsUrl.imgUrl;\r\n        }\r\n        await sheet.saveUpdatedCells();\r\n        break;\r\n      }\r\n    }\r\n    setSaving(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <Container>\r\n      <Dimmer active={!data || saving} page>\r\n        <Loader>{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      {user ? (\r\n        <>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Pagination\r\n              defaultActivePage={1}\r\n              ellipsisItem={{\r\n                content: <Icon name=\"ellipsis horizontal\" />,\r\n                icon: true,\r\n              }}\r\n              firstItem={{\r\n                content: <Icon name=\"angle double left\" />,\r\n                icon: true,\r\n              }}\r\n              lastItem={{\r\n                content: <Icon name=\"angle double right\" />,\r\n                icon: true,\r\n              }}\r\n              prevItem={{ content: <Icon name=\"angle left\" />, icon: true }}\r\n              nextItem={{ content: <Icon name=\"angle right\" />, icon: true }}\r\n              totalPages={totalPagina}\r\n              onPageChange={(e, { activePage }) => {\r\n                setPagina(activePage);\r\n                setActivoID(myPac[activePage - 1].id);\r\n                setSubir(false);\r\n                setImageAsUrl(\"\");\r\n                setImageAsFile(\"\");\r\n                setExtension(myPac[activePage - 1].extension);\r\n                setExtension(date);\r\n                var preview = document.querySelector(\"#blah\");\r\n                preview.setAttribute(\"src\", \"\");\r\n                var archivoSelect = document.querySelector(\"#anexoImg\");\r\n                archivoSelect.value = \"\";\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <Segment>\r\n            <Header>Tareas</Header>\r\n            <List>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" />\r\n                <List.Content>\r\n                  <b>{myData.length} Acciones Totales</b>\r\n                </List.Content>\r\n              </List.Item>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" color=\"red\" />\r\n                <List.Content>\r\n                  <b>{myPac.length} Acciones Pendientes</b>\r\n                </List.Content>\r\n              </List.Item>\r\n              <List.Item>\r\n                <List.Icon name=\"exclamation circle\" color=\"green\" />\r\n                <List.Content>\r\n                  <b>\r\n                    {100 - Math.round((myPac.length / myData.length) * 100, 2)}{\" \"}\r\n                    % completada\r\n                  </b>\r\n                </List.Content>\r\n              </List.Item>\r\n            </List>\r\n          </Segment>\r\n          <Segment\r\n            style={{\r\n              height: \"60vh\",\r\n              overflowY: \"scroll\",\r\n            }}\r\n          >\r\n            {myPac && myPac.length !== 0 ? (\r\n              <>\r\n                <Header>{myPac[pagina - 1].rubro.toUpperCase()}</Header>\r\n                <p>\r\n                  {myPac[pagina - 1].categoria}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].area}\r\n                  <br></br>\r\n                  Registrado por: {myPac[pagina - 1].nombre}\r\n                  <br></br>\r\n                  Hallazgo: {myPac[pagina - 1].observaciones}\r\n                </p>\r\n                <Header>Acciones Tomadas</Header>\r\n                <p>{myPac[pagina - 1].pac}</p>\r\n                <p>\r\n                  Fecha Limite Inicial:{\" \"}\r\n                  {FechaString(\r\n                    ExcelDateToJSDate(myPac[pagina - 1].fecha_cierre)\r\n                  )}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].extension === \"Y\" ? (\r\n                    <Checkbox\r\n                      disabled\r\n                      label={{ children: \"Extender Fecha Limite \" }}\r\n                      checked\r\n                    />\r\n                  ) : (\r\n                    <Checkbox\r\n                      label={{ children: \"Extender Fecha Limite \" }}\r\n                      onChange={() => {\r\n                        if (extension !== \"N\") {\r\n                          setExtension(\"N\");\r\n                        } else {\r\n                          setExtension(\"Y\");\r\n                        }\r\n                      }}\r\n                      checked={extension === \"Y\"}\r\n                    />\r\n                  )}\r\n                  <br></br>\r\n                  {myPac[pagina - 1].extension === \"Y\" || extension === \"Y\" ? (\r\n                    <Input\r\n                      size=\"mini\"\r\n                      type=\"date\"\r\n                      onChange={(e) => {\r\n                        setExtDate(e.target.value);\r\n                      }}\r\n                      defaultValue={\r\n                        myPac[pagina - 1].extension === \"Y\"\r\n                          ? xltoDate(\r\n                              ExcelDateToJSDate(myPac[pagina - 1].nueva_fecha)\r\n                            )\r\n                          : date\r\n                      }\r\n                    />\r\n                  ) : null}\r\n                  <br></br>\r\n                  <br></br>\r\n                  Detalle Adicional\r\n                  <br></br>\r\n                  <Form>\r\n                    <TextArea\r\n                      id=\"pacDetail\"\r\n                      name=\"planDetail\"\r\n                      rows=\"4\"\r\n                      cols=\"60\"\r\n                      value={myPac[pagina - 1].detalle_pac}\r\n                      onChange={(e, { value }) => {\r\n                        setDetalle(value);\r\n                      }}\r\n                      placeholder=\"Detalle adicional de la acción tomada...\"\r\n                    />\r\n                  </Form>\r\n                </p>\r\n                <p>\r\n                  <Header>Acciones Preventivas</Header>\r\n                  <Input\r\n                    size=\"mini\"\r\n                    type=\"date\"\r\n                    onChange={(e) => {\r\n                      setPreventDate(e.target.value);\r\n                    }}\r\n                    defaultValue={\r\n                      myPac[pagina - 1].extension === \"Y\"\r\n                        ? xltoDate(\r\n                            ExcelDateToJSDate(myPac[pagina - 1].nueva_fecha)\r\n                          )\r\n                        : date\r\n                    }\r\n                  />\r\n                  <br></br>\r\n                  <br></br>\r\n                  <Form>\r\n                    <TextArea\r\n                      id=\"ppreventiva\"\r\n                      name=\"ppreventiva\"\r\n                      rows=\"4\"\r\n                      cols=\"60\"\r\n                      onChange={(e, { value }) => {\r\n                        setpap(value);\r\n                      }}\r\n                      placeholder=\"Detalle de acción preventiva...\"\r\n                    />\r\n                  </Form>\r\n                </p>\r\n                <p>\r\n                  <Header>Anexo</Header>\r\n                  <Input\r\n                    id=\"anexoImg\"\r\n                    fluid\r\n                    className=\"input-image\"\r\n                    type=\"file\"\r\n                    onChange={handleImageUpload}\r\n                  />\r\n                  <br />\r\n                  <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n                </p>\r\n\r\n                <div className=\"ui two buttons\">\r\n                  <Button color=\"yellow\" onClick={registrar}>\r\n                    Guardar\r\n                  </Button>\r\n                  <Button color=\"green\">Solicitar Aprobacion</Button>\r\n                </div>\r\n              </>\r\n            ) : null}\r\n          </Segment>\r\n        </>\r\n      ) : (\r\n        <Button\r\n          color=\"red\"\r\n          inverted\r\n          fluid\r\n          icon=\"key\"\r\n          content=\"Sign In\"\r\n          onClick={() => {\r\n            iniciar();\r\n          }}\r\n        />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Tareas;\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Input,\r\n  Icon,\r\n  Segment,\r\n  Dropdown,\r\n  Dimmer,\r\n  Loader,\r\n  Accordion,\r\n  Label,\r\n  Item,\r\n  Modal,\r\n  Image,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction Consultas({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [buscar, setBuscar] = useState(false);\r\n  const [creador, setCreador] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function sacardata() {\r\n    setBuscar(true);\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 2);\r\n      const dr = sheet.getCell(j, 3);\r\n      const er = sheet.getCell(j, 4);\r\n      const fr = sheet.getCell(j, 5);\r\n      const gr = sheet.getCell(j, 6);\r\n      const hr = sheet.getCell(j, 7);\r\n      const ir = sheet.getCell(j, 8);\r\n      const jr = sheet.getCell(j, 9);\r\n      const kr = sheet.getCell(j, 10);\r\n      const lr = sheet.getCell(j, 11);\r\n      const mr = sheet.getCell(j, 12);\r\n      const nr = sheet.getCell(j, 13);\r\n      const or = sheet.getCell(j, 14);\r\n      const pr = sheet.getCell(j, 15);\r\n      const qr = sheet.getCell(j, 16);\r\n      const rr = sheet.getCell(j, 17);\r\n      const sr = sheet.getCell(j, 18);\r\n      const tr = sheet.getCell(j, 19);\r\n      const ur = sheet.getCell(j, 20);\r\n      const vr = sheet.getCell(j, 21);\r\n      datas.push({\r\n        id: sr.value,\r\n        fecha: ar.value,\r\n        fecha_hora: br.value,\r\n        nombre: cr.value,\r\n        area: dr.value,\r\n        rubro: er.value,\r\n        categoria: fr.value,\r\n        observaciones: gr.value,\r\n        severidad: hr.value,\r\n        pac: ir.value,\r\n        fecha_cierre: jr.value,\r\n        responsable: kr.value,\r\n        anexo: lr.value,\r\n        status: mr.value,\r\n        confirmado: nr.value,\r\n        extension: or.value,\r\n        nueva_fecha: pr.value,\r\n        detalle: qr.value,\r\n        anexo2: rr.value,\r\n        obsDetalle: tr.value,\r\n        persObservadas: ur.value,\r\n        aplica: vr.value,\r\n      });\r\n    }\r\n    datas.sort(function (a, b) {\r\n      var keyA = a.fecha_hora,\r\n        keyB = b.fecha_hora;\r\n      // Compare the 2 dates\r\n      if (keyA > keyB) return -1;\r\n      if (keyA < keyB) return 1;\r\n      return 0;\r\n    });\r\n    setData(datas);\r\n    setMyData(\r\n      datas.filter((item) => {\r\n        return item.nombre === user;\r\n      })\r\n    );\r\n    setDataFound(\r\n      datas.filter((item) => {\r\n        if (creador.length !== 0) {\r\n          return (\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) >=\r\n              inicio &&\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) <= final &&\r\n            creador.includes(item.nombre)\r\n          );\r\n        } else {\r\n          return (\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) >=\r\n              inicio &&\r\n            ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10) <= final\r\n          );\r\n        }\r\n      })\r\n    );\r\n    setBuscar(false);\r\n    setActiveIndex(-1);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    !data && sacardata();\r\n    data && console.log(myData);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Segment>\r\n        {activeItem && (\r\n          <Modal\r\n            onClose={() => setOpen(false)}\r\n            onOpen={() => setOpen(true)}\r\n            open={open}\r\n          >\r\n            <Modal.Header>{activeItem.observaciones}</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image size=\"medium\" src={activeItem.anexo} wrapped />\r\n              <Modal.Description>\r\n                <Header>{activeItem.rubro + \"-\" + activeItem.categoria}</Header>\r\n                <p>\r\n                  <b>Detalle: </b> {activeItem.detalle}\r\n                </p>\r\n                <p>\r\n                  <b>Fecha: </b>{\" \"}\r\n                  {ExcelDateToJSDate(activeItem.fecha)\r\n                    .toISOString()\r\n                    .slice(0, 10)}\r\n                </p>\r\n                <p>\r\n                  <b>Area: </b> {activeItem.area}\r\n                </p>\r\n                <p>\r\n                  <b>Registrado por: </b> {activeItem.observador}\r\n                </p>\r\n                <p>\r\n                  <b>Persona(s) Observada(s): </b> {activeItem.observado}\r\n                </p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"green\" onClick={() => setOpen(false)}>\r\n                OK\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        )}\r\n\r\n        <Dimmer active={buscar} page>\r\n          <Loader>Loading</Loader>\r\n        </Dimmer>\r\n        <Accordion fluid>\r\n          <Accordion.Title\r\n            active={activeIndex === 0}\r\n            index={0}\r\n            onClick={handleClick}\r\n          >\r\n            <Icon name=\"dropdown\" />\r\n            Filtros\r\n          </Accordion.Title>\r\n          <Accordion.Content active={activeIndex === 0}>\r\n            <>\r\n              <Input\r\n                label=\"Desde\"\r\n                size=\"mini\"\r\n                type=\"date\"\r\n                onChange={(e) => {\r\n                  setInicio(e.target.value);\r\n                  console.log(e.target.value);\r\n                  e.target.value > final && setFinal(e.target.value);\r\n                }}\r\n                value={inicio}\r\n                defaultValue={inicio}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Input\r\n                label=\"Hasta\"\r\n                size=\"mini\"\r\n                type=\"date\"\r\n                onChange={(e) => {\r\n                  setFinal(e.target.value);\r\n                  console.log(e.target.value);\r\n                  e.target.value < inicio && setInicio(e.target.value);\r\n                }}\r\n                value={final}\r\n                defaultValue={final}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Label>Registrado por </Label>\r\n              <Dropdown\r\n                fluid\r\n                multiple\r\n                search\r\n                selection\r\n                value={creador}\r\n                placeholder=\"Registrado por...\"\r\n                options={personal}\r\n                onChange={(e, { value }) => {\r\n                  setCreador(value);\r\n                }}\r\n              />\r\n              <br />\r\n              <br />\r\n              <Button onClick={sacardata}>Buscar</Button>\r\n            </>\r\n          </Accordion.Content>\r\n        </Accordion>\r\n      </Segment>\r\n      {dataFound && (\r\n        <Segment>\r\n          <Item.Group divided>\r\n            {dataFound.map((item) => (\r\n              <Item key={item.id}>\r\n                <Item.Content>\r\n                  <Item.Header\r\n                    as=\"a\"\r\n                    href={\"/observacion/\" + item.id}\r\n                    onClick={(e) => {\r\n                      setActiveItem((prevObject) => ({\r\n                        ...prevObject,\r\n                        id: item.id,\r\n                        rubro: item.rubro,\r\n                        categoria: item.categoria,\r\n                        observaciones: item.observaciones,\r\n                        detalle: item.obsDetalle,\r\n                        area: item.area,\r\n                        fecha: item.fecha,\r\n                        observador: item.nombre,\r\n                        observado: item.persObservadas,\r\n                        anexo: item.anexo ? item.anexo : dummyImg,\r\n                      }));\r\n                      //setOpen(true);\r\n                    }}\r\n                  >\r\n                    {item.rubro + \" - \" + item.categoria}\r\n                  </Item.Header>\r\n                  <Item.Meta>{item.observaciones}</Item.Meta>\r\n                  <Item.Description>\r\n                    {item.area +\r\n                      \" - \" +\r\n                      ExcelDateToJSDate(item.fecha).toISOString().slice(0, 10)}\r\n                  </Item.Description>\r\n                  <Item.Extra>Observador:{item.nombre}</Item.Extra>\r\n                  <Item.Extra>\r\n                    Personas Observadas:{item.persObservadas}\r\n                  </Item.Extra>\r\n                  <Item.Extra>{item.obsDetalle}</Item.Extra>\r\n                </Item.Content>\r\n              </Item>\r\n            ))}\r\n          </Item.Group>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Consultas;\r\n","export default {\r\n  USER_ID: \"user_1s8Jx16sWB2djLHeed4yw\",\r\n  TEMPLATE_ID: \"template_oc6ugfi\",\r\n};\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport emailjs from \"emailjs-com\";\r\nimport apiKeys from \"./apikeys\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Popup,\r\n  Image,\r\n  Input,\r\n  Icon,\r\n  TextArea,\r\n  Form,\r\n  Segment,\r\n  Dropdown,\r\n  Step,\r\n  Header,\r\n  Card,\r\n  Rating,\r\n  Ref,\r\n  Dimmer,\r\n  Loader,\r\n  Modal,\r\n} from \"semantic-ui-react\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport userData from \"./employee.json\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction FechaString(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Registros({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  let fecha = date + \" \" + hora + \":\" + minutos;\r\n  //Fechas\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [idUnico, setID] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [perfil, setPerfil] = useState();\r\n  const [correo, setCorreo] = useState(\"No Aplica\");\r\n  const [creador, setCreador] = useState();\r\n  const [step, setStep] = useState(\"Que\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  const [cat, setCat] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [data2, setData2] = useState(\"\");\r\n  const [catData, setCatData] = useState(\"\");\r\n  const [subCatData, setSubCatData] = useState(\"\");\r\n  const [subCat, setSubCat] = useState(\"\");\r\n  const [detalles, setDetalles] = useState(\"\");\r\n  const [area, setArea] = useState(\"\");\r\n  const [que, setQue] = useState(false);\r\n  const [donde, setDonde] = useState(false);\r\n  const [pacStep, setPacStep] = useState(false);\r\n  const [involucrados, setInvolucrados] = useState([]);\r\n  const [plan, setPlan] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(date);\r\n  const [resp, setResp] = useState(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n  const segCat = useRef(null);\r\n  const segSubCat = useRef(null);\r\n  const allInputs = { imgUrl: \"\" };\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\r\n  const [subir, setSubir] = useState(false);\r\n  const [guardar, setGuardar] = useState(false);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [severidad, setSeveridad] = useState(1);\r\n  const [imgUpload, setImgUpload] = useState();\r\n\r\n  const history = useHistory();\r\n\r\n  const tipos = [\r\n    { id: \"Q\", name: \"Calidad\" },\r\n    { id: \"S\", name: \"Seguridad\" },\r\n    { id: \"E\", name: \"Ambiente\" },\r\n    { id: \"B\", name: \"Bioseguridad\" },\r\n  ];\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n\r\n  async function handleImageUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      var preview = document.querySelector(\"#blah\");\r\n      console.log(preview);\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n      };\r\n\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSubir(true);\r\n    } else {\r\n      setSubir(false);\r\n      setImageAsFile(\"\");\r\n      setImageAsUrl(\"\");\r\n      setPreviewImg(dummyImg);\r\n      var archivoSelect = document.querySelector(\"#anexoImg\");\r\n      console.log(archivoSelect);\r\n      archivoSelect.value = \"\";\r\n    }\r\n  }\r\n\r\n  async function handleFireBaseUpload() {\r\n    if (subir) {\r\n      console.log(\"start of upload\");\r\n      console.log(imageAsFile);\r\n      if (imageAsFile === \"\") {\r\n        console.error(\r\n          `not an image, the image file is a ${typeof imageAsFile}`\r\n        );\r\n      } else {\r\n        const uploadTask = storage\r\n          .ref(`/images/${imageAsFile.name}`)\r\n          .put(imageAsFile);\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapShot) => {\r\n            //takes a snap shot of the process as it is happening\r\n            console.log(snapShot);\r\n          },\r\n          (err) => {\r\n            //catches the errors\r\n            console.log(err);\r\n          },\r\n          () => {\r\n            // gets the functions from storage refences the image storage in firebase by the children\r\n            // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n            storage\r\n              .ref(\"images\")\r\n              .child(imageAsFile.name)\r\n              .getDownloadURL()\r\n              .then((fireBaseUrl) => {\r\n                setImageAsUrl((prevObject) => ({\r\n                  ...prevObject,\r\n                  imgUrl: fireBaseUrl,\r\n                }));\r\n                setImgUpload(fireBaseUrl);\r\n              });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  var sheetNo = 2125477317;\r\n  var sheetNo2 = 715064374;\r\n\r\n  const sacardata = async () => {\r\n    var datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[sheetNo];\r\n    const rows = await sheet.getRows();\r\n    let lastr = rows.length + 1;\r\n    var j;\r\n    await sheet.loadCells(\"A1:E\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet.getCell(j, 0);\r\n      const br = sheet.getCell(j, 1);\r\n      const cr = sheet.getCell(j, 4);\r\n      datas.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        src: cr.value,\r\n      });\r\n    }\r\n    setData(datas);\r\n    var datas2 = [];\r\n    const sheet2 = doc.sheetsById[sheetNo2];\r\n    const rows2 = await sheet2.getRows();\r\n    lastr = rows2.length + 1;\r\n    await sheet2.loadCells(\"A1:C\" + lastr.toString());\r\n    for (j = 1; j < lastr; j++) {\r\n      const ar = sheet2.getCell(j, 0);\r\n      const br = sheet2.getCell(j, 1);\r\n      const cr = sheet2.getCell(j, 2);\r\n      datas2.push({\r\n        Tipo: ar.value,\r\n        Categoria: br.value,\r\n        SubCategoria: cr.value,\r\n        key: cr.value,\r\n        text: cr.value,\r\n        value: cr.value,\r\n      });\r\n    }\r\n    setData2(datas2);\r\n  };\r\n\r\n  const handleTipoClick = (e) => {\r\n    if (tipo === e.target.name) {\r\n      setTipo(\"\");\r\n    } else {\r\n      setTipo(e.target.name);\r\n      console.log(e.target.name);\r\n      segCat.current.focus();\r\n      setCat(\"\");\r\n      setSubCat(\"\");\r\n      setSubCatData(\"\");\r\n    }\r\n  };\r\n\r\n  var j;\r\n  var lastr = userData.length;\r\n  const personal = [];\r\n  for (j = 0; j < lastr; j++) {\r\n    if (userData[j].Nombre !== \"\") {\r\n      personal.push({\r\n        key: userData[j].Nombre,\r\n        text: userData[j].Nombre,\r\n        value: userData[j].Nombre,\r\n      });\r\n    }\r\n  }\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    }\r\n  }, [areas]);\r\n  useEffect(() => {\r\n    if (user) {\r\n      const datosUsuario = userData.filter((item) => {\r\n        return item.Nombre === user;\r\n      });\r\n      setPerfil(datosUsuario[0].Perfil);\r\n      setCreador(user);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (resp) {\r\n      const datoResp = userData.filter((item) => {\r\n        return item.Nombre === resp;\r\n      });\r\n      setCorreo(datoResp[0].correo);\r\n    }\r\n  }, [resp]);\r\n\r\n  const handleCatClick = (e, { name }) => {\r\n    setSubCat(\"\");\r\n    setSubCatData(\"\");\r\n    setCat(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleStep = (e, { name }) => {\r\n    setStep(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleArea = (e, { name }) => {\r\n    setArea(name);\r\n    console.log(name);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setConfirmar(true);\r\n  };\r\n\r\n  async function registrar() {\r\n    setLoading(true);\r\n    let wd = today.getDay();\r\n    wd === 0 ? (wd = 7) : (wd = wd);\r\n    let semana = FechaString(today.setDate(today.getDate() - wd + 1));\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const aplica = perfil === \"Registros\" ? \"Y\" : \"N\";\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[0];\r\n    var j;\r\n    var UniqueID =\r\n      Date.now() +\r\n      user.substring(0, 2) +\r\n      tipo.substring(0, 1) +\r\n      subCat.substring(0, 2);\r\n    setID(UniqueID);\r\n    console.log(UniqueID);\r\n    for (j = 0; j < involucrados.length; j++) {\r\n      await sheet.addRow({\r\n        fecha: date,\r\n        fecha_hora: fecha,\r\n        nombre: creador,\r\n        area: area,\r\n        rubro: tipo,\r\n        categoria: cat,\r\n        observaciones: subCat,\r\n        pac: plan,\r\n        responsable: resp,\r\n        fecha_cierre: startDate,\r\n        anexo: imgUpload,\r\n        status: \"Pendiente\",\r\n        Personas_Observadas: involucrados[j],\r\n        id: UniqueID,\r\n        severidad: severidad,\r\n        Detalle: detalles,\r\n        Aplica: aplica,\r\n        semana: semana,\r\n        ids: 1 / involucrados.length,\r\n      });\r\n    }\r\n    if (correo !== \"No Aplica\") {\r\n      notificar(UniqueID);\r\n    }\r\n    setTipo(\"\");\r\n    setCat(\"\");\r\n    setSubCat(\"\");\r\n    setDetalles(\"\");\r\n    setInvolucrados([]);\r\n    setArea(\"\");\r\n    setPlan(\"\");\r\n    setResp(\"\");\r\n    setImageAsUrl(\"\");\r\n    setPreviewImg(\"\");\r\n    setLoading(false);\r\n    setConfirmar(false);\r\n    setSaving(true);\r\n  }\r\n\r\n  function notificar(codigo) {\r\n    var templateParams = {\r\n      name: resp,\r\n      to_email: correo,\r\n      fecha_limite: startDate,\r\n      lugar: area,\r\n      qseb: tipo,\r\n      categoria: cat,\r\n      observacion: subCat,\r\n      detalles: detalles,\r\n      imagen: \"https://www.miculturaqse507.com/sasso-app/observacion/\" + codigo,\r\n      involucrados: involucrados.join(),\r\n      pac: plan,\r\n      registrado: creador,\r\n    };\r\n\r\n    emailjs\r\n      .send(\"Gmail\", apiKeys.TEMPLATE_ID, templateParams, apiKeys.USER_ID)\r\n      .then(\r\n        function (response) {\r\n          console.log(\"SUCCESS!\", response.status, response.text);\r\n        },\r\n        function (error) {\r\n          console.log(\"FAILED...\", error);\r\n        }\r\n      );\r\n    setID(\"\");\r\n  }\r\n\r\n  const iniciar = () => {\r\n    var priceEls = document.querySelectorAll(\".item\");\r\n    for (var i = 0; i < priceEls.length; i++) {\r\n      var ele = priceEls[i].innerText;\r\n      if (ele === \"Usuario\") {\r\n        priceEls[i].click();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      sacardata();\r\n    }\r\n    if (data) {\r\n      setLoading(false);\r\n    }\r\n    if (tipo) {\r\n      setCatData(\r\n        data.filter((item) => {\r\n          return item.Tipo === tipo;\r\n        })\r\n      );\r\n    }\r\n    if (cat) {\r\n      setSubCatData(\r\n        data2.filter((item) => {\r\n          return item.Categoria === cat;\r\n        })\r\n      );\r\n    }\r\n    if (tipo && cat && subCat && involucrados.length !== 0) {\r\n      setQue(true);\r\n    } else {\r\n      setQue(false);\r\n    }\r\n    if (area) {\r\n      setDonde(true);\r\n    } else {\r\n      setDonde(false);\r\n    }\r\n    if (plan && resp && startDate) {\r\n      setPacStep(true);\r\n    } else {\r\n      setPacStep(false);\r\n    }\r\n    if (\r\n      tipo &&\r\n      cat &&\r\n      subCat &&\r\n      involucrados.length !== 0 &&\r\n      area &&\r\n      plan &&\r\n      resp &&\r\n      startDate\r\n    ) {\r\n      setGuardar(true);\r\n    } else {\r\n      setGuardar(false);\r\n    }\r\n  }, [\r\n    data,\r\n    tipo,\r\n    cat,\r\n    subCat,\r\n    involucrados,\r\n    area,\r\n    plan,\r\n    resp,\r\n    startDate,\r\n    data2,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (subir) {\r\n      handleFireBaseUpload();\r\n    }\r\n  }, [subir]);\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <div>\r\n          <Dimmer active={loading} page>\r\n            <Loader size=\"massive\">{data ? \"Saving\" : \"Loading\"}</Loader>\r\n          </Dimmer>\r\n          <Modal\r\n            header=\"Listo!\"\r\n            content=\"Su observación ha sido registrado exitosamente.\"\r\n            open={saving}\r\n            actions={[\r\n              {\r\n                key: \"done\",\r\n                content: \"Done\",\r\n                positive: true,\r\n                onClick: () => {\r\n                  setSaving(false);\r\n                  history.push(\"/observaciones\");\r\n                },\r\n              },\r\n            ]}\r\n          />\r\n\r\n          <Modal\r\n            onClose={() => setConfirmar(false)}\r\n            onOpen={() => setConfirmar(true)}\r\n            open={confirmar}\r\n          >\r\n            <Modal.Header>Confirmar Información</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image size=\"medium\" src={previewImg} wrapped />\r\n              <Modal.Description>\r\n                <Header>Observacion de {tipo}</Header>\r\n                <p>{cat}</p>\r\n                <p>{subCat}</p>\r\n                <p>Severidad:{severidad}</p>\r\n                <Header>Persona(s) Observada(s)</Header>\r\n                {involucrados.map((item) => (\r\n                  <li>{item}</li>\r\n                ))}\r\n                <Header>Area</Header>\r\n                <p>{area}</p>\r\n                <Header>PLAN DE ACCION</Header>\r\n                <p>{plan}</p>\r\n                <p>Responsable: {resp}</p>\r\n                <p>Fecha de Cierre Previsto: {startDate}</p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"black\" onClick={() => setConfirmar(false)}>\r\n                Cancelar\r\n              </Button>\r\n              <Button\r\n                content=\"Confirmar\"\r\n                labelPosition=\"right\"\r\n                icon=\"checkmark\"\r\n                onClick={() => {\r\n                  registrar();\r\n                }}\r\n                positive\r\n              />\r\n            </Modal.Actions>\r\n          </Modal>\r\n          {guardar ? (\r\n            <Button\r\n              fluid\r\n              color=\"green\"\r\n              content=\"Guardar\"\r\n              onClick={handleSave}\r\n            ></Button>\r\n          ) : null}\r\n          <Step.Group ordered size=\"mini\" attached=\"top\" unstackable>\r\n            <Step\r\n              active={step === \"Que\"}\r\n              name=\"Que\"\r\n              onClick={handleStep}\r\n              completed={que}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>Observación</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n\r\n            <Step\r\n              active={step === \"Donde\"}\r\n              name=\"Donde\"\r\n              onClick={handleStep}\r\n              completed={donde}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>Area</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n\r\n            <Step\r\n              active={step === \"PAC\"}\r\n              name=\"PAC\"\r\n              onClick={handleStep}\r\n              completed={pacStep}\r\n            >\r\n              <Step.Content>\r\n                <Step.Title>PAC</Step.Title>\r\n              </Step.Content>\r\n            </Step>\r\n          </Step.Group>\r\n          <Segment attached>\r\n            {step === \"Que\" ? (\r\n              <Container>\r\n                {user === \"user\" && (\r\n                  <>\r\n                    <Segment>\r\n                      <Header>Nombre del Observador</Header>\r\n                      <Input\r\n                        fluid\r\n                        placeholder=\"Nombre del Observador...\"\r\n                        onChange={(e, { value }) => {\r\n                          setCreador(value);\r\n                        }}\r\n                      />\r\n                    </Segment>\r\n                  </>\r\n                )}\r\n                <Segment name=\"segmentTipo\">\r\n                  <Header>Tipo de Observación</Header>\r\n                  {tipos.map((item) => (\r\n                    <Popup\r\n                      trigger={\r\n                        <Button\r\n                          color=\"red\"\r\n                          inverted\r\n                          circular\r\n                          name={item.name}\r\n                          onClick={handleTipoClick}\r\n                          active={tipo === item.name}\r\n                        >\r\n                          {item.id}\r\n                        </Button>\r\n                      }\r\n                    >\r\n                      <Popup.Header>{item.name}</Popup.Header>\r\n                    </Popup>\r\n                  ))}\r\n                </Segment>\r\n                <Segment name=\"segmentInvol\">\r\n                  <Header>Personas Responsables/Involucradas</Header>\r\n                  <Dropdown\r\n                    fluid\r\n                    multiple\r\n                    search\r\n                    selection\r\n                    value={involucrados}\r\n                    placeholder=\"Seleccionar Personas Involucradas\"\r\n                    options={personal}\r\n                    onChange={(e, { value }) => {\r\n                      setInvolucrados(value);\r\n                      console.log(value);\r\n                    }}\r\n                  />\r\n                </Segment>\r\n                <Ref innerRef={segCat}>\r\n                  <Segment name=\"segmentCat\">\r\n                    <Header>Categoria de la Observación</Header>\r\n                    <Card.Group itemsPerRow={4}>\r\n                      {catData\r\n                        ? catData.map((item) => (\r\n                            <Popup\r\n                              trigger={\r\n                                <Card\r\n                                  raised\r\n                                  color={\r\n                                    cat === item.Categoria ? \"red\" : \"black\"\r\n                                  }\r\n                                  name={item.Categoria}\r\n                                  onClick={handleCatClick}\r\n                                >\r\n                                  <Image\r\n                                    src={item.src}\r\n                                    size=\"mini\"\r\n                                    wrapped\r\n                                    ui={false}\r\n                                  />\r\n                                  <Card.Content>\r\n                                    {cat === item.Categoria ? (\r\n                                      <Icon\r\n                                        color=\"green\"\r\n                                        name=\"check circle\"\r\n                                      ></Icon>\r\n                                    ) : null}\r\n                                  </Card.Content>\r\n                                </Card>\r\n                              }\r\n                            >\r\n                              <Popup.Header>{item.Categoria}</Popup.Header>\r\n                            </Popup>\r\n                          ))\r\n                        : null}\r\n                    </Card.Group>\r\n                  </Segment>\r\n                </Ref>\r\n\r\n                {subCatData ? (\r\n                  <Ref innerRef={segSubCat}>\r\n                    <Segment name=\"segmentSubCat\">\r\n                      <Header>Observación</Header>\r\n                      <Dropdown\r\n                        fluid\r\n                        button\r\n                        search\r\n                        scrolling\r\n                        clearable\r\n                        value={subCat}\r\n                        placeholder=\"Seleccionar Observacion\"\r\n                        options={subCatData}\r\n                        onChange={(e, { value }) => {\r\n                          setSubCat(value);\r\n                        }}\r\n                      />\r\n                      <br />\r\n                      <Header>\r\n                        Severidad\r\n                        <Popup\r\n                          trigger={\r\n                            <div>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 0 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(1);\r\n                                }}\r\n                              ></Icon>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 1 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(2);\r\n                                }}\r\n                              ></Icon>\r\n                              <Icon\r\n                                name=\"times circle\"\r\n                                color={severidad > 2 ? \"red\" : \"white\"}\r\n                                onClick={() => {\r\n                                  setSeveridad(3);\r\n                                }}\r\n                              ></Icon>\r\n                            </div>\r\n                          }\r\n                          content={\"Grado de Severidad: \" + severidad}\r\n                        ></Popup>\r\n                      </Header>\r\n                      <Form>\r\n                        <TextArea\r\n                          placeholder=\"Detalles\"\r\n                          onChange={(e, { value }) => {\r\n                            setDetalles(value);\r\n                          }}\r\n                        ></TextArea>\r\n                      </Form>\r\n                    </Segment>\r\n                  </Ref>\r\n                ) : null}\r\n              </Container>\r\n            ) : null}\r\n            {step === \"Donde\" && areas ? (\r\n              <div>\r\n                <Segment>\r\n                  <Header>Área de la Observación</Header>\r\n                  {areas.map((item) => (\r\n                    <Popup\r\n                      trigger={\r\n                        <Button\r\n                          color=\"red\"\r\n                          inverted\r\n                          style={{ width: \"15vw\" }}\r\n                          name={item.name}\r\n                          onClick={handleArea}\r\n                          active={area === item.name}\r\n                        >\r\n                          {item.short}\r\n                        </Button>\r\n                      }\r\n                    >\r\n                      <Popup.Header>{item.name}</Popup.Header>\r\n                    </Popup>\r\n                  ))}\r\n                </Segment>\r\n                <Segment>\r\n                  <Header>Anexo</Header>\r\n                  <Input\r\n                    id=\"anexoImg\"\r\n                    fluid\r\n                    className=\"input-image\"\r\n                    type=\"file\"\r\n                    onChange={(e) => {\r\n                      handleImageUpload(e);\r\n                    }}\r\n                  />\r\n                  <br />\r\n                  <Image size=\"large\" id=\"blah\" src={previewImg} alt=\"Anexo\" />\r\n                </Segment>\r\n              </div>\r\n            ) : null}\r\n            {step === \"PAC\" ? (\r\n              <Segment>\r\n                <Header>Acción Tomada</Header>\r\n                <Form>\r\n                  <TextArea\r\n                    placeholder=\"Escriba la Acción Tomada aquí...\"\r\n                    value={plan}\r\n                    onChange={(e) => {\r\n                      setPlan(e.target.value);\r\n                      console.log(e.target.value);\r\n                    }}\r\n                  ></TextArea>\r\n                </Form>\r\n                <Header>Fecha de Cierre Previsto</Header>\r\n                <Input\r\n                  fluid\r\n                  type=\"date\"\r\n                  onChange={(e) => setStartDate(e.target.value)}\r\n                  defaultValue={startDate}\r\n                />\r\n                <Header>Responsable del Plan</Header>\r\n                <Dropdown\r\n                  fluid\r\n                  search\r\n                  selection\r\n                  placeholder=\"Seleccionar Responsable del Plan\"\r\n                  options={personal}\r\n                  value={resp}\r\n                  onChange={(e, { value }) => {\r\n                    setResp(value);\r\n                    console.log(value);\r\n                  }}\r\n                />\r\n              </Segment>\r\n            ) : null}\r\n          </Segment>\r\n        </div>\r\n      ) : (\r\n        <Button\r\n          color=\"red\"\r\n          inverted\r\n          fluid\r\n          icon=\"key\"\r\n          content=\"Sign In\"\r\n          onClick={() => {\r\n            iniciar();\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Registros;\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport userData from \"./employee.json\";\r\nimport {\r\n  Header,\r\n  Button,\r\n  Segment,\r\n  Grid,\r\n  Form,\r\n  Message,\r\n  Checkbox,\r\n  Popup,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction Login() {\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"recordar\"]: [recordar, setRecordar],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const history = useHistory();\r\n  const [password, setPassword] = useState();\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === \"userPassword\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  const login = (event, password) => {\r\n    event.preventDefault();\r\n    var found = false;\r\n    for (var i = 0; i < userData.length; i++) {\r\n      if (userData[i].id === password) {\r\n        found = true;\r\n        setUser(userData[i].Nombre);\r\n        sessionStorage.user = userData[i].Nombre;\r\n        if (recordar) {\r\n          localStorage.user = userData[i].Nombre;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    if (!found) alert(`Usuario No encontrado`);\r\n    if (found) {\r\n      if (pagina) {\r\n        history.push(pagina);\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <Grid textAlign=\"center\" style={{ height: \"50vh\" }} verticalAlign=\"middle\">\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as=\"h2\" style={{ color: \"#F44336\" }} textAlign=\"center\">\r\n          Ingresar con su Numero de Empleado\r\n        </Header>\r\n        <Form size=\"large\">\r\n          <Segment stacked>\r\n            <Popup\r\n              content=\"Numero de Empleado sin PA ni los 0 iniciales, Ejemplo: PA00123456 = 123456\"\r\n              trigger={\r\n                <Form.Input\r\n                  name=\"userPassword\"\r\n                  type=\"password\"\r\n                  fluid\r\n                  icon=\"user\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Numero de Empleado\"\r\n                  onChange={(event) => onChangeHandler(event)}\r\n                />\r\n              }\r\n            />\r\n\r\n            <Button\r\n              color=\"red\"\r\n              fluid\r\n              size=\"large\"\r\n              onClick={(event) => {\r\n                login(event, password);\r\n              }}\r\n            >\r\n              Login\r\n            </Button>\r\n          </Segment>\r\n        </Form>\r\n        <Message>\r\n          <Checkbox\r\n            label=\"Recordar Usuario\"\r\n            onChange={(e, { checked }) => {\r\n              checked ? setRecordar(true) : setRecordar(false);\r\n            }}\r\n          />\r\n        </Message>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport userData from \"./employee.json\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\n\r\nfunction Perfil() {\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const userInfo = userData.filter((item) => {\r\n    return item.Nombre === user;\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <Segment>\r\n        <Header as=\"h4\">\r\n          {user}\r\n          <Button\r\n            floated=\"right\"\r\n            negative\r\n            onClick={() => {\r\n              setUser(\"\");\r\n              sessionStorage.removeItem(\"user\");\r\n              localStorage.removeItem(\"user\");\r\n              setPagina(\"/perfil\");\r\n              history.push(\"/Login\");\r\n            }}\r\n          >\r\n            Cerrar Sesión\r\n          </Button>\r\n        </Header>\r\n        <Segment>{userInfo[0].correo}</Segment>\r\n      </Segment>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Perfil;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport userData from \"./employee.json\";\r\nimport {\r\n  Button,\r\n  Dimmer,\r\n  Loader,\r\n  Header,\r\n  Grid,\r\n  Input,\r\n  Form,\r\n  Dropdown,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  //var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da} ${hora}`;\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Schedule() {\r\n  const [persona, setPersona] = useState(); //variable para responsable de recorrido\r\n  const [lugar, setLugar] = useState(); //variable para area de recorrido\r\n  const {\r\n    [\"user\"]: [user, setUser],\r\n  } = useContext(Contexto);\r\n  const { [\"personal\"]: personal } = useContext(Contexto);\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n  const [listaArea, setListaArea] = useState();\r\n  const [saving, setSaving] = useState(false);\r\n  const userInfo = userData.filter((item) => {\r\n    return item.Nombre === user;\r\n  });\r\n  const history = useHistory();\r\n  const [fecha, setFecha] = useState(FechaStringShort(new Date())); //variable para fecha de recorrido\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    } else {\r\n      var j;\r\n      var lastr = areas.length;\r\n      const area = [];\r\n      for (j = 0; j < lastr; j++) {\r\n        if (areas[j].name !== \"\") {\r\n          area.push({\r\n            key: areas[j].name,\r\n            text: areas[j].name,\r\n            value: areas[j].name,\r\n          });\r\n        }\r\n      }\r\n      setListaArea(area);\r\n    }\r\n  }, [areas]);\r\n\r\n  async function registrar() {\r\n    setSaving(true);\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[762667679];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    while (lastr--) {\r\n      try {\r\n        console.log(rows[lastr].Usuario);\r\n        if (\r\n          rows[lastr].Nombre === persona &&\r\n          rows[lastr].Fecha === fecha &&\r\n          rows[lastr].Area === lugar\r\n        ) {\r\n          console.log(\"Borrando\");\r\n          await rows[lastr].delete();\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        break;\r\n      }\r\n    }\r\n    await sheet.addRow({\r\n      Nombre: persona,\r\n      Fecha: \"'\" + fecha,\r\n      Area: lugar,\r\n      Usuario: user,\r\n      FechaProgramado: FechaStringLong(new Date()),\r\n    });\r\n    alert(\"Datos Guardados\");\r\n    setSaving(false);\r\n    setPersona();\r\n    setLugar();\r\n  }\r\n\r\n  return (\r\n    <Grid textAlign=\"center\" style={{ height: \"50vh\" }} verticalAlign=\"middle\">\r\n      <Dimmer active={saving} page>\r\n        <Loader size=\"massive\">{saving ? \"Saving\" : \"Loading\"}</Loader>\r\n      </Dimmer>\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as=\"h2\" style={{ color: \"#F44336\" }} textAlign=\"center\">\r\n          Programar Recorrido\r\n        </Header>\r\n        <Form>\r\n          <b>Nombre*</b>\r\n          <Dropdown\r\n            fluid\r\n            search\r\n            selection\r\n            clearable\r\n            placeholder=\"Nombre de Empleado...\"\r\n            defaultValue={persona}\r\n            options={personal}\r\n            onChange={(e, { value }) => {\r\n              setPersona(value);\r\n            }}\r\n          ></Dropdown>\r\n          <b>Area*</b>\r\n          <Dropdown\r\n            fluid\r\n            search\r\n            selection\r\n            clearable\r\n            placeholder=\"Area...\"\r\n            defaultValue={lugar}\r\n            options={listaArea}\r\n            onChange={(e, { value }) => {\r\n              setLugar(value);\r\n            }}\r\n          ></Dropdown>\r\n          <b>Fecha*</b>\r\n          <Input\r\n            fluid\r\n            type=\"month\"\r\n            size=\"tiny\"\r\n            defaultValue={fecha}\r\n            onChange={(e, { value }) => {\r\n              setFecha(value);\r\n            }}\r\n          ></Input>\r\n          <br></br>\r\n          <Button\r\n            disabled={!persona || !lugar}\r\n            negative\r\n            fluid\r\n            onClick={() => {\r\n              registrar();\r\n            }}\r\n          >\r\n            Programar\r\n          </Button>\r\n        </Form>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Schedule;\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport {\r\n  List,\r\n  Button,\r\n  Image,\r\n  Checkbox,\r\n  Dimmer,\r\n  Loader,\r\n  Segment,\r\n  Header,\r\n  Label,\r\n  Grid,\r\n  Icon,\r\n  Modal,\r\n  Divider,\r\n  Input,\r\n  Form,\r\n  TextArea,\r\n  Dropdown,\r\n  Progress,\r\n  Container,\r\n  Radio,\r\n  Popup,\r\n  Sticky,\r\n} from \"semantic-ui-react\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { GradientDefs } from \"react-vis\";\r\n\r\nfunction sleep(milliseconds) {\r\n  const date = Date.now();\r\n  let currentDate = null;\r\n  do {\r\n    currentDate = Date.now();\r\n  } while (currentDate - date < milliseconds);\r\n}\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n\r\n  var seconds = total_seconds % 60;\r\n\r\n  total_seconds -= seconds;\r\n\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n\r\n  var date_data = new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n\r\n  return date_data;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nexport default function ReporteDeTurno({ user }) {\r\n  const referencia = useRef(null);\r\n  const {\r\n    [\"reportData\"]: [reportData, setRepData],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"areas\"]: [areas, setAreas],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"pagina\"]: [pagina, setPagina],\r\n  } = useContext(Contexto);\r\n  const [area, setArea] = useState();\r\n  const [categoria, setCat] = useState();\r\n  const { personal: personal } = useContext(Contexto);\r\n  const {\r\n    [\"colores\"]: [colores, setColores],\r\n  } = useContext(Contexto);\r\n  const [reportes, setReportes] = useState(); //Listado completo de CheckList\r\n  const [sinFiltro, setSinFiltro] = useState();\r\n  const [checkList, setCheckList] = useState();\r\n  const [fecha, setFecha] = useState(FechaStringShort(new Date()));\r\n  const [cats, setCats] = useState();\r\n  const [rubros, setRubros] = useState();\r\n  const [activeRubro, setActRubro] = useState();\r\n  const [subCat, setSubCat] = useState();\r\n  const [requerimientos, setReq] = useState();\r\n  const [activeReq, setActiveR] = useState();\r\n  const [incumple, setIncumple] = useState([]);\r\n  const [percentage, setPercentage] = useState();\r\n  const [turno, setTurno] = useState(1);\r\n  const [campoOblig, setCampoOblig] = useState(0);\r\n  const [confirmar, setConfirmar] = useState(false);\r\n  const [duplicado, setDuplicado] = useState(false);\r\n  const [listaArea, setListaArea] = useState();\r\n  const [tipoReporte, setTipoRep] = useState(\"Reporte de Turno\");\r\n  const {\r\n    [\"width\"]: [width, setWidth],\r\n  } = useContext(Contexto);\r\n  const { breakpoint: breakpoint } = useContext(Contexto);\r\n  const { userData: userData } = useContext(Contexto);\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [previewImg, setPreviewImg] = useState(dummyImg);\r\n  const [imageAsFile, setImageAsFile] = useState(\"\");\r\n  const turnos = [\"1\", \"2\", \"3\"];\r\n  const estados = [\r\n    { name: \"saving\", caption: \"Guardando\" },\r\n    { name: \"loading\", caption: \"Cargando\" },\r\n    { name: \"deleting\", caption: \"Borrando\" },\r\n  ];\r\n  const [status, setStatus] = useState();\r\n  const history = useHistory();\r\n\r\n  async function handleImageUpload(event, rubro) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const imageFile = event.target.files[0];\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n            ? { ...x, url: \"\", preview: \"\", img: \"\" }\r\n            : x;\r\n        });\r\n      });\r\n      console.log(\"originalFile instanceof Blob\", imageFile instanceof Blob); // true\r\n      console.log(`originalFile size ${imageFile.size / 1024 / 1024} MB`);\r\n      var reader = new FileReader();\r\n      reader.onload = function (e) {\r\n        setPreviewImg(e.target.result);\r\n        setReportes((existingItems) => {\r\n          return existingItems.map((x) => {\r\n            return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n              ? { ...x, preview: e.target.result }\r\n              : x;\r\n          });\r\n        });\r\n      };\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      const options = {\r\n        maxSizeMB: 1,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n      };\r\n      try {\r\n        const compressedFile = await imageCompression(imageFile, options);\r\n        console.log(\r\n          \"compressedFile instanceof Blob\",\r\n          compressedFile instanceof Blob\r\n        ); // true\r\n        console.log(\r\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\r\n        ); // smaller than maxSizeMB\r\n        setImageAsFile((imageFile) => compressedFile);\r\n        setReportes((existingItems) => {\r\n          return existingItems.map((x) => {\r\n            return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n              ? { ...x, img: compressedFile }\r\n              : x;\r\n          });\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      setImageAsFile(\"\");\r\n      setPreviewImg(dummyImg);\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n            ? { ...x, preview: \"\" }\r\n            : x;\r\n        });\r\n      });\r\n    }\r\n    setPercentage(0);\r\n  }\r\n\r\n  async function handleFireBaseUpload(rubro) {\r\n    var boton = document.getElementById(\"btn\" + activeReq + activeRubro);\r\n    boton.disabled = true;\r\n    setPercentage(1);\r\n    const archivo =\r\n      reportes[\r\n        reportes.findIndex(\r\n          (x) => x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n        )\r\n      ].img;\r\n    const uploadTask = storage.ref(`/images/${archivo.name}`).put(archivo);\r\n    setPercentage(5);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapShot) => {\r\n        //takes a snap shot of the process as it is happening\r\n        console.log(snapShot);\r\n      },\r\n      (err) => {\r\n        //catches the errors\r\n        console.log(err);\r\n      },\r\n      () => {\r\n        // gets the functions from storage refences the image storage in firebase by the children\r\n        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n        setPercentage(50);\r\n        storage\r\n          .ref(\"images\")\r\n          .child(archivo.name)\r\n          .getDownloadURL()\r\n          .then((fireBaseUrl) => {\r\n            setReportes((existingItems) => {\r\n              return existingItems.map((x) => {\r\n                return x.SubCategoria === activeRubro &&\r\n                  x.Categoria === activeReq\r\n                  ? { ...x, url: fireBaseUrl }\r\n                  : x;\r\n              });\r\n            });\r\n            setPercentage(100);\r\n          });\r\n      }\r\n    );\r\n  }\r\n\r\n  const sacardata = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1249329599];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setRepData(datas);\r\n  };\r\n  const sacarReportes = async () => {\r\n    setStatus(estados[1].caption);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n\r\n    const sheetID = 1259390435;\r\n    const sheet = doc.sheetsById[sheetID];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    datas.forEach((x) => {\r\n      x.incumple = window.location.href.includes(\"recorrido\") ? \"\" : \"N\";\r\n      x.img = \"\";\r\n      x.preview = \"\";\r\n      x.url = \"\";\r\n      x.personas = \"\";\r\n      x.detalle = \"\";\r\n      x.opcional = \"N\";\r\n      x.turno = \"\";\r\n      x.reporte = window.location.href.includes(\"recorrido\")\r\n        ? \"Recorrido\"\r\n        : \"Reporte de Turno\";\r\n    });\r\n    console.log(datas);\r\n    var aplican = datas.filter((x) => x[\"Reporte de turno\"] === \"Y\");\r\n    if (window.location.href.includes(\"recorrido\")) {\r\n      aplican = datas.filter((x) => x[\"Recorrido\"] === \"Y\");\r\n    }\r\n    setSinFiltro(aplican);\r\n    setReportes(aplican);\r\n    setCats(\r\n      aplican\r\n        .map((item) => item.Tipo)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n    setStatus();\r\n  };\r\n  const sacarReportes2 = async () => {\r\n    setStatus(estados[1].caption);\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n\r\n    const sheetID = window.location.href.includes(\"recorrido\")\r\n      ? 1236777776\r\n      : 585241358;\r\n    const sheet = doc.sheetsById[sheetID];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    datas.forEach((x) => {\r\n      x.incumple = window.location.href.includes(\"recorrido\") ? \"\" : \"N\";\r\n      x.img = \"\";\r\n      x.preview = \"\";\r\n      x.url = \"\";\r\n      x.personas = \"\";\r\n      x.detalle = \"\";\r\n      x.opcional = \"N\";\r\n      x.turno = \"\";\r\n      x.reporte = window.location.href.includes(\"recorrido\")\r\n        ? \"Recorrido\"\r\n        : \"Reporte de Turno\";\r\n    });\r\n    console.log(datas);\r\n    setReportes(datas);\r\n    setCats(\r\n      datas\r\n        .map((item) => item.Tipo)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n    setStatus();\r\n  };\r\n  async function registrar() {\r\n    setStatus(estados[0].caption);\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1249329599];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    var variables = [area, fecha, user, tipoReporte];\r\n    var uniqueID = variables.join(\"-\");\r\n    if (tipoReporte === \"Reporte de Turno\") {\r\n      uniqueID = uniqueID + \"-\" + turno;\r\n    }\r\n\r\n    if (duplicado) {\r\n      setStatus(estados[2].caption);\r\n      while (lastr--) {\r\n        try {\r\n          if (rows[lastr].Id == uniqueID) {\r\n            console.log(\"Borrando\");\r\n            await rows[lastr].delete();\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n          sleep(60000);\r\n          lastr = lastr + 1;\r\n          continue;\r\n        }\r\n      }\r\n      setStatus(estados[0].caption);\r\n    }\r\n    var j;\r\n\r\n    for (j = 0; j < reportes.length; j++) {\r\n      try {\r\n        console.log(\"guardando\");\r\n        await sheet.addRow({\r\n          Area: area,\r\n          Usuario: user,\r\n          FechaRegistro: FechaStringLong(new Date()),\r\n          FechaRecorrido: fecha,\r\n          Tipo: reportes[j].Tipo,\r\n          Categoria: reportes[j].Categoria,\r\n          SubCategoria: reportes[j].SubCategoria,\r\n          Incumple: reportes[j].incumple,\r\n          Detalle: reportes[j].detalle,\r\n          PersonasObservadas: reportes[j].personas,\r\n          Imagen: reportes[j].url,\r\n          Turno: turno,\r\n          Reporte: tipoReporte,\r\n          Id: uniqueID,\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n        sleep(60000);\r\n        j = j - 1;\r\n        continue;\r\n      }\r\n    }\r\n    alert(\"Datos Guardados\");\r\n    setActiveR();\r\n    setStatus();\r\n    setArea(\"\");\r\n    setActRubro();\r\n    setRepData();\r\n    setReportes();\r\n    setConfirmar(false);\r\n    history.push(\"/\");\r\n  }\r\n  const [lista, setLista] = useState();\r\n  const crearLista = (e, { name }) => {\r\n    if (activeReq == name) {\r\n      setActiveR();\r\n    } else {\r\n      setActiveR(name);\r\n    }\r\n    setLista(\r\n      reportData\r\n        .filter((item) => item.Nombre == name)\r\n        .map((item) => item.Rubro)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n  };\r\n  const revision = (e, { name, requerimiento }) => {\r\n    let observacion = { req: requerimiento, rubro: name };\r\n    if (\r\n      reportData[reportData.findIndex((x) => x.Rubro === name)].Acto === \"Y\"\r\n    ) {\r\n      observacion.obligatorio = 1;\r\n    }\r\n    if (incumple.some((e) => e.req === requerimiento && e.rubro === name)) {\r\n      let removeIndex = incumple.filter((e) => e.rubro !== name);\r\n      console.log(removeIndex);\r\n      // remove object\r\n      setIncumple(removeIndex);\r\n    } else {\r\n      setIncumple((oldArray) => [...oldArray, observacion]);\r\n    }\r\n  };\r\n  const validar = () => {\r\n    var variables = [area, fecha, user, tipoReporte];\r\n    var uniqueID = variables.join(\"-\");\r\n    if (tipoReporte === \"Reporte de Turno\") {\r\n      uniqueID = uniqueID + \"-\" + turno;\r\n    }\r\n    let res = [];\r\n    res = reportData.filter((element) => {\r\n      return element.Id == uniqueID;\r\n    });\r\n    if (res.length > 0) {\r\n      setDuplicado(true);\r\n    } else {\r\n      setDuplicado(false);\r\n    }\r\n  };\r\n\r\n  const sacarAreas = async () => {\r\n    var data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1705686078];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    const encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    setAreas(datas);\r\n  };\r\n  React.useEffect(() => {\r\n    const handleWindowResize = () => setWidth(window.innerWidth);\r\n    window.addEventListener(\"resize\", handleWindowResize);\r\n\r\n    // Return a function from the effect that removes the event listener\r\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n  }, []);\r\n  useEffect(() => {\r\n    if (!areas) {\r\n      sacarAreas();\r\n    } else {\r\n      var j;\r\n      var userArea = userData.filter((x) => x.Nombre === user)[0].Area;\r\n      var lastr = areas.length;\r\n      const area = [];\r\n      for (j = 0; j < lastr; j++) {\r\n        let keys = areas[j].keys;\r\n        if (\r\n          areas[j].name !== \"\" &&\r\n          (userArea.toLowerCase().includes(\"gerencia\") ||\r\n          window.location.href.includes(\"recorrido\")\r\n            ? true\r\n            : keys\r\n                .toLowerCase()\r\n                .split(\", \")\r\n                .some((w) => userArea.toLowerCase().includes(w)))\r\n        ) {\r\n          area.push({\r\n            key: areas[j].name,\r\n            text: areas[j].name,\r\n            value: areas[j].name,\r\n          });\r\n        }\r\n      }\r\n      setListaArea(area);\r\n    }\r\n  }, [areas]);\r\n\r\n  useEffect(() => {\r\n    if (turno && area) {\r\n      if (!reportData) {\r\n        sacardata();\r\n      }\r\n      validar();\r\n    }\r\n  }, [area, turno]);\r\n\r\n  useEffect(() => {\r\n    console.log(incumple);\r\n  }, [incumple]);\r\n  useEffect(() => {\r\n    if (!reportData) {\r\n      sacardata();\r\n    }\r\n  }, [reportData]);\r\n  useEffect(() => {\r\n    if (!reportes) {\r\n      sacarReportes();\r\n    } else {\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    setArea();\r\n    setCat();\r\n    setReportes();\r\n    setRepData();\r\n    setActiveR();\r\n    setActRubro();\r\n    sacarReportes();\r\n    sacardata();\r\n    var url = window.location.href;\r\n    if ((pagina && pagina.includes(\"recorrido\")) || url.includes(\"recorrido\")) {\r\n      setTipoRep(\"Reporte de Recorrido\");\r\n    } else {\r\n      setTipoRep(\"Reporte de Turno\");\r\n    }\r\n  }, [pagina]);\r\n  function handleArea(e, { value }) {\r\n    setCat();\r\n    setActiveR();\r\n    var filtro = sinFiltro.filter((x) => x[value] === \"Y\");\r\n    setReportes(filtro);\r\n    setArea(value);\r\n  }\r\n\r\n  function handleCategorias(e) {\r\n    setCat(e.target.name);\r\n    if (reportes) {\r\n      var chklist = reportes.filter((item) => item.Tipo === e.target.name);\r\n      setCheckList(chklist);\r\n      setReq(\r\n        chklist\r\n          .map((item) => item.Categoria)\r\n          .filter((value, index, self) => self.indexOf(value) === index)\r\n      );\r\n    }\r\n  }\r\n  function handleSubCat(e) {\r\n    setSubCat(e.target.name);\r\n    if (activeReq === e.target.name) {\r\n      setActiveR();\r\n    } else {\r\n      setActiveR(e.target.name);\r\n    }\r\n    setRubros(\r\n      reportes\r\n        .filter((item) => item.Categoria === e.target.name)\r\n        .map((item) => item.SubCategoria)\r\n        .filter((value, index, self) => self.indexOf(value) === index)\r\n    );\r\n    setActRubro();\r\n  }\r\n\r\n  function handleCheck(e) {\r\n    var item = e.target.name;\r\n    var chk = e.target.id;\r\n    console.log(chk);\r\n    setActRubro(item);\r\n    var cumple;\r\n    if (chk.includes(\"Y\")) {\r\n      cumple = \"N\";\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === item && x.Categoria === activeReq\r\n            ? {\r\n                ...x,\r\n                personas: \"\",\r\n                detalle: \"\",\r\n              }\r\n            : x;\r\n        });\r\n      });\r\n    } else {\r\n      cumple = \"Y\";\r\n    }\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === item && x.Categoria === activeReq\r\n          ? { ...x, incumple: cumple }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  function HandleTodos(e, { checked }) {\r\n    var cumple;\r\n    if (checked) {\r\n      cumple = \"N\";\r\n    } else {\r\n      cumple = \"\";\r\n    }\r\n    if (activeReq) {\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.Categoria === activeReq ? { ...x, incumple: cumple } : x;\r\n        });\r\n      });\r\n    } else {\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.Tipo === categoria ? { ...x, incumple: cumple } : x;\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleOpcional(e, { rubro }) {\r\n    setActRubro(rubro);\r\n    var aplica;\r\n    if (\r\n      reportes[\r\n        reportes.findIndex(\r\n          (x) => x.Categoria === activeReq && x.SubCategoria === rubro\r\n        )\r\n      ].opcional === \"N\"\r\n    ) {\r\n      aplica = \"Y\";\r\n    } else {\r\n      aplica = \"N\";\r\n\r\n      setReportes((existingItems) => {\r\n        return existingItems.map((x) => {\r\n          return x.SubCategoria === rubro && x.Categoria === activeReq\r\n            ? {\r\n                ...x,\r\n                personas: \"\",\r\n              }\r\n            : x;\r\n        });\r\n      });\r\n    }\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === rubro && x.Categoria === activeReq\r\n          ? {\r\n              ...x,\r\n              opcional: aplica,\r\n            }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleObservados(e, { value }) {\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n          ? {\r\n              ...x,\r\n              personas: value.toString(),\r\n            }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleDetalles(e, { value }) {\r\n    setReportes((existingItems) => {\r\n      return existingItems.map((x) => {\r\n        return x.SubCategoria === activeRubro && x.Categoria === activeReq\r\n          ? {\r\n              ...x,\r\n              detalle: value,\r\n            }\r\n          : x;\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Grid textAlign=\"center\" verticalAlign=\"middle\">\r\n      <Dimmer\r\n        active={\r\n          status || estados.filter((x) => x.caption === status).length != 0\r\n        }\r\n        page\r\n      >\r\n        <Loader size=\"massive\">{status}</Loader>\r\n      </Dimmer>\r\n      {reportes && (\r\n        <Modal\r\n          onClose={() => setConfirmar(false)}\r\n          onOpen={() => setConfirmar(true)}\r\n          size=\"large\"\r\n          open={confirmar}\r\n        >\r\n          <Modal.Header>Confirmar Información</Modal.Header>\r\n          <Modal.Content>\r\n            {duplicado && (\r\n              <Label basic color=\"red\" size=\"huge\">\r\n                <Icon name=\"warning sign\" />\r\n                Se sobreescribirá los datos\r\n              </Label>\r\n            )}\r\n            <h1>\r\n              {tipoReporte.includes(\"Recorrido\")\r\n                ? tipoReporte\r\n                : tipoReporte + \" \" + turno}\r\n            </h1>\r\n            <h2>{fecha}</h2>\r\n            <h3>{user}</h3>\r\n            <h4>{area}</h4>\r\n          </Modal.Content>\r\n\r\n          <Divider />\r\n          <Modal.Content>\r\n            {reportes.filter((x) => x.incumple === \"Y\").length > 0 && (\r\n              <b>Incumplimientos: </b>\r\n            )}\r\n            {reportes.filter((x) => x.incumple === \"Y\").length > 0 && (\r\n              <List>\r\n                {reportes\r\n                  .filter((x) => x.incumple === \"Y\")\r\n                  .map((item, index) => {\r\n                    return (\r\n                      <List.Item>\r\n                        {index + 1}. {item.Tipo} - {item.Categoria} -{\" \"}\r\n                        {item.SubCategoria}\r\n                      </List.Item>\r\n                    );\r\n                  })}\r\n              </List>\r\n            )}\r\n            {reportes.filter((x) => x.incumple === \"Y\").length == 0 && (\r\n              <b>Sin Incidencias</b>\r\n            )}\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"green\"\r\n              onClick={() => {\r\n                registrar();\r\n              }}\r\n            >\r\n              <Icon name=\"check\"></Icon>Confirmar\r\n            </Button>\r\n            <Button\r\n              secondary\r\n              color=\"red\"\r\n              onClick={() => {\r\n                setConfirmar(false);\r\n              }}\r\n            >\r\n              <Icon name=\"x\"></Icon>Cancelar\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      )}\r\n      <Grid.Row>\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Segment basic>\r\n            <Header>{tipoReporte}</Header>\r\n          </Segment>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        <Grid.Column>\r\n          <b>Fecha*</b>\r\n          <Input\r\n            fluid\r\n            type=\"date\"\r\n            defaultValue={fecha}\r\n            onChange={(e, { value }) => {\r\n              setFecha(value);\r\n            }}\r\n          ></Input>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      {reportes && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <b>Area*</b>\r\n            <Dropdown\r\n              style={{ textAlign: \"center\" }}\r\n              fluid\r\n              search\r\n              selection\r\n              placeholder=\"Area...\"\r\n              options={listaArea}\r\n              onChange={handleArea}\r\n            ></Dropdown>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {area && tipoReporte.includes(\"Turno\") && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <b>Turno*</b>\r\n            <Form>\r\n              <Grid columns={3}>\r\n                <Grid.Row>\r\n                  {turnos.map((x) => {\r\n                    return (\r\n                      <Grid.Column>\r\n                        <Radio\r\n                          label={x}\r\n                          checked={turno === x}\r\n                          onChange={() => {\r\n                            setTurno(x);\r\n                          }}\r\n                        ></Radio>\r\n                      </Grid.Column>\r\n                    );\r\n                  })}\r\n                </Grid.Row>\r\n              </Grid>\r\n            </Form>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {duplicado && area && turno && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Label basic color=\"red\">\r\n              <Icon name=\"warning sign\" />\r\n              Ud. ya ha registrado un {tipoReporte} para {area}{\" \"}\r\n              {tipoReporte === \"Reporte de Turno\" ? \"del turno \" + turno : \"\"}{\" \"}\r\n              para el dia {fecha}, en caso que guardes se sobreescribira el\r\n              reporte anterior\r\n            </Label>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      <Grid.Row columns={4}>\r\n        {cats &&\r\n          turno &&\r\n          area &&\r\n          cats.map((item) => {\r\n            return (\r\n              <Grid.Column>\r\n                <Button\r\n                  fluid\r\n                  style={{\r\n                    backgroundColor:\r\n                      categoria === item\r\n                        ? colores.filter((x) => {\r\n                            return x.categoria === item;\r\n                          })[0].activo\r\n                        : colores.filter((x) => {\r\n                            return x.categoria === item;\r\n                          })[0].inactivo,\r\n                    color: colores.filter((x) => {\r\n                      return x.categoria === item;\r\n                    })[0].texto,\r\n                  }}\r\n                  name={item}\r\n                  onClick={handleCategorias}\r\n                >\r\n                  {width > breakpoint\r\n                    ? colores.filter((x) => {\r\n                        return x.categoria === item;\r\n                      })[0].caption\r\n                    : colores.filter((x) => {\r\n                        return x.categoria === item;\r\n                      })[0].short}\r\n                  <Popup\r\n                    content=\"Cantidad de incumplimiento\"\r\n                    trigger={\r\n                      <Label\r\n                        style={{ left: \"90%\" }}\r\n                        color={\r\n                          reportes &&\r\n                          reportes.filter(\r\n                            (x) => x.Tipo === item && x.incumple === \"Y\"\r\n                          ).length > 0\r\n                            ? \"red\"\r\n                            : \"grey\"\r\n                        }\r\n                        floating\r\n                        circular\r\n                        size=\"mini\"\r\n                      >\r\n                        {reportes &&\r\n                          reportes.filter(\r\n                            (x) => x.Tipo === item && x.incumple === \"Y\"\r\n                          ).length}\r\n                      </Label>\r\n                    }\r\n                  />\r\n                </Button>\r\n              </Grid.Column>\r\n            );\r\n          })}\r\n      </Grid.Row>\r\n      {reportes && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Button\r\n              disabled={\r\n                !area |\r\n                !turno |\r\n                (reportes &&\r\n                  reportes.filter(\r\n                    (x) =>\r\n                      x.incumple === \"Y\" &&\r\n                      (x.Acto === \"Y\" || x.opcional === \"Y\") &&\r\n                      x.personas === \"\"\r\n                  ).length > 0) |\r\n                (reportes.filter((x) => x.incumple === \"\").length > 0)\r\n              }\r\n              fluid\r\n              color=\"green\"\r\n              icon=\"save\"\r\n              content=\"Guardar\"\r\n              onClick={() => setConfirmar(true)}\r\n            />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {reportes &&\r\n        reportes.filter(\r\n          (x) =>\r\n            x.incumple === \"Y\" &&\r\n            (x.Acto === \"Y\" || x.opcional === \"Y\") &&\r\n            x.personas === \"\"\r\n        ).length > 0 && (\r\n          <Grid.Row>\r\n            <Label basic color=\"red\">\r\n              <Icon name=\"warning sign\" /> Campo obligatorio sin completar\r\n            </Label>\r\n          </Grid.Row>\r\n        )}\r\n      {categoria && area && reportes && (\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Segment\r\n              fluid\r\n              basic\r\n              style={{\r\n                color: colores.filter((x) => {\r\n                  return x.categoria === categoria;\r\n                })[0].activo,\r\n              }}\r\n            >\r\n              <Header\r\n                onClick={() => {\r\n                  console.log(reportes);\r\n                  console.log(activeReq);\r\n                  console.log(activeRubro);\r\n                }}\r\n              >\r\n                {categoria}\r\n                {\" Cumplimiento \"}\r\n                {Math.ceil(\r\n                  (reportes.filter(\r\n                    (x) => x.Tipo === categoria && x.incumple === \"N\"\r\n                  ).length /\r\n                    reportes.filter((x) => x.Tipo === categoria).length) *\r\n                    100\r\n                )}\r\n                %\r\n              </Header>\r\n              <Checkbox\r\n                key={categoria + \"AllY\"}\r\n                label={\"Todos Cumplen\"}\r\n                checked={\r\n                  reportes.filter((x) => x.Tipo === categoria).length ==\r\n                  reportes.filter(\r\n                    (x) => x.Tipo === categoria && x.incumple === \"N\"\r\n                  ).length\r\n                }\r\n                onChange={HandleTodos}\r\n              />\r\n            </Segment>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      )}\r\n      {requerimientos &&\r\n        categoria &&\r\n        area &&\r\n        reportes &&\r\n        requerimientos.map((item, reqIdx) => {\r\n          return (\r\n            <Grid.Row>\r\n              <Grid.Column>\r\n                <Button\r\n                  fluid\r\n                  style={{\r\n                    backgroundColor: colores.filter((item) => {\r\n                      return item.categoria === categoria;\r\n                    })[0].inactivo,\r\n                    color: colores.filter((item) => {\r\n                      return item.categoria === categoria;\r\n                    })[0].texto,\r\n                  }}\r\n                  name={item}\r\n                  onClick={handleSubCat}\r\n                >\r\n                  {item}\r\n                </Button>\r\n                {activeReq === item && (\r\n                  <Segment basic>\r\n                    <Grid verticalAlign=\"left\">\r\n                      <Checkbox\r\n                        key={reqIdx + \"AllY\"}\r\n                        requerimiento={activeReq}\r\n                        label={\"Todos Cumplen\"}\r\n                        checked={\r\n                          reportes.filter((x) => x.Categoria === activeReq)\r\n                            .length ==\r\n                          reportes.filter(\r\n                            (x) =>\r\n                              x.Categoria === activeReq && x.incumple === \"N\"\r\n                          ).length\r\n                        }\r\n                        onChange={HandleTodos}\r\n                      />\r\n                    </Grid>\r\n                    <Grid verticalAlign=\"left\">\r\n                      {rubros &&\r\n                        rubros.map((item, idx) => {\r\n                          return (\r\n                            <Grid.Row>\r\n                              <Grid.Column>\r\n                                {idx + 1 + \". \" + item}\r\n                                <br />\r\n                                <Grid.Row columns={3}>\r\n                                  <Grid.Column>Cumple?</Grid.Column>\r\n                                  <Grid.Column>\r\n                                    <Checkbox\r\n                                      fluid\r\n                                      key={idx + \"Y\"}\r\n                                      id={idx + \"Y\"}\r\n                                      name={item}\r\n                                      requerimiento={activeReq}\r\n                                      label={\"Si\"}\r\n                                      checked={\r\n                                        reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].incumple === \"N\"\r\n                                      }\r\n                                      onChange={handleCheck}\r\n                                    />\r\n                                  </Grid.Column>\r\n                                  <br />\r\n                                  <Grid.Column>\r\n                                    <Checkbox\r\n                                      fluid\r\n                                      key={idx + \"N\"}\r\n                                      id={idx + \"N\"}\r\n                                      name={item}\r\n                                      requerimiento={activeReq}\r\n                                      label={\"No\"}\r\n                                      checked={\r\n                                        reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].incumple === \"Y\"\r\n                                      }\r\n                                      onChange={handleCheck}\r\n                                    />\r\n                                  </Grid.Column>\r\n                                </Grid.Row>\r\n                                {reportes.filter(\r\n                                  (x) =>\r\n                                    x.SubCategoria === item &&\r\n                                    x.Categoria === activeReq\r\n                                )[0].incumple === \"Y\" && (\r\n                                  <Segment color=\"red\">\r\n                                    <Grid>\r\n                                      {reportes.filter(\r\n                                        (x) =>\r\n                                          x.SubCategoria === item &&\r\n                                          x.Categoria === activeReq\r\n                                      )[0].incumple === \"Y\" &&\r\n                                        reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].Acto === \"N\" && (\r\n                                          <Grid.Row>\r\n                                            <Grid.Column>\r\n                                              <Checkbox\r\n                                                fluid\r\n                                                requerimiento={activeReq}\r\n                                                rubro={item}\r\n                                                label=\"Personas Observadas?\"\r\n                                                checked={\r\n                                                  reportes.filter(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )[0].opcional === \"Y\"\r\n                                                }\r\n                                                onChange={handleOpcional}\r\n                                              />\r\n                                            </Grid.Column>\r\n                                          </Grid.Row>\r\n                                        )}\r\n                                      {reportes.filter(\r\n                                        (x) =>\r\n                                          x.SubCategoria === item &&\r\n                                          x.Categoria === activeReq\r\n                                      )[0].incumple === \"Y\" &&\r\n                                        (reportes.filter(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )[0].Acto === \"Y\" ||\r\n                                          reportes.filter(\r\n                                            (x) =>\r\n                                              x.SubCategoria === item &&\r\n                                              x.Categoria === activeReq\r\n                                          )[0].opcional === \"Y\") && (\r\n                                          <Grid.Row>\r\n                                            <Grid.Column>\r\n                                              <b>Personas Observadas*</b>\r\n                                              <Dropdown\r\n                                                fluid\r\n                                                multiple\r\n                                                search\r\n                                                selection\r\n                                                defaultValue={\r\n                                                  reportes[\r\n                                                    reportes.findIndex(\r\n                                                      (x) =>\r\n                                                        x.Categoria ===\r\n                                                          activeReq &&\r\n                                                        x.SubCategoria === item\r\n                                                    )\r\n                                                  ].personas\r\n                                                    ? reportes[\r\n                                                        reportes.findIndex(\r\n                                                          (x) =>\r\n                                                            x.Categoria ===\r\n                                                              activeReq &&\r\n                                                            x.SubCategoria ===\r\n                                                              item\r\n                                                        )\r\n                                                      ].personas.split(\",\")\r\n                                                    : \"\"\r\n                                                }\r\n                                                placeholder=\"Seleccionar Personas Involucradas...\"\r\n                                                options={personal}\r\n                                                onChange={handleObservados}\r\n                                              ></Dropdown>\r\n                                              {!reportes[\r\n                                                reportes.findIndex(\r\n                                                  (x) =>\r\n                                                    x.Categoria === activeReq &&\r\n                                                    x.SubCategoria === item\r\n                                                )\r\n                                              ].personas && (\r\n                                                <Label\r\n                                                  basic\r\n                                                  color=\"red\"\r\n                                                  pointing\r\n                                                >\r\n                                                  <Icon name=\"warning sign\" />\r\n                                                  Por favor elija al menos una\r\n                                                  persona\r\n                                                </Label>\r\n                                              )}\r\n                                            </Grid.Column>\r\n                                          </Grid.Row>\r\n                                        )}\r\n                                      <Grid.Row>\r\n                                        <Grid.Column>\r\n                                          <b>Detalles</b>\r\n                                          <Form>\r\n                                            <TextArea\r\n                                              placeholder=\"Detelles...\"\r\n                                              defaultValue={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.Categoria ===\r\n                                                        activeReq &&\r\n                                                      x.SubCategoria === item\r\n                                                  )\r\n                                                ].detalle\r\n                                                  ? reportes[\r\n                                                      reportes.findIndex(\r\n                                                        (x) =>\r\n                                                          x.Categoria ===\r\n                                                            activeReq &&\r\n                                                          x.SubCategoria ===\r\n                                                            item\r\n                                                      )\r\n                                                    ].detalle\r\n                                                  : \"\"\r\n                                              }\r\n                                              onChange={handleDetalles}\r\n                                            ></TextArea>\r\n                                          </Form>\r\n                                        </Grid.Column>\r\n                                      </Grid.Row>\r\n                                      <Grid.Row>\r\n                                        <Grid.Column>\r\n                                          <b>Imagen</b>\r\n                                          <Input\r\n                                            icon=\"camera\"\r\n                                            iconPosition=\"left\"\r\n                                            type=\"file\"\r\n                                            fluid\r\n                                            rubro={item}\r\n                                            onChange={(e, { rubro }) => {\r\n                                              handleImageUpload(e, rubro);\r\n                                            }}\r\n                                          />\r\n                                        </Grid.Column>\r\n                                      </Grid.Row>\r\n                                      {reportes[\r\n                                        reportes.findIndex(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )\r\n                                      ].preview &&\r\n                                        percentage == 0 && (\r\n                                          <Grid.Row>\r\n                                            <Grid.Column>\r\n                                              <Button\r\n                                                id={\"btn\" + activeReq + item}\r\n                                                rubro={item}\r\n                                                content=\"Confirmar\"\r\n                                                style={{\r\n                                                  backgroundColor:\r\n                                                    colores.filter((item) => {\r\n                                                      return (\r\n                                                        item.categoria ===\r\n                                                        categoria\r\n                                                      );\r\n                                                    })[0].inactivo,\r\n                                                  color: colores.filter(\r\n                                                    (item) => {\r\n                                                      return (\r\n                                                        item.categoria ===\r\n                                                        categoria\r\n                                                      );\r\n                                                    }\r\n                                                  )[0].texto,\r\n                                                }}\r\n                                                onClick={(e, { rubro }) => {\r\n                                                  handleFireBaseUpload(rubro);\r\n                                                }}\r\n                                              />\r\n                                            </Grid.Column>\r\n                                          </Grid.Row>\r\n                                        )}\r\n                                      {reportes[\r\n                                        reportes.findIndex(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )\r\n                                      ].preview && (\r\n                                        <Grid.Row>\r\n                                          <Grid.Column>\r\n                                            <Progress\r\n                                              percent={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url\r\n                                                  ? 100\r\n                                                  : percentage\r\n                                              }\r\n                                              indicating={\r\n                                                !reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url && percentage != 100\r\n                                              }\r\n                                              success={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url\r\n                                                  ? true\r\n                                                  : percentage == 100\r\n                                              }\r\n                                              progress\r\n                                              label={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].url || percentage == 100\r\n                                                  ? \"Cargado\"\r\n                                                  : percentage == 0\r\n                                                  ? \"\"\r\n                                                  : \"Cargando\"\r\n                                              }\r\n                                            />\r\n                                          </Grid.Column>\r\n                                        </Grid.Row>\r\n                                      )}\r\n                                      {reportes[\r\n                                        reportes.findIndex(\r\n                                          (x) =>\r\n                                            x.SubCategoria === item &&\r\n                                            x.Categoria === activeReq\r\n                                        )\r\n                                      ].preview && (\r\n                                        <Grid.Row>\r\n                                          <Grid.Column>\r\n                                            <Image\r\n                                              size=\"medium\"\r\n                                              src={\r\n                                                reportes[\r\n                                                  reportes.findIndex(\r\n                                                    (x) =>\r\n                                                      x.SubCategoria === item &&\r\n                                                      x.Categoria === activeReq\r\n                                                  )\r\n                                                ].preview\r\n                                              }\r\n                                            />\r\n                                          </Grid.Column>\r\n                                        </Grid.Row>\r\n                                      )}\r\n                                    </Grid>\r\n                                  </Segment>\r\n                                )}\r\n                              </Grid.Column>\r\n                            </Grid.Row>\r\n                          );\r\n                        })}\r\n                    </Grid>\r\n                  </Segment>\r\n                )}\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          );\r\n        })}\r\n    </Grid>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { storage } from \"./firebase/firebase\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { Dropdown, Grid, Header, Input, Segment } from \"semantic-ui-react\";\r\n\r\nfunction Minuta() {\r\n  const { personal } = useContext(Contexto);\r\n  return (\r\n    <Grid stackable>\r\n      <Grid.Row>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <Header content=\"Administración de Minuta\" />\r\n          </Segment>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        <Grid.Column>\r\n          <b>Fecha*</b>\r\n          <Input fluid type=\"date\"></Input>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row columns={3}>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <b>Participantes</b>\r\n            <Dropdown options={personal} fluid search selection />\r\n          </Segment>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <b>Reunion</b>\r\n            <Dropdown options={personal} fluid search selection />\r\n          </Segment>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <Segment basic>\r\n            <b>Reunion</b>\r\n            <Dropdown options={personal} fluid search selection />\r\n          </Segment>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Minuta;\r\n","export default __webpack_public_path__ + \"static/media/Dummy.710ac8fa.png\";","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"date-fns\";\r\nimport \"./App.css\";\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport userData from \"./employee.json\";\r\nimport { Contexto } from \"./Contexto\";\r\nimport dummy from \"./Dummy.png\";\r\n\r\nfunction ExcelDateToJSDate(serial) {\r\n  var utc_days = Math.floor(serial - 25568);\r\n  var utc_value = utc_days * 86400;\r\n  var date_info = new Date(utc_value * 1000);\r\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  var total_seconds = Math.floor(86400 * fractional_day);\r\n  var seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  var hours = Math.floor(total_seconds / (60 * 60));\r\n  var minutes = Math.floor(total_seconds / 60) % 60;\r\n  return new Date(\r\n    date_info.getFullYear(),\r\n    date_info.getMonth(),\r\n    date_info.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds\r\n  );\r\n}\r\n\r\nfunction FechaStringLong(fecha) {\r\n  var options = {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\r\n  var fechaStr = hora;\r\n  return fechaStr;\r\n}\r\n\r\nfunction FechaStringShort(fecha) {\r\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\r\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\r\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\r\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\r\n  return fechaStr;\r\n}\r\n\r\nfunction Desviaciones({ user }) {\r\n  //Fechas\r\n  let today = new Date();\r\n  let startDate = new Date(today);\r\n  startDate.setDate(startDate.getDate() - 30);\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1;\r\n  var yyyy = today.getFullYear();\r\n  var hora = today.getHours();\r\n  var minutos = today.getMinutes();\r\n  dd < 10 ? (dd = \"0\" + dd) : (dd = today.getDate());\r\n  mm < 10 ? (mm = \"0\" + mm) : (mm = today.getMonth() + 1);\r\n  if (hora < 10) hora = \"0\" + hora;\r\n  if (minutos < 10) minutos = \"0\" + minutos;\r\n  let date = yyyy + \"-\" + mm + \"-\" + dd;\r\n  //Fechas\r\n  const [data, setData] = useState();\r\n  const [myData, setMyData] = useState();\r\n  const [dataFound, setDataFound] = useState();\r\n  const [inicio, setInicio] = useState(startDate.toISOString().slice(0, 10));\r\n  const [final, setFinal] = useState(date);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [estado, setEstado] = useState();\r\n  const [Status, setStatus] = useState(\"Sin Acción\");\r\n  const [activeItem, setActiveItem] = useState(\"\");\r\n  const dummyImg = \"https://react.semantic-ui.com/images/wireframe/image.png\";\r\n  const [papName, setPapName] = useState();\r\n  const [papDesc, setPapDesc] = useState();\r\n  const [papAreaResp, setPapAreaResp] = useState();\r\n  const {\r\n    [\"desviaciones\"]: [desviaciones, setDesviaciones],\r\n  } = useContext(Contexto);\r\n  const {\r\n    [\"grupoArea\"]: [grupoArea, setGrupoArea],\r\n  } = useContext(Contexto);\r\n\r\n  const handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  const sacardata = async () => {\r\n    setEstado(\"Cargando\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.height = \"100%\";\r\n    let data = [];\r\n    let datas = [];\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    let sheet = doc.sheetsById[1249329599];\r\n    let rows = await sheet.getRows();\r\n    let cols = await sheet.columnCount;\r\n    let encabezado = await sheet.headerValues;\r\n\r\n    let lastr = rows.length + 1;\r\n    var j, i;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas.push(data);\r\n    }\r\n    //AREAS\r\n    sheet = doc.sheetsById[1705686078];\r\n    rows = await sheet.getRows();\r\n    cols = await sheet.columnCount;\r\n    encabezado = await sheet.headerValues;\r\n    let datas_areas = [];\r\n    lastr = rows.length + 1;\r\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\r\n    await sheet.loadCells({\r\n      // GridRange object\r\n      startRowIndex: 0,\r\n      endRowIndex: lastr,\r\n      startColumnIndex: 0,\r\n      endColumnIndex: cols,\r\n    });\r\n    for (j = 1; j < lastr; j++) {\r\n      data = [];\r\n      for (i = 0; i <= cols - 1; i++) {\r\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\r\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\r\n      }\r\n      datas_areas.push(data);\r\n    }\r\n    const unique = [...new Set(datas_areas.map((item) => item.grupo))];\r\n    unique.sort();\r\n    unique.unshift(\"Todas\");\r\n    setGrupoArea(unique);\r\n    //AREAS\r\n    datas.forEach((x) => {\r\n      x.grupo =\r\n        datas_areas[datas_areas.findIndex((y) => y.name === x.Area)].grupo;\r\n    });\r\n    setData(datas);\r\n    let incumplimientos = datas.filter((x) => x.Incumple === \"Y\");\r\n    let miData = incumplimientos;\r\n    let misReqs = incumplimientos.filter((x) => x.AreaResponsable !== null);\r\n    let misTasks;\r\n    if (user) {\r\n      var userArea = userData.filter((x) => x.Nombre === user)[0].Area;\r\n      let grupoAreaKey = datas_areas.filter((y) =>\r\n        y[\"keys\"]\r\n          .toLowerCase()\r\n          .split(\", \")\r\n          .some((w) => userArea.toLowerCase().includes(w))\r\n      );\r\n      if (!userArea.toLowerCase().includes(\"gerencia\")) {\r\n        miData = miData.filter((x) => x.grupo === grupoAreaKey[0].grupo);\r\n      }\r\n      if (!userArea.toLowerCase().includes(\"gerencia\")) {\r\n        misReqs = incumplimientos.filter(\r\n          (x) => x.AreaResponsable === grupoAreaKey[0].grupo\r\n        );\r\n      }\r\n      misTasks = incumplimientos.filter((x) => x.Responsable === user);\r\n    }\r\n    setDesviaciones(miData);\r\n\r\n    setEstado(\"Cargado!\");\r\n    document.getElementById(\"pap_block\").classList.add(\"invisible\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"0%\";\r\n    elem.style.height = \"0%\";\r\n    setEstado();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!desviaciones) {\r\n      sacardata();\r\n    } else {\r\n    }\r\n  }, []);\r\n\r\n  async function registrar() {\r\n    setEstado(\"Guardando\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.height = \"100%\";\r\n    const creds = require(\"./sasso-app.json\"); // the file saved above\r\n    const doc = new GoogleSpreadsheet(\r\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\r\n    );\r\n    await doc.useServiceAccountAuth(creds);\r\n    await doc.loadInfo(); // loads document properties and worksheets\r\n    const sheet = doc.sheetsById[1249329599];\r\n    const rows = await sheet.getRows();\r\n    const cols = await sheet.columnCount;\r\n    let lastr = rows.length;\r\n    while (lastr--) {\r\n      if (\r\n        rows[lastr].Id == activeItem.split(\"_\")[0] &&\r\n        rows[lastr].SubCategoria == activeItem.split(\"_\")[1]\r\n      ) {\r\n        rows[lastr][\"PAP\"] = papName;\r\n        rows[lastr].PAPDesc = papDesc;\r\n        rows[lastr].AreaResponsable = papAreaResp;\r\n        rows[lastr].Estatus = \"Asignado\";\r\n        rows[lastr].SolicitadoPor = user;\r\n        rows[lastr].PAPFechaCreado = FechaStringLong(new Date());\r\n        await rows[lastr].save();\r\n        break;\r\n      }\r\n    }\r\n    setEstado(\"Guardado!\");\r\n    var elem = document.getElementById(\"cargando\");\r\n    elem.style.width = \"0%\";\r\n    elem.style.height = \"0%\";\r\n    setEstado();\r\n    setActiveItem();\r\n    sacardata();\r\n    setPapName();\r\n    setPapDesc();\r\n    setPapAreaResp();\r\n  }\r\n\r\n  function closeNav() {\r\n    var elem = document.getElementById(\"mySidenav\");\r\n    elem.style.width = \"0\";\r\n    elem.style.padding = \"0\";\r\n  }\r\n\r\n  function abrir() {\r\n    var elem = document.getElementById(\"mySidenav\");\r\n    elem.style.width = \"100%\";\r\n    elem.style.padding = \"5%\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"desv\">\r\n      <div style={{ height: \"100%\", width: \"100%\" }}>\r\n        <div\r\n          className=\"filtros\"\r\n          style={{\r\n            float: \"left\",\r\n            width: \"100%\",\r\n            padding: \"1%\",\r\n            backgroundColor: \"brown\",\r\n          }}\r\n        >\r\n          <div className=\"devTitle\">\r\n            <i class=\"material-icons regular\" onClick={abrir}>\r\n              menu\r\n            </i>\r\n            <h2 className=\"regular\" style={{ textAlign: \"center\" }}>\r\n              Desviaciones\r\n            </h2>\r\n          </div>\r\n          <div id=\"cargando\" className=\"cargando\">\r\n            {estado}\r\n          </div>\r\n          <div id=\"mySidenav\" className=\"sidenav\">\r\n            <div className=\"sticky\">\r\n              <a href=\"javascript:void(0)\" class=\"closebtn\" onClick={closeNav}>\r\n                &times;\r\n              </a>\r\n              <div style={{ width: \"100%\" }}>\r\n                {[\"Sin Acción\", \"En Proceso\", \"Cerrado\"].map((x) => {\r\n                  return (\r\n                    <h3\r\n                      key={\"Status-\" + x}\r\n                      className=\"status\"\r\n                      style={{\r\n                        opacity: Status === x ? 1 : 0.5,\r\n                        position: \"relative\",\r\n                      }}\r\n                      onClick={() => {\r\n                        setStatus(x);\r\n                      }}\r\n                    >\r\n                      {x}\r\n                    </h3>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            {desviaciones &&\r\n            desviaciones.filter((x) =>\r\n              Status === \"Sin Acción\"\r\n                ? x.Estatus === null\r\n                : Status === \"Cerrado\"\r\n                ? x.Estatus === \"Cerrado\"\r\n                : x.Estatus !== \"Cerrado\" && x.Estatus !== null\r\n            ).length > 0 ? (\r\n              desviaciones\r\n                .filter((x) =>\r\n                  Status === \"Sin Acción\"\r\n                    ? x.Estatus === null\r\n                    : Status === \"Cerrado\"\r\n                    ? x.Estatus === \"Cerrado\"\r\n                    : x.Estatus !== \"Cerrado\" && x.Estatus !== null\r\n                )\r\n                .map((x) => {\r\n                  return (\r\n                    <div\r\n                      className=\"desvDetalle\"\r\n                      key={x.Id + \"_\" + x.SubCategoria}\r\n                      onClick={() => {\r\n                        const name = x.Id + \"_\" + x.SubCategoria;\r\n                        var pap = desviaciones.filter(\r\n                          (y) =>\r\n                            x.Id === y.Id && x.SubCategoria === y.SubCategoria\r\n                        )[0][\"PAP\"];\r\n                        console.log(pap);\r\n                        var papdesc = desviaciones.filter(\r\n                          (y) =>\r\n                            x.Id === y.Id && x.SubCategoria === y.SubCategoria\r\n                        )[0].PAPDesc;\r\n                        console.log(papdesc);\r\n                        setActiveItem(name);\r\n                        setPapAreaResp(\r\n                          desviaciones.filter(\r\n                            (y) =>\r\n                              x.Id === y.Id && x.SubCategoria === y.SubCategoria\r\n                          )[0].AreaResponsable\r\n                        );\r\n                        setPapName(pap);\r\n                        setPapDesc(papdesc);\r\n                        document.getElementById(\"papname\").value = pap;\r\n                        document.getElementById(\"papdesc\").value = papdesc;\r\n                        document\r\n                          .getElementById(\"pap_block\")\r\n                          .classList.remove(\"invisible\");\r\n                        closeNav();\r\n                      }}\r\n                    >\r\n                      <div>{x.Usuario}</div>\r\n                      <div>{x.Area}</div>\r\n                      <div>\r\n                        {FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido))}\r\n                      </div>\r\n                      <div>{x.Tipo}</div>\r\n                      <div>{x.Categoria}</div>\r\n                      <div>{x.SubCategoria}</div>\r\n                    </div>\r\n                  );\r\n                })\r\n            ) : (\r\n              <div className=\"desvDetalle\">Sin Desviaciones</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"detalle rojo\">\r\n          {activeItem && (\r\n            <div className=\"desvImg\">\r\n              <img\r\n                src={\r\n                  desviaciones.filter(\r\n                    (x) =>\r\n                      x.Id === activeItem.split(\"_\")[0] &&\r\n                      x.SubCategoria === activeItem.split(\"_\")[1]\r\n                  )[0].Imagen === null\r\n                    ? dummy\r\n                    : desviaciones.filter(\r\n                        (x) =>\r\n                          x.Id === activeItem.split(\"_\")[0] &&\r\n                          x.SubCategoria === activeItem.split(\"_\")[1]\r\n                      )[0].Imagen\r\n                }\r\n                alt=\"imagen\"\r\n                width=\"40%\"\r\n              ></img>\r\n            </div>\r\n          )}\r\n          {activeItem && (\r\n            <div className=\"detalleContent\">\r\n              <h4>\r\n                {\r\n                  desviaciones.filter(\r\n                    (x) =>\r\n                      x.Id === activeItem.split(\"_\")[0] &&\r\n                      x.SubCategoria === activeItem.split(\"_\")[1]\r\n                  )[0].Id\r\n                }\r\n              </h4>\r\n              <h5>\r\n                Desviación:{\" \"}\r\n                {\r\n                  desviaciones.filter(\r\n                    (x) =>\r\n                      x.Id === activeItem.split(\"_\")[0] &&\r\n                      x.SubCategoria === activeItem.split(\"_\")[1]\r\n                  )[0].SubCategoria\r\n                }\r\n              </h5>\r\n              <h5>\r\n                Detalle:{\" \"}\r\n                {desviaciones.filter(\r\n                  (x) =>\r\n                    x.Id === activeItem.split(\"_\")[0] &&\r\n                    x.SubCategoria === activeItem.split(\"_\")[1]\r\n                )[0].Detalle === null\r\n                  ? \"Sin Detalle\"\r\n                  : desviaciones.filter(\r\n                      (x) =>\r\n                        x.Id === activeItem.split(\"_\")[0] &&\r\n                        x.SubCategoria === activeItem.split(\"_\")[1]\r\n                    )[0].Detalle}\r\n              </h5>\r\n              {desviaciones.filter(\r\n                (x) =>\r\n                  x.Id === activeItem.split(\"_\")[0] &&\r\n                  x.SubCategoria === activeItem.split(\"_\")[1]\r\n              )[0].PersonasObservadas !== null && (\r\n                <h5>\r\n                  Personas Observadas:{\" \"}\r\n                  {\r\n                    desviaciones.filter(\r\n                      (x) =>\r\n                        x.Id === activeItem.split(\"_\")[0] &&\r\n                        x.SubCategoria === activeItem.split(\"_\")[1]\r\n                    )[0].PersonasObservadas\r\n                  }\r\n                </h5>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"detalle corral\">\r\n          {\r\n            <div id=\"pap_block\" className=\"pap invisible\">\r\n              <form>\r\n                <div className=\"PACname\">\r\n                  <label\r\n                    onClick={() => {\r\n                      console.log(\r\n                        desviaciones.filter(\r\n                          (y) =>\r\n                            activeItem.split(\"_\")[0] === y.Id &&\r\n                            activeItem.split(\"_\")[1] === y.SubCategoria\r\n                        )[0],\r\n                        papAreaResp,\r\n                        papDesc,\r\n                        papName\r\n                      );\r\n                    }}\r\n                  >\r\n                    Plan de Acción Preventiva *\r\n                  </label>\r\n                </div>\r\n                <input\r\n                  style={{\r\n                    border: !papName ? \"2px solid crimson\" : \"1px solid green\",\r\n                  }}\r\n                  type=\"text\"\r\n                  id=\"papname\"\r\n                  name=\"papname\"\r\n                  placeholder=\"Nombre del Plan..\"\r\n                  onChange={(e) => {\r\n                    setPapName(e.target.value);\r\n                  }}\r\n                />\r\n\r\n                <label>Descripción *</label>\r\n                <textarea\r\n                  style={{\r\n                    border: !papDesc ? \"2px solid crimson\" : \"1px solid green\",\r\n                  }}\r\n                  id=\"papdesc\"\r\n                  name=\"papdesc\"\r\n                  placeholder=\"Detalle del Plan..\"\r\n                  onChange={(e) => {\r\n                    setPapDesc(e.target.value);\r\n                  }}\r\n                />\r\n\r\n                <label>Area Responsable *</label>\r\n                <select\r\n                  style={{\r\n                    border: !papAreaResp\r\n                      ? \"2px solid crimson\"\r\n                      : \"1px solid green\",\r\n                  }}\r\n                  id=\"arearesp\"\r\n                  name=\"arearesp\"\r\n                  onChange={(e) => {\r\n                    setPapAreaResp(e.target.value);\r\n                  }}\r\n                >\r\n                  {activeItem &&\r\n                    desviaciones.filter(\r\n                      (y) =>\r\n                        activeItem.split(\"_\")[0] === y.Id &&\r\n                        activeItem.split(\"_\")[1] === y.SubCategoria\r\n                    )[0].AreaResponsable === null && (\r\n                      <option disabled hidden value=\"Seleccionar Area\" selected>\r\n                        Seleccionar Area\r\n                      </option>\r\n                    )}\r\n\r\n                  {grupoArea &&\r\n                    grupoArea\r\n                      .filter((x) => x != \"Todas\")\r\n                      .map((x) => {\r\n                        return x === papAreaResp ? (\r\n                          <option key={\"area\" + x} value={x} selected>\r\n                            {x}\r\n                          </option>\r\n                        ) : (\r\n                          <option key={\"area\" + x} value={x}>\r\n                            {x}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                </select>\r\n              </form>\r\n              <button\r\n                disabled={!papAreaResp || !papName || !papDesc}\r\n                className={\r\n                  !papAreaResp || !papName || !papDesc\r\n                    ? \"submit deshabilitado\"\r\n                    : \"submit\"\r\n                }\r\n                onClick={registrar}\r\n              >\r\n                Asignar\r\n              </button>\r\n            </div>\r\n          }\r\n          {activeItem && <div className=\"pap\"></div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Desviaciones;\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport \"./reportes_home.css\";\nimport { useHistory } from \"react-router-dom\";\nimport dummy from \"./Dummy.png\";\nimport { Contexto } from \"./Contexto\";\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\n\nfunction ExcelDateToJSDate(serial) {\n  var utc_days = Math.floor(serial - 25568);\n  var utc_value = utc_days * 86400;\n  var date_info = new Date(utc_value * 1000);\n\n  var fractional_day = serial - Math.floor(serial) + 0.0000001;\n\n  var total_seconds = Math.floor(86400 * fractional_day);\n\n  var seconds = total_seconds % 60;\n\n  total_seconds -= seconds;\n\n  var hours = Math.floor(total_seconds / (60 * 60));\n  var minutes = Math.floor(total_seconds / 60) % 60;\n\n  var date_data = new Date(\n    date_info.getFullYear(),\n    date_info.getMonth(),\n    date_info.getDate(),\n    hours,\n    minutes,\n    seconds\n  );\n\n  return date_data;\n}\n\nfunction FechaStringShort(fecha) {\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\n  return fechaStr;\n}\n\nexport default function ReportHome({ user }) {\n  const history = useHistory();\n  const [data, setData] = useState();\n  const [areas, setAreas] = useState();\n  const {\n    [\"grupoArea\"]: [grupoArea, setGrupoArea],\n  } = useContext(Contexto);\n  const {\n    [\"tipoReporte\"]: [tipoReporte, setTipoReporte],\n  } = useContext(Contexto);\n  function HandleNuevo() {\n    if (tipoReporte === \"Reporte de Recorrido\") {\n      history.push(\"/recorrido\");\n    } else {\n      history.push(\"/reporte_turno\");\n    }\n  }\n  const [slideIdx, setSlideIdx] = useState(0);\n  const [filtrado, setfiltrado] = useState();\n\n  function changeSlide(e) {\n    let x;\n    e.target.className === \"next\" ? (x = 1) : (x = -1);\n    let newIdx = slideIdx + x;\n    var elem = document.getElementsByClassName(\"mySlides\");\n    if (newIdx >= elem.length) {\n      newIdx = 0;\n    } else if (newIdx < 0) {\n      newIdx = elem.length - 1;\n    }\n    elem[slideIdx].classList.remove(\"default\");\n    elem[newIdx].classList.add(\"default\");\n    setSlideIdx(newIdx);\n  }\n\n  const [activeMenu, setActiveMenu] = useState(0);\n\n  const sacardata = async () => {\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"100%\";\n    elem.style.height = \"100%\";\n    let data = [];\n    let datas = [];\n    const creds = require(\"./sasso-app.json\"); // the file saved above\n    const doc = new GoogleSpreadsheet(\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\n    );\n    await doc.useServiceAccountAuth(creds);\n    await doc.loadInfo(); // loads document properties and worksheets\n    let sheet = doc.sheetsById[1249329599];\n    let rows = await sheet.getRows();\n    let cols = await sheet.columnCount;\n    let encabezado = await sheet.headerValues;\n\n    let lastr = rows.length + 1;\n    var j, i;\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\n    await sheet.loadCells({\n      // GridRange object\n      startRowIndex: 0,\n      endRowIndex: lastr,\n      startColumnIndex: 0,\n      endColumnIndex: cols,\n    });\n    for (j = 1; j < lastr; j++) {\n      data = [];\n      for (i = 0; i <= cols - 1; i++) {\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\n      }\n      datas.push(data);\n    }\n    //AREAS\n    sheet = doc.sheetsById[1705686078];\n    rows = await sheet.getRows();\n    cols = await sheet.columnCount;\n    encabezado = await sheet.headerValues;\n    let datas_areas = [];\n    lastr = rows.length + 1;\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\n    await sheet.loadCells({\n      // GridRange object\n      startRowIndex: 0,\n      endRowIndex: lastr,\n      startColumnIndex: 0,\n      endColumnIndex: cols,\n    });\n    for (j = 1; j < lastr; j++) {\n      data = [];\n      for (i = 0; i <= cols - 1; i++) {\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\n      }\n      datas_areas.push(data);\n    }\n    setAreas(datas_areas);\n    const unique = [...new Set(datas_areas.map((item) => item.grupo))];\n    unique.sort();\n    unique.unshift(\"Todas\");\n    setGrupoArea(unique);\n    //AREAS\n    datas.forEach((x) => {\n      x.grupo =\n        datas_areas[datas_areas.findIndex((y) => y.name === x.Area)].grupo;\n      if (x.Incumple === \"Y\") {\n        x.cumple = 0;\n      } else {\n        x.cumple = 1;\n      }\n      x.total = 1;\n    });\n\n    setData(datas);\n\n    let d = new Date();\n    let dm7 = new Date();\n    dm7 = dm7.setDate(dm7.getDate() - 7);\n    d = FechaStringShort(d);\n    dm7 = FechaStringShort(dm7);\n    console.log(d, dm7);\n    let miReporte = datas.filter(\n      (x) =>\n        x.Reporte === tipoReporte &&\n        FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) <= d &&\n        FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) >= dm7\n    );\n    miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n    let listID = [...new Set(miReporte.map((x) => x.Id))];\n    setfiltrado(listID);\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"0%\";\n    elem.style.height = \"0%\";\n  };\n\n  const menu = [\"Últimos 7 días\", \"Este Mes\", \"Mis Reportes\", \"Otros\"];\n  function handleMenu(e) {\n    var elem = document.getElementsByClassName(\"item menu-boton\");\n    let idx = parseInt(e.target.name.split(\"-\")[0]);\n    let nombre = e.target.name.split(\"-\")[1];\n    elem[activeMenu].classList.remove(\"menu-activo\");\n    elem[idx].classList.add(\"menu-activo\");\n    setActiveMenu(idx);\n    if (idx === 0) {\n      let d = new Date();\n      let dm7 = new Date();\n      dm7 = dm7.setDate(dm7.getDate() - 7);\n      d = FechaStringShort(d);\n      dm7 = FechaStringShort(dm7);\n      console.log(d, dm7);\n      let miReporte = data.filter(\n        (x) =>\n          x.Reporte === tipoReporte &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) <= d &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) >= dm7\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    } else if (idx === 1) {\n      let miReporte = data.filter(\n        (x) =>\n          x.Reporte === tipoReporte &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)).substring(\n            5,\n            7\n          ) === FechaStringShort(new Date()).substring(5, 7)\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    } else if (idx === 2) {\n      let miReporte = data.filter(\n        (x) => x.Reporte === tipoReporte && x.Usuario === user\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    } else {\n      let miReporte = data.filter((x) => x.Reporte === tipoReporte);\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    }\n  }\n  useEffect(() => {\n    if (!data) {\n      sacardata();\n    } else {\n      var elem = document.getElementsByClassName(\"item menu-boton\");\n      for (var ele of elem) {\n        ele.classList.remove(\"menu-activo\");\n      }\n      elem[0].classList.add(\"menu-activo\");\n      setActiveMenu(0);\n      let d = new Date();\n      let dm7 = new Date();\n      dm7 = dm7.setDate(dm7.getDate() - 7);\n      d = FechaStringShort(d);\n      dm7 = FechaStringShort(dm7);\n      console.log(d, dm7);\n      let miReporte = data.filter(\n        (x) =>\n          x.Reporte === tipoReporte &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) <= d &&\n          FechaStringShort(ExcelDateToJSDate(x.FechaRecorrido)) >= dm7\n      );\n      miReporte.sort((a, b) => b.FechaRecorrido - a.FechaRecorrido);\n      let listID = [...new Set(miReporte.map((x) => x.Id))];\n      setfiltrado(listID);\n    }\n  }, [data, tipoReporte]);\n\n  return (\n    <div className=\"Contenedor\">\n      <div id=\"cargando\" className=\"cargando\">\n        <div className=\"loaderH\"></div>\n        Cargando...\n      </div>\n      <div className=\"ReporteHome\">\n        <h1 className=\"item cuatro\">{tipoReporte}</h1>\n        <div className=\"item cuatro\">\n          {data && (\n            <div class=\"slideshow-container\">\n              {[\n                ...new Set(\n                  data\n                    .sort((a, b) => b.FechaRecorrido - a.FechaRecorrido)\n                    .filter(\n                      (y) => y.Reporte === tipoReporte && y.Imagen != null\n                    )\n                    .map((o) => o.Imagen)\n                ),\n              ].map((y, idx) => {\n                let nombre = \"mySlides fade default\";\n                if (idx !== 0) {\n                  nombre = \"mySlides fade\";\n                }\n                if (idx < 10) {\n                  return (\n                    <div class={nombre}>\n                      <div class=\"numbertext\">\n                        {idx + 1}/\n                        {[\n                          ...new Set(\n                            data\n                              .sort(\n                                (a, b) => b.FechaRecorrido - a.FechaRecorrido\n                              )\n                              .filter(\n                                (y) =>\n                                  y.Reporte === tipoReporte && y.Imagen != null\n                              )\n                              .map((o) => o.Imagen)\n                          ),\n                        ].length >= 10\n                          ? 10\n                          : [\n                              ...new Set(\n                                data\n                                  .sort(\n                                    (a, b) =>\n                                      b.FechaRecorrido - a.FechaRecorrido\n                                  )\n                                  .filter(\n                                    (y) =>\n                                      y.Reporte === tipoReporte &&\n                                      y.Imagen != null\n                                  )\n                                  .map((o) => o.Imagen)\n                              ),\n                            ].length}\n                      </div>\n                      <img\n                        src={y}\n                        style={{ width: \"65%\" }}\n                        alt={data.filter((x) => x.Imagen === y)[0].Detalle}\n                      />\n                      <div class=\"text-carousel\">\n                        {data.filter((x) => x.Imagen === y)[0].Area}{\" \"}\n                        {FechaStringShort(\n                          ExcelDateToJSDate(\n                            data.filter((x) => x.Imagen === y)[0].FechaRecorrido\n                          )\n                        )}{\" \"}\n                        {data.filter((x) => x.Imagen === y)[0].Detalle}\n                      </div>\n                    </div>\n                  );\n                }\n              })}\n\n              <a class=\"prev\" onClick={changeSlide}>\n                &#10094;\n              </a>\n              <a class=\"next\" onClick={changeSlide}>\n                &#10095;\n              </a>\n            </div>\n          )}\n        </div>\n        <h3 className=\"item cuatro\">Desviaciones Recientes</h3>\n        {menu.map((x, idx) => {\n          let nombre = \"item menu-boton\";\n          if (idx === 0) {\n            nombre = \"item menu-boton menu-activo\";\n          }\n          return (\n            <button\n              className={nombre}\n              key={idx + \"-\" + x}\n              name={idx + \"-\" + x}\n              onClick={handleMenu}\n            >\n              {x}\n            </button>\n          );\n        })}\n        {filtrado &&\n          filtrado.map((x) => {\n            return (\n              <div className=\"item cuatro cartita\">\n                {activeMenu === 2 && (\n                  <button className=\"editarReporte\">\n                    {\" \"}\n                    <i class=\"material-icons\">mode_edit</i> Editar\n                  </button>\n                )}\n                <h4>\n                  {FechaStringShort(\n                    ExcelDateToJSDate(\n                      data.filter((o) => o.Id === x)[0].FechaRecorrido\n                    )\n                  )}\n                </h4>\n                <p>{data.filter((o) => o.Id === x)[0].Area}</p>\n                <p>{data.filter((o) => o.Id === x)[0].Usuario}</p>\n                {[\n                  ...new Set(\n                    data\n                      .filter((y) => y.Id === x && y.Imagen != null)\n                      .map((o) => o.Imagen)\n                  ),\n                ].length > 0 && (\n                  <div className=\"mini-carrusel\">\n                    {[\n                      ...new Set(\n                        data\n                          .filter((y) => y.Id === x && y.Imagen != null)\n                          .map((o) => o.Imagen)\n                      ),\n                    ].map((y) => {\n                      return (\n                        <p className=\"mini-carrusel-imagen\">\n                          <img src={y} width=\"50%\" alt={\"source: \" + y}></img>\n                        </p>\n                      );\n                    })}\n                  </div>\n                )}\n\n                {[\n                  ...new Set(\n                    data\n                      .filter((y) => y.Id === x && y.Incumple === \"Y\")\n                      .map((o) => o.SubCategoria)\n                  ),\n                ].length === 0 ? (\n                  <p style={{ textAlign: \"left\" }}>Sin Desviaciones</p>\n                ) : (\n                  <>\n                    <p style={{ textAlign: \"left\" }}>Desviaciones:</p>\n                    <p\n                      style={{ textAlign: \"left\" }}\n                      onClick={() =>\n                        console.log(\n                          new Set(\n                            data\n                              .filter((y) => y.Id === x && y.Incumple === \"Y\")\n                              .map((o) => o.Tipo + \": \" + o.SubCategoria)\n                          )\n                        )\n                      }\n                    >\n                      {[\n                        ...new Set(\n                          data\n                            .filter((y) => y.Id === x && y.Incumple === \"Y\")\n                            .map((o) => o.Tipo + \": \" + o.SubCategoria)\n                        ),\n                      ].join(\" / \")}\n                    </p>\n                  </>\n                )}\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport \"date-fns\";\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\nimport { Contexto } from \"./Contexto\";\nimport { useHistory } from \"react-router\";\nimport userData from \"./employee.json\";\nimport { storage } from \"./firebase/firebase\";\nimport imageCompression from \"browser-image-compression\";\n\nfunction sleep(milliseconds) {\n  const date = Date.now();\n  let currentDate = null;\n  do {\n    currentDate = Date.now();\n  } while (currentDate - date < milliseconds);\n}\n\nfunction FechaStringLong(fecha) {\n  var options = {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  };\n  var hora = new Intl.DateTimeFormat(\"en-GB\", options).format(fecha);\n  var fechaStr = hora;\n  return fechaStr;\n}\n\nfunction FechaStringShort(fecha) {\n  var ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(fecha);\n  var mo = new Intl.DateTimeFormat(\"en\", { month: \"numeric\" }).format(fecha);\n  var da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(fecha);\n  var fechaStr = `${ye}-${mo < 10 ? \"0\" + mo : mo}-${da}`;\n  return fechaStr;\n}\n\nfunction ActoCondiciones({ user, acto }) {\n  const [fecha, setFecha] = useState(FechaStringShort(new Date()));\n  const [areas, setAreas] = useState();\n  const [area, setArea] = useState();\n  const [buscarPO, setBuscarPO] = useState();\n  const [pObservadas, setPObservadas] = useState([]);\n  const [observacion, setObservacion] = useState();\n  const [accion, setAccion] = useState();\n  const [anexo, setAnexo] = useState();\n  const [previewImgs, setPreviewImgs] = useState([]);\n  const [imageAsFile, setImageAsFile] = useState([]);\n  const [imagenes, setImg] = useState([]);\n  const [caption, setCaption] = useState(\"Cargando...\");\n\n  const sacardata = async () => {\n    setCaption(\"Cargando...\");\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"100%\";\n    elem.style.height = \"100%\";\n    let data = [];\n    let datas = [];\n    const creds = require(\"./sasso-app.json\"); // the file saved above\n    const doc = new GoogleSpreadsheet(\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\n    );\n    await doc.useServiceAccountAuth(creds);\n    await doc.loadInfo(); // loads document properties and worksheets\n\n    //AREAS\n    let sheet = doc.sheetsById[1705686078];\n    let rows = await sheet.getRows();\n    let cols = await sheet.columnCount;\n    let encabezado = await sheet.headerValues;\n    let datas_areas = [];\n    let lastr = rows.length + 1;\n    //await sheet.loadCells(\"A1:V\" + lastr.toString());\n    await sheet.loadCells({\n      // GridRange object\n      startRowIndex: 0,\n      endRowIndex: lastr,\n      startColumnIndex: 0,\n      endColumnIndex: cols,\n    });\n    for (var j = 1; j < lastr; j++) {\n      data = [];\n      for (var i = 0; i <= cols - 1; i++) {\n        window[\"Celda\" + j + i] = sheet.getCell(j, i).value;\n        data[`${encabezado[i]}`] = window[\"Celda\" + j + i];\n      }\n      datas_areas.push(data);\n    }\n    setAreas(datas_areas);\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"0%\";\n    elem.style.height = \"0%\";\n  };\n\n  async function registrar() {\n    setCaption(\"Guardando...\");\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"100%\";\n    elem.style.height = \"100%\";\n\n    console.log(imagenes);\n    const creds = require(\"./sasso-app.json\"); // the file saved above\n    const doc = new GoogleSpreadsheet(\n      \"1N_nSzixyWg6OI7I7hTOQ-rfCpeln-pYV4FMtm17wIR0\"\n    );\n    await doc.useServiceAccountAuth(creds);\n    await doc.loadInfo(); // loads document properties and worksheets\n    const sheet = doc.sheetsById[1336569393];\n    const rows = await sheet.getRows();\n    const cols = await sheet.columnCount;\n    let lastr = rows.length;\n    try {\n      await sheet.addRow({\n        Area: area,\n        Usuario: user,\n        Fecha_Registro: FechaStringLong(new Date()),\n        Fecha: fecha,\n        Observacion: observacion,\n        Accion: accion,\n        Personas_Observadas: pObservadas.length > 0 ? pObservadas.join() : null,\n        Anexos: imagenes.length > 0 ? imagenes.join() : null,\n        Acto_Condicion: acto,\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    setArea();\n    setFecha(FechaStringShort(new Date()));\n    setPObservadas([]);\n    setObservacion();\n    setAccion();\n    setAnexo();\n    setPreviewImgs([]);\n    setImageAsFile([]);\n    setImg([]);\n    var are = document.getElementById(\"area\");\n    are.value = \"\";\n    var obs = document.getElementById(\"observacion\");\n    obs.value = \"\";\n    var acc = document.getElementById(\"accion\");\n    console.log(acc);\n    acc.value = \"\";\n    var elem = document.getElementById(\"cargando\");\n    elem.style.width = \"0%\";\n    elem.style.height = \"0%\";\n  }\n\n  async function handleFireBaseUpload(imagen) {\n    return new Promise((resolve, _reject) => {\n      const uploadTask = storage\n        .ref(`/images/Actos/${imagen.name}`)\n        .put(imagen);\n      uploadTask.on(\n        \"state_changed\",\n        (snapShot) => {\n          //takes a snap shot of the process as it is happening\n          console.log(snapShot);\n        },\n        (err) => {\n          //catches the errors\n          console.log(err);\n        },\n        () => {\n          // gets the functions from storage refences the image storage in firebase by the children\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\n          storage\n            .ref(\"images/Actos\")\n            .child(imagen.name)\n            .getDownloadURL()\n            .then(async (fireBaseUrl) => {\n              imagenes.push(fireBaseUrl);\n              resolve(\"OK\");\n            });\n        }\n      );\n    });\n  }\n\n  useEffect(() => {\n    if (!areas) {\n      sacardata();\n    } else {\n    }\n  }, []);\n\n  function handleArea(nombre, tipo) {\n    let elemValor = tipo === \"area\" ? \"area\" : \"personas\";\n    let lista = document.getElementsByClassName(\"acto-lista-data\");\n    let valor = document.getElementsByName(elemValor)[0];\n    if (tipo === \"area\") {\n      setArea(nombre);\n      valor.value = nombre;\n      lista[0].style.display = \"none\";\n    } else if (tipo === \"personas\") {\n      if (!pObservadas.includes(nombre)) {\n        setPObservadas((oldArray) => [...oldArray, nombre]);\n      }\n      lista[1].style.display = \"none\";\n    }\n  }\n\n  async function handleImageUpload(event) {\n    let archivos = event.target.files;\n    console.log(archivos);\n    if (archivos.length > 5 || archivos.length + previewImgs.length > 5) {\n      alert(\"Solo las primeras 5 fotos seran cargadas\");\n    }\n    var reader = new FileReader();\n    for (let archivo of archivos) {\n      reader.onload = function (e) {\n        let imagen = e.target.result;\n        setPreviewImgs((prev) => [...prev, imagen]);\n      };\n      reader.readAsDataURL(archivo);\n      const options = {\n        maxSizeMB: 1,\n        maxWidthOrHeight: 1920,\n        useWebWorker: true,\n      };\n      try {\n        const compressedFile = await imageCompression(archivo, options);\n        console.log(\n          \"compressedFile instanceof Blob\",\n          compressedFile instanceof Blob\n        ); // true\n        console.log(\n          `compressedFile size ${compressedFile.size / 1024 / 1024} MB`\n        ); // smaller than maxSizeMB\n        setImageAsFile((prev) => [...prev, compressedFile]);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  return (\n    <div\n      className=\"acto\"\n      onClick={() => {\n        console.log(area, pObservadas, anexo, imageAsFile, previewImgs);\n      }}\n    >\n      <div id=\"cargando\" className=\"cargando\">\n        <div className=\"loaderH\"></div>\n\n        {caption}\n      </div>\n      <div id=\"contenedor\">\n        <svg id=\"metro\">\n          <circle\n            id=\"low\"\n            r=\"50\"\n            cx=\"50%\"\n            cy=\"50%\"\n            stroke=\"grey\"\n            stroke-width=\"10\"\n            fill=\"none\"\n          ></circle>\n          <circle\n            id=\"low\"\n            r=\"50\"\n            cx=\"50%\"\n            cy=\"50%\"\n            stroke=\"blue\"\n            stroke-width=\"10\"\n            stroke-dasharray=\"300, 314\"\n            fill=\"none\"\n          ></circle>\n        </svg>\n        <div id=\"subtitulo\">\n          Seguridad <br></br> 99.9%\n        </div>\n      </div>\n      <div className=\"acto-item\">\n        <div style={{ display: \"flex\" }}>\n          <h1>{acto === \"acto\" ? \"ACTO INSEGURO\" : \"CONDICION INSEGURA\"}</h1>\n        </div>\n      </div>\n\n      <div className=\"acto-item\">\n        Fecha*\n        <div name=\"fecha\">\n          <input\n            type=\"date\"\n            defaultValue={fecha}\n            min={\"2022-01-01\"}\n            max={FechaStringShort(new Date())}\n            onChange={(e) => {\n              setFecha(e.target.value);\n            }}\n          ></input>\n        </div>\n      </div>\n      <div className=\"acto-item\">\n        Area*\n        <div className=\"acto-lista\">\n          <input\n            id=\"area\"\n            name=\"area\"\n            className=\"acto-lista-search\"\n            type=\"search\"\n            placeholder=\"Seleccionar Area...\"\n            onFocus={() => {\n              let elem = document.getElementsByClassName(\"acto-lista-data\")[0];\n              elem.style.display = \"block\";\n            }}\n            onBlur={() => {\n              let elem = document.getElementsByClassName(\"acto-lista-data\")[0];\n            }}\n            onChange={(e) => {\n              setArea(e.target.value);\n            }}\n          ></input>\n          <div className=\"acto-lista-data\">\n            {areas &&\n              areas.map((x) => {\n                if (\n                  area\n                    ? x.name.toLowerCase().includes(area.toLowerCase())\n                    : true\n                ) {\n                  return (\n                    <div className=\"acto-lista-item\">\n                      <ol\n                        onClick={() => {\n                          handleArea(x.name, \"area\");\n                        }}\n                      >\n                        {x.name}\n                      </ol>\n                    </div>\n                  );\n                }\n              })}\n          </div>\n        </div>\n      </div>\n      <div className=\"acto-item\">\n        Observación*\n        <div name=\"observacion\">\n          <textarea\n            id=\"observacion\"\n            placeholder=\"Detalle...\"\n            onChange={(e) => {\n              setObservacion(e.target.value);\n            }}\n          ></textarea>\n        </div>\n      </div>\n      <div className=\"acto-item\">\n        Anexos\n        <div name=\"anexo\">\n          <label className=\"custom-file-upload\">\n            <input\n              className=\"custom-file-input\"\n              type=\"file\"\n              multiple=\"multiple\"\n              accept=\"image/png, image/gif, image/jpeg\"\n              onChange={(e) => {\n                handleImageUpload(e);\n              }}\n            ></input>\n            <i className=\"material-icons\">add_a_photo</i>\n          </label>\n          <div style={{ margin: \"5px\", position: \"relative\" }}>\n            {previewImgs.length > 0 &&\n              previewImgs.map((x, idx) => {\n                return (\n                  <div style={{ position: \"relative\" }}>\n                    <img src={x} alt=\"\" width=\"240px\" className=\"imgPrev\"></img>\n                    <i\n                      className=\"material-icons eliminar\"\n                      onClick={() => {\n                        setImageAsFile((prev) =>\n                          prev.filter((n, i) => i !== idx)\n                        );\n                        setPreviewImgs((prev) =>\n                          prev.filter((n, i) => i !== idx)\n                        );\n                      }}\n                    >\n                      clear\n                    </i>\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n      </div>\n      <div className=\"acto-item\">\n        Personas Observadas {acto === \"acto\" && \"*\"}\n        <div className=\"acto-lista\">\n          {pObservadas.length != 0 && (\n            <div className=\"listaPersonas\">\n              {pObservadas.map((x) => {\n                return (\n                  <div style={{ height: \"30px\", position: \"relative\" }}>\n                    {x}\n                    <i\n                      className=\"material-icons eliminar\"\n                      onClick={() => {\n                        setPObservadas((prev) => prev.filter((n) => n !== x));\n                      }}\n                    >\n                      {\" \"}\n                      clear\n                    </i>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n          <input\n            className=\"acto-lista-search\"\n            type=\"search\"\n            placeholder=\"Seleccionar Personas Observadas...\"\n            onFocus={() => {\n              let elem = document.getElementsByClassName(\"acto-lista-data\")[1];\n              elem.style.display = \"block\";\n            }}\n            onBlur={() => {\n              let elem = document.getElementsByClassName(\"acto-lista-data\")[1];\n            }}\n            onChange={(e) => {\n              setBuscarPO(e.target.value);\n            }}\n          ></input>\n          <div className=\"acto-lista-data\">\n            {userData &&\n              userData.map((x) => {\n                if (\n                  buscarPO\n                    ? x.Nombre.toLowerCase().includes(buscarPO.toLowerCase())\n                    : true\n                ) {\n                  return (\n                    <div className=\"acto-lista-item\">\n                      <ol\n                        onClick={() => {\n                          handleArea(x.Nombre, \"personas\");\n                        }}\n                      >\n                        {x.Nombre}\n                      </ol>\n                    </div>\n                  );\n                }\n              })}\n          </div>\n        </div>\n      </div>\n      <div className=\"acto-item\">\n        Acción Tomada*\n        <div name=\"accion\">\n          <textarea\n            id=\"accion\"\n            placeholder=\"Detalle...\"\n            onChange={(e) => {\n              setAccion(e.target.value);\n            }}\n          ></textarea>\n        </div>\n      </div>\n      {\n        <div className=\"acto-item\">\n          <button\n            className=\"acto-item-button\"\n            disabled={\n              !area ||\n              !observacion ||\n              !accion ||\n              (acto === \"acto\" && pObservadas.length === 0)\n            }\n            onClick={async () => {\n              setCaption(\"Subiendo Imagenes...\");\n              var elem = document.getElementById(\"cargando\");\n              elem.style.width = \"100%\";\n              elem.style.height = \"100%\";\n              if (imageAsFile.length > 0) {\n                for (var imagen of imageAsFile) {\n                  await handleFireBaseUpload(imagen);\n                }\n              }\n              registrar();\n            }}\n          >\n            Guardar\n          </button>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default ActoCondiciones;\n","import React, { useState, useContext } from \"react\";\nimport \"./App.css\";\nimport \"./App_extra.css\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport Home from \"./Home.js\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport userData from \"./employee.json\";\nimport Add from \"./images/fondo.jpg\";\nimport {\n  Menu,\n  Icon,\n  Button,\n  Segment,\n  Sidebar,\n  Dropdown,\n} from \"semantic-ui-react\";\nimport Observacion from \"./observacion\";\nimport Tareas from \"./tareas\";\nimport Consultas from \"./consulta\";\nimport Registrar from \"./registrar\";\nimport Login from \"./Login\";\nimport { Contexto } from \"./Contexto\";\nimport Perfil from \"./profile\";\nimport Schedule from \"./schedule\";\nimport ReporteDeTurno from \"./reporteDeTurno\";\nimport Minuta from \"./minuta\";\nimport Desviaciones from \"./desviaciones\";\nimport ReportHome from \"./reportes_home\";\nimport ActoCondiciones from \"./aci\";\n\nfunction App() {\n  let iniciado = null;\n  let caption = \"Sign In\";\n  if (sessionStorage.getItem(\"user\")) {\n    iniciado = sessionStorage.user;\n    caption = \"Sign Out\";\n  } else if (localStorage.getItem(\"user\")) {\n    iniciado = localStorage.user;\n    caption = \"Sign Out\";\n  }\n  const {\n    [\"user\"]: [user, setUser],\n  } = useContext(Contexto);\n  const {\n    [\"pagina\"]: [pagina, setPagina],\n  } = useContext(Contexto);\n  const {\n    [\"width\"]: [width, setWidth],\n  } = useContext(Contexto);\n  const breakpoint = 620;\n  const {\n    [\"areas\"]: [areas, setAreas],\n  } = useContext(Contexto);\n  const {\n    [\"tipoReporte\"]: [tipoReporte, setTipoReporte],\n  } = useContext(Contexto);\n  const [session, setSession] = useState(caption);\n  const [open, setOpen] = React.useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [activeItem, setActiveItem] = useState(\"\");\n  const [recordar, setRecordar] = useState(false);\n  const [visible, setVisible] = useState(false);\n\n  const handleItemClick = (e, { name }) => {\n    setActiveItem(name);\n  };\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"userPassword\") {\n      setPassword(value);\n    }\n  };\n\n  const login = (event, password) => {\n    event.preventDefault();\n    var found = false;\n    for (var i = 0; i < userData.length; i++) {\n      if (userData[i].id === password) {\n        found = true;\n        setUser(userData[i].Nombre);\n        sessionStorage.user = userData[i].Nombre;\n        if (recordar) {\n          localStorage.user = userData[i].Nombre;\n        }\n        setSession(\"Sign Out\");\n        break;\n      }\n    }\n    if (!found) alert(`Usuario No encontrado`);\n  };\n\n  React.useEffect(() => {\n    const handleWindowResize = () => setWidth(window.innerWidth);\n    window.addEventListener(\"resize\", handleWindowResize);\n\n    // Return a function from the effect that removes the event listener\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n\n  return (\n    <Router basename={\"/\"}>\n      {pagina == \"/Reporte\" && (\n        <Link\n          to={\n            tipoReporte == \"Reporte de Turno\" ? \"/reporte_turno\" : \"/recorrido\"\n          }\n          onClick={() => {\n            setPagina(\n              tipoReporte == \"Reporte de Turno\"\n                ? \"/reporte_turno\"\n                : \"/recorrido\"\n            );\n          }}\n        >\n          <i class=\"material-icons nuevo-reporte\">add_circle_outline</i>\n        </Link>\n      )}\n      {pagina == \"/Reporte\" && (\n        <span className=\"nuevo-reporte-caption\">Nuevo Reporte</span>\n      )}\n      <div style={{ padding: \"2%\", backgroundImage: `url(${Add})` }}>\n        <Menu color=\"red\" size=\"huge\">\n          <Menu.Item\n            header\n            as={Link}\n            to=\"/home\"\n            onClick={() => {\n              setPagina(\"/\");\n            }}\n          >\n            <b style={{ color: \"red\" }}>Mi Cultura QSEB</b>\n          </Menu.Item>\n          {width < breakpoint ? (\n            <Menu.Item position=\"right\">\n              <Icon\n                size=\"large\"\n                name=\"bars\"\n                color=\"red\"\n                onClick={() => {\n                  setVisible(true);\n                }}\n              />\n            </Menu.Item>\n          ) : (\n            <>\n              <Dropdown item text=\"Reportes\">\n                <Dropdown.Menu>\n                  <Dropdown.Item\n                    text=\"Reporte de Turno\"\n                    as={Link}\n                    to={user ? \"/Reporte\" : \"/Login\"}\n                    onClick={() => {\n                      setTipoReporte(\"Reporte de Turno\");\n                      setPagina(\"/Reporte\");\n                      setAreas();\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Recorridos\"\n                    as={Link}\n                    to={user ? \"/Reporte\" : \"/Login\"}\n                    onClick={() => {\n                      setTipoReporte(\"Reporte de Recorrido\");\n                      setPagina(\"/Reporte\");\n                      setAreas();\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Programar Recorridos\"\n                    as={Link}\n                    to={user ? \"/programar\" : \"/Login\"}\n                    onClick={() => {\n                      setPagina(\"/programar\");\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Actos Inseguros\"\n                    as={Link}\n                    to={user ? \"/acto_inseguro\" : \"/Login\"}\n                    onClick={() => {\n                      setPagina(\"/acto_inseguro\");\n                    }}\n                  />\n                  <Dropdown.Item\n                    text=\"Condiciones Inseguras\"\n                    as={Link}\n                    to={user ? \"/condicion_insegura\" : \"/Login\"}\n                    onClick={() => {\n                      setVisible(false);\n                      setPagina(\"/condicion_insegura\");\n                    }}\n                  />\n                </Dropdown.Menu>\n              </Dropdown>\n              <Menu.Item name=\"Noticias\">Noticias</Menu.Item>\n              <Menu.Item position=\"right\">\n                {user ? (\n                  //<Icon\n                  //  size=\"large\"\n                  // name=\"user circle\"\n                  //  color={user ? \"green\" : \"black\"}\n                  //>\n                  <Button\n                    icon=\"user \"\n                    color=\"green\"\n                    circular\n                    as={Link}\n                    to=\"/perfil\"\n                  />\n                ) : (\n                  <Button\n                    content=\"Iniciar Sesion\"\n                    style={{ backgroundColor: \"#F44336\", color: \"white\" }}\n                    as=\"a\"\n                    href=\"/Login\"\n                  />\n                )}\n              </Menu.Item>\n            </>\n          )}\n        </Menu>\n        <Sidebar.Pushable as={Segment}>\n          <Sidebar\n            as={Menu}\n            animation=\"overlay\"\n            icon=\"labeled\"\n            onHide={() => setVisible(false)}\n            vertical\n            direction=\"right\"\n            visible={visible}\n            width=\"wide\"\n            color=\"red\"\n          >\n            <Menu.Item\n              name=\"Reporte\"\n              as={Link}\n              to={user ? \"/Reporte\" : \"/Login\"}\n              onClick={() => {\n                setTipoReporte(\"Reporte de Turno\");\n                setVisible(false);\n                setPagina(\"/Reporte\");\n                setAreas();\n              }}\n            >\n              Reporte de Turno\n            </Menu.Item>\n            <Menu.Item\n              name=\"Recorridos\"\n              as={Link}\n              to={user ? \"/Reporte\" : \"/Login\"}\n              onClick={() => {\n                setTipoReporte(\"Reporte de Recorrido\");\n                setVisible(false);\n                setPagina(\"/Reporte\");\n                setAreas();\n              }}\n            >\n              Recorridos\n            </Menu.Item>\n            <Menu.Item\n              name=\"ProgramarRecorridos\"\n              as={Link}\n              to={user ? \"/programar\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n                setPagina(\"/programar\");\n              }}\n            >\n              Programar Recorridos\n            </Menu.Item>\n            <Menu.Item\n              name=\"ActosI\"\n              as={Link}\n              to={user ? \"/acto_inseguro\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n                setPagina(\"/acto_inseguro\");\n              }}\n            >\n              Actos Inseguros\n            </Menu.Item>\n            <Menu.Item\n              name=\"CondicionesI\"\n              as={Link}\n              to={user ? \"/condicion_insegura\" : \"/Login\"}\n              onClick={() => {\n                setVisible(false);\n                setPagina(\"/condicion_insegura\");\n              }}\n            >\n              Condiciones Inseguras\n            </Menu.Item>\n            <Menu.Item name=\"Noticias\">Noticias</Menu.Item>\n            {user && user.includes(\"Cheung\") && (\n              <Menu.Item\n                name=\"Minutas\"\n                as={Link}\n                to={user ? \"/minutas\" : \"/Login\"}\n                onClick={() => {\n                  setVisible(false);\n                  setPagina(\"/minutas\");\n                }}\n              >\n                Minutas\n              </Menu.Item>\n            )}\n            <Menu.Item\n              name=\"Perfil\"\n              as={Link}\n              to={user ? \"/perfil\" : \"/Login\"}\n              onClick={() => {\n                setPagina(user ? \"/perfil\" : \"/Login\");\n                setVisible(false);\n              }}\n            >\n              {user ? (\n                user\n              ) : (\n                <Button\n                  content=\"Iniciar Sesion\"\n                  style={{ backgroundColor: \"#F44336\", color: \"white\" }}\n                  as={Link}\n                  onClick={() => {\n                    setPagina(user ? \"/perfil\" : \"/Login\");\n                    setVisible(false);\n                  }}\n                  to=\"/Login\"\n                />\n              )}\n            </Menu.Item>\n          </Sidebar>\n\n          <Sidebar.Pusher>\n            <Segment\n              style={{\n                backgroundColor: \"whitesmoke\",\n                height: \"90vh\",\n                overflowY: \"auto\",\n              }}\n            >\n              <Switch>\n                <Route\n                  exact\n                  path=\"/home\"\n                  render={(props) =>\n                    user ? (\n                      <Home {...props} user={user} />\n                    ) : (\n                      <Login {...props} user={user} />\n                    )\n                  }\n                />\n                <Route\n                  path=\"/registros\"\n                  render={(props) => <Registrar {...props} user={user} />}\n                />\n                <Route\n                  path=\"/tareas\"\n                  render={(props) => <Tareas {...props} user={user} />}\n                />\n                <Route\n                  path=\"/observaciones\"\n                  render={(props) => <Consultas {...props} user={user} />}\n                />\n                <Route\n                  path=\"/observacion/:id\"\n                  render={(props) => <Observacion {...props} user={user} />}\n                />\n                <Route\n                  path=\"/Login\"\n                  render={(props) => <Login {...props} user={user} />}\n                />\n\n                <Route\n                  path=\"/reporte\"\n                  render={(props) => <ReportHome {...props} user={user} />}\n                />\n                <Route\n                  path=\"/reporte_turno\"\n                  render={(props) => <ReporteDeTurno {...props} user={user} />}\n                />\n                <Route\n                  path=\"/recorrido\"\n                  render={(props) => <ReporteDeTurno {...props} user={user} />}\n                />\n                <Route\n                  path=\"/acto_inseguro\"\n                  render={(props) => (\n                    <ActoCondiciones {...props} user={user} acto={\"acto\"} />\n                  )}\n                />\n                <Route\n                  path=\"/condicion_insegura\"\n                  render={(props) => (\n                    <ActoCondiciones {...props} user={user} acto={\"cond\"} />\n                  )}\n                />\n                <Route\n                  path=\"/perfil\"\n                  render={(props) => <Perfil {...props} user={user} />}\n                />\n                <Route\n                  path=\"/desviaciones\"\n                  render={(props) => <Desviaciones {...props} user={user} />}\n                />\n                <Route\n                  path=\"/minutas\"\n                  render={(props) => <Minuta {...props} user={user} />}\n                />\n                <Route\n                  path=\"/programar\"\n                  render={(props) => <Schedule {...props} user={user} />}\n                />\n                <Route\n                  path=\"/\"\n                  //render={(props) => <Home {...props} user={user} />}\n                  render={(props) =>\n                    user ? (\n                      <Home {...props} user={user} />\n                    ) : (\n                      <Login {...props} user={user} />\n                    )\n                  }\n                />\n              </Switch>\n            </Segment>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ContextoProvider from \"./Contexto\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextoProvider>\n      <App />\n    </ContextoProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}